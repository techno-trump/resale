(()=>{var t={181:(t,e,n)=>{var i=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,l="object"==typeof self&&self&&self.Object===Object&&self,c=u||l||Function("return this")(),d=Object.prototype.toString,h=Math.max,p=Math.min,f=function(){return c.Date.now()};function m(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function g(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==d.call(t)}(t))return NaN;if(m(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=m(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var n=r.test(t);return n||o.test(t)?a(t.slice(2),n?2:8):s.test(t)?NaN:+t}t.exports=function(t,e,n){var i,s,r,o,a,u,l=0,c=!1,d=!1,v=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function b(e){var n=i,r=s;return i=s=void 0,l=e,o=t.apply(r,n)}function x(t){var n=t-u;return void 0===u||n>=e||n<0||d&&t-l>=r}function y(){var t=f();if(x(t))return k(t);a=setTimeout(y,function(t){var n=e-(t-u);return d?p(n,r-(t-l)):n}(t))}function k(t){return a=void 0,v&&i?b(t):(i=s=void 0,o)}function w(){var t=f(),n=x(t);if(i=arguments,s=this,u=t,n){if(void 0===a)return function(t){return l=t,a=setTimeout(y,e),c?b(t):o}(u);if(d)return a=setTimeout(y,e),b(u)}return void 0===a&&(a=setTimeout(y,e)),o}return e=g(e)||0,m(n)&&(c=!!n.leading,r=(d="maxWait"in n)?h(g(n.maxWait)||0,e):r,v="trailing"in n?!!n.trailing:v),w.cancel=function(){void 0!==a&&clearTimeout(a),l=0,i=u=s=a=void 0},w.flush=function(){return void 0===a?o:k(f())},w}},228:t=>{"use strict";var e=Object.prototype.hasOwnProperty,n="~";function i(){}function s(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function r(t,e,i,r,o){if("function"!=typeof i)throw new TypeError("The listener must be a function");var a=new s(i,r||t,o),u=n?n+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],a]:t._events[u].push(a):(t._events[u]=a,t._eventsCount++),t}function o(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(n=!1)),a.prototype.eventNames=function(){var t,i,s=[];if(0===this._eventsCount)return s;for(i in t=this._events)e.call(t,i)&&s.push(n?i.slice(1):i);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(t)):s},a.prototype.listeners=function(t){var e=n?n+t:t,i=this._events[e];if(!i)return[];if(i.fn)return[i.fn];for(var s=0,r=i.length,o=new Array(r);s<r;s++)o[s]=i[s].fn;return o},a.prototype.listenerCount=function(t){var e=n?n+t:t,i=this._events[e];return i?i.fn?1:i.length:0},a.prototype.emit=function(t,e,i,s,r,o){var a=n?n+t:t;if(!this._events[a])return!1;var u,l,c=this._events[a],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,i),!0;case 4:return c.fn.call(c.context,e,i,s),!0;case 5:return c.fn.call(c.context,e,i,s,r),!0;case 6:return c.fn.call(c.context,e,i,s,r,o),!0}for(l=1,u=new Array(d-1);l<d;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var h,p=c.length;for(l=0;l<p;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),d){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,i);break;case 4:c[l].fn.call(c[l].context,e,i,s);break;default:if(!u)for(h=1,u=new Array(d-1);h<d;h++)u[h-1]=arguments[h];c[l].fn.apply(c[l].context,u)}}return!0},a.prototype.on=function(t,e,n){return r(this,t,e,n,!1)},a.prototype.once=function(t,e,n){return r(this,t,e,n,!0)},a.prototype.removeListener=function(t,e,i,s){var r=n?n+t:t;if(!this._events[r])return this;if(!e)return o(this,r),this;var a=this._events[r];if(a.fn)a.fn!==e||s&&!a.once||i&&a.context!==i||o(this,r);else{for(var u=0,l=[],c=a.length;u<c;u++)(a[u].fn!==e||s&&!a[u].once||i&&a[u].context!==i)&&l.push(a[u]);l.length?this._events[r]=1===l.length?l[0]:l:o(this,r)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&o(this,e)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a},858:(t,e,n)=>{var i="Expected a function",s=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,u=parseInt,l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,d=l||c||Function("return this")(),h=Object.prototype.toString,p=Math.max,f=Math.min,m=function(){return d.Date.now()};function g(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function v(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==h.call(t)}(t))return NaN;if(g(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=g(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var n=o.test(t);return n||a.test(t)?u(t.slice(2),n?2:8):r.test(t)?NaN:+t}t.exports=function(t,e,n){var s=!0,r=!0;if("function"!=typeof t)throw new TypeError(i);return g(n)&&(s="leading"in n?!!n.leading:s,r="trailing"in n?!!n.trailing:r),function(t,e,n){var s,r,o,a,u,l,c=0,d=!1,h=!1,b=!0;if("function"!=typeof t)throw new TypeError(i);function x(e){var n=s,i=r;return s=r=void 0,c=e,a=t.apply(i,n)}function y(t){var n=t-l;return void 0===l||n>=e||n<0||h&&t-c>=o}function k(){var t=m();if(y(t))return w(t);u=setTimeout(k,function(t){var n=e-(t-l);return h?f(n,o-(t-c)):n}(t))}function w(t){return u=void 0,b&&s?x(t):(s=r=void 0,a)}function _(){var t=m(),n=y(t);if(s=arguments,r=this,l=t,n){if(void 0===u)return function(t){return c=t,u=setTimeout(k,e),d?x(t):a}(l);if(h)return u=setTimeout(k,e),x(l)}return void 0===u&&(u=setTimeout(k,e)),a}return e=v(e)||0,g(n)&&(d=!!n.leading,o=(h="maxWait"in n)?p(v(n.maxWait)||0,e):o,b="trailing"in n?!!n.trailing:b),_.cancel=function(){void 0!==u&&clearTimeout(u),c=0,s=l=r=u=void 0},_.flush=function(){return void 0===u?a:w(m())},_}(t,e,{leading:s,maxWait:e,trailing:r})}}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var r=e[i]={exports:{}};return t[i](r,r.exports,n),r.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{"use strict";function t(t){return"string"==typeof t||t instanceof String}function e(t){var e;return"object"==typeof t&&null!=t&&"Object"===(null==t||null==(e=t.constructor)?void 0:e.name)}function i(t,e){return Array.isArray(e)?i(t,((t,n)=>e.includes(n))):Object.entries(t).reduce(((t,n)=>{let[i,s]=n;return e(s,i)&&(t[i]=s),t}),{})}const s="NONE",r="LEFT",a="FORCE_LEFT",u="RIGHT",l="FORCE_RIGHT";function c(t){return t.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")}function d(t,e){if(e===t)return!0;const n=Array.isArray(e),i=Array.isArray(t);let s;if(n&&i){if(e.length!=t.length)return!1;for(s=0;s<e.length;s++)if(!d(e[s],t[s]))return!1;return!0}if(n!=i)return!1;if(e&&t&&"object"==typeof e&&"object"==typeof t){const n=e instanceof Date,i=t instanceof Date;if(n&&i)return e.getTime()==t.getTime();if(n!=i)return!1;const r=e instanceof RegExp,o=t instanceof RegExp;if(r&&o)return e.toString()==t.toString();if(r!=o)return!1;const a=Object.keys(e);for(s=0;s<a.length;s++)if(!Object.prototype.hasOwnProperty.call(t,a[s]))return!1;for(s=0;s<a.length;s++)if(!d(t[a[s]],e[a[s]]))return!1;return!0}return!(!e||!t||"function"!=typeof e||"function"!=typeof t)&&e.toString()===t.toString()}class h{constructor(t){for(Object.assign(this,t);this.value.slice(0,this.startChangePos)!==this.oldValue.slice(0,this.startChangePos);)--this.oldSelection.start;if(this.insertedCount)for(;this.value.slice(this.cursorPos)!==this.oldValue.slice(this.oldSelection.end);)this.value.length-this.cursorPos<this.oldValue.length-this.oldSelection.end?++this.oldSelection.end:++this.cursorPos}get startChangePos(){return Math.min(this.cursorPos,this.oldSelection.start)}get insertedCount(){return this.cursorPos-this.startChangePos}get inserted(){return this.value.substr(this.startChangePos,this.insertedCount)}get removedCount(){return Math.max(this.oldSelection.end-this.startChangePos||this.oldValue.length-this.value.length,0)}get removed(){return this.oldValue.substr(this.startChangePos,this.removedCount)}get head(){return this.value.substring(0,this.startChangePos)}get tail(){return this.value.substring(this.startChangePos+this.insertedCount)}get removeDirection(){return!this.removedCount||this.insertedCount?s:this.oldSelection.end!==this.cursorPos&&this.oldSelection.start!==this.cursorPos||this.oldSelection.end!==this.oldSelection.start?r:u}}function p(t,e){return new p.InputMask(t,e)}function f(e){if(null==e)throw new Error("mask property should be defined");return e instanceof RegExp?p.MaskedRegExp:t(e)?p.MaskedPattern:e===Date?p.MaskedDate:e===Number?p.MaskedNumber:Array.isArray(e)||e===Array?p.MaskedDynamic:p.Masked&&e.prototype instanceof p.Masked?e:p.Masked&&e instanceof p.Masked?e.constructor:e instanceof Function?p.MaskedFunction:(console.warn("Mask not found for mask",e),p.Masked)}function m(t){if(!t)throw new Error("Options in not defined");if(p.Masked){if(t.prototype instanceof p.Masked)return{mask:t};const{mask:n,...s}=t instanceof p.Masked?{mask:t}:e(t)&&t.mask instanceof p.Masked?t:{};if(n){const t=n.mask;return{...i(n,((t,e)=>!e.startsWith("_"))),mask:n.constructor,_mask:t,...s}}}return e(t)?{...t}:{mask:t}}function g(t){if(p.Masked&&t instanceof p.Masked)return t;const e=m(t),n=f(e.mask);if(!n)throw new Error("Masked class is not found for provided mask "+e.mask+", appropriate module needs to be imported manually before creating mask.");return e.mask===n&&delete e.mask,e._mask&&(e.mask=e._mask,delete e._mask),new n(e)}p.createMask=g;class v{get selectionStart(){let t;try{t=this._unsafeSelectionStart}catch{}return null!=t?t:this.value.length}get selectionEnd(){let t;try{t=this._unsafeSelectionEnd}catch{}return null!=t?t:this.value.length}select(t,e){if(null!=t&&null!=e&&(t!==this.selectionStart||e!==this.selectionEnd))try{this._unsafeSelect(t,e)}catch{}}get isActive(){return!1}}p.MaskElement=v;class b extends v{constructor(t){super(),this.input=t,this._onKeydown=this._onKeydown.bind(this),this._onInput=this._onInput.bind(this),this._onBeforeinput=this._onBeforeinput.bind(this),this._onCompositionEnd=this._onCompositionEnd.bind(this)}get rootElement(){var t,e,n;return null!=(t=null==(e=(n=this.input).getRootNode)?void 0:e.call(n))?t:document}get isActive(){return this.input===this.rootElement.activeElement}bindEvents(t){this.input.addEventListener("keydown",this._onKeydown),this.input.addEventListener("input",this._onInput),this.input.addEventListener("beforeinput",this._onBeforeinput),this.input.addEventListener("compositionend",this._onCompositionEnd),this.input.addEventListener("drop",t.drop),this.input.addEventListener("click",t.click),this.input.addEventListener("focus",t.focus),this.input.addEventListener("blur",t.commit),this._handlers=t}_onKeydown(t){return this._handlers.redo&&(90===t.keyCode&&t.shiftKey&&(t.metaKey||t.ctrlKey)||89===t.keyCode&&t.ctrlKey)?(t.preventDefault(),this._handlers.redo(t)):this._handlers.undo&&90===t.keyCode&&(t.metaKey||t.ctrlKey)?(t.preventDefault(),this._handlers.undo(t)):void(t.isComposing||this._handlers.selectionChange(t))}_onBeforeinput(t){return"historyUndo"===t.inputType&&this._handlers.undo?(t.preventDefault(),this._handlers.undo(t)):"historyRedo"===t.inputType&&this._handlers.redo?(t.preventDefault(),this._handlers.redo(t)):void 0}_onCompositionEnd(t){this._handlers.input(t)}_onInput(t){t.isComposing||this._handlers.input(t)}unbindEvents(){this.input.removeEventListener("keydown",this._onKeydown),this.input.removeEventListener("input",this._onInput),this.input.removeEventListener("beforeinput",this._onBeforeinput),this.input.removeEventListener("compositionend",this._onCompositionEnd),this.input.removeEventListener("drop",this._handlers.drop),this.input.removeEventListener("click",this._handlers.click),this.input.removeEventListener("focus",this._handlers.focus),this.input.removeEventListener("blur",this._handlers.commit),this._handlers={}}}p.HTMLMaskElement=b;class x extends b{constructor(t){super(t),this.input=t}get _unsafeSelectionStart(){return null!=this.input.selectionStart?this.input.selectionStart:this.value.length}get _unsafeSelectionEnd(){return this.input.selectionEnd}_unsafeSelect(t,e){this.input.setSelectionRange(t,e)}get value(){return this.input.value}set value(t){this.input.value=t}}p.HTMLMaskElement=b;class y extends b{get _unsafeSelectionStart(){const t=this.rootElement,e=t.getSelection&&t.getSelection(),n=e&&e.anchorOffset,i=e&&e.focusOffset;return null==i||null==n||n<i?n:i}get _unsafeSelectionEnd(){const t=this.rootElement,e=t.getSelection&&t.getSelection(),n=e&&e.anchorOffset,i=e&&e.focusOffset;return null==i||null==n||n>i?n:i}_unsafeSelect(t,e){if(!this.rootElement.createRange)return;const n=this.rootElement.createRange();n.setStart(this.input.firstChild||this.input,t),n.setEnd(this.input.lastChild||this.input,e);const i=this.rootElement,s=i.getSelection&&i.getSelection();s&&(s.removeAllRanges(),s.addRange(n))}get value(){return this.input.textContent||""}set value(t){this.input.textContent=t}}p.HTMLContenteditableMaskElement=y;class k{constructor(){this.states=[],this.currentIndex=0}get currentState(){return this.states[this.currentIndex]}get isEmpty(){return 0===this.states.length}push(t){this.currentIndex<this.states.length-1&&(this.states.length=this.currentIndex+1),this.states.push(t),this.states.length>k.MAX_LENGTH&&this.states.shift(),this.currentIndex=this.states.length-1}go(t){return this.currentIndex=Math.min(Math.max(this.currentIndex+t,0),this.states.length-1),this.currentState}undo(){return this.go(-1)}redo(){return this.go(1)}clear(){this.states.length=0,this.currentIndex=0}}k.MAX_LENGTH=100,p.InputMask=class{constructor(t,e){this.el=t instanceof v?t:t.isContentEditable&&"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName?new y(t):new x(t),this.masked=g(e),this._listeners={},this._value="",this._unmaskedValue="",this._rawInputValue="",this.history=new k,this._saveSelection=this._saveSelection.bind(this),this._onInput=this._onInput.bind(this),this._onChange=this._onChange.bind(this),this._onDrop=this._onDrop.bind(this),this._onFocus=this._onFocus.bind(this),this._onClick=this._onClick.bind(this),this._onUndo=this._onUndo.bind(this),this._onRedo=this._onRedo.bind(this),this.alignCursor=this.alignCursor.bind(this),this.alignCursorFriendly=this.alignCursorFriendly.bind(this),this._bindEvents(),this.updateValue(),this._onChange()}maskEquals(t){var e;return null==t||(null==(e=this.masked)?void 0:e.maskEquals(t))}get mask(){return this.masked.mask}set mask(t){if(this.maskEquals(t))return;if(!(t instanceof p.Masked)&&this.masked.constructor===f(t))return void this.masked.updateOptions({mask:t});const e=t instanceof p.Masked?t:g({mask:t});e.unmaskedValue=this.masked.unmaskedValue,this.masked=e}get value(){return this._value}set value(t){this.value!==t&&(this.masked.value=t,this.updateControl("auto"))}get unmaskedValue(){return this._unmaskedValue}set unmaskedValue(t){this.unmaskedValue!==t&&(this.masked.unmaskedValue=t,this.updateControl("auto"))}get rawInputValue(){return this._rawInputValue}set rawInputValue(t){this.rawInputValue!==t&&(this.masked.rawInputValue=t,this.updateControl(),this.alignCursor())}get typedValue(){return this.masked.typedValue}set typedValue(t){this.masked.typedValueEquals(t)||(this.masked.typedValue=t,this.updateControl("auto"))}get displayValue(){return this.masked.displayValue}_bindEvents(){this.el.bindEvents({selectionChange:this._saveSelection,input:this._onInput,drop:this._onDrop,click:this._onClick,focus:this._onFocus,commit:this._onChange,undo:this._onUndo,redo:this._onRedo})}_unbindEvents(){this.el&&this.el.unbindEvents()}_fireEvent(t,e){const n=this._listeners[t];n&&n.forEach((t=>t(e)))}get selectionStart(){return this._cursorChanging?this._changingCursorPos:this.el.selectionStart}get cursorPos(){return this._cursorChanging?this._changingCursorPos:this.el.selectionEnd}set cursorPos(t){this.el&&this.el.isActive&&(this.el.select(t,t),this._saveSelection())}_saveSelection(){this.displayValue!==this.el.value&&console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly."),this._selection={start:this.selectionStart,end:this.cursorPos}}updateValue(){this.masked.value=this.el.value,this._value=this.masked.value,this._unmaskedValue=this.masked.unmaskedValue,this._rawInputValue=this.masked.rawInputValue}updateControl(t){const e=this.masked.unmaskedValue,n=this.masked.value,i=this.masked.rawInputValue,s=this.displayValue,r=this.unmaskedValue!==e||this.value!==n||this._rawInputValue!==i;this._unmaskedValue=e,this._value=n,this._rawInputValue=i,this.el.value!==s&&(this.el.value=s),"auto"===t?this.alignCursor():null!=t&&(this.cursorPos=t),r&&this._fireChangeEvents(),this._historyChanging||!r&&!this.history.isEmpty||this.history.push({unmaskedValue:e,selection:{start:this.selectionStart,end:this.cursorPos}})}updateOptions(t){const{mask:e,...n}=t,i=!this.maskEquals(e),s=this.masked.optionsIsChanged(n);i&&(this.mask=e),s&&this.masked.updateOptions(n),(i||s)&&this.updateControl()}updateCursor(t){null!=t&&(this.cursorPos=t,this._delayUpdateCursor(t))}_delayUpdateCursor(t){this._abortUpdateCursor(),this._changingCursorPos=t,this._cursorChanging=setTimeout((()=>{this.el&&(this.cursorPos=this._changingCursorPos,this._abortUpdateCursor())}),10)}_fireChangeEvents(){this._fireEvent("accept",this._inputEvent),this.masked.isComplete&&this._fireEvent("complete",this._inputEvent)}_abortUpdateCursor(){this._cursorChanging&&(clearTimeout(this._cursorChanging),delete this._cursorChanging)}alignCursor(){this.cursorPos=this.masked.nearestInputPos(this.masked.nearestInputPos(this.cursorPos,r))}alignCursorFriendly(){this.selectionStart===this.cursorPos&&this.alignCursor()}on(t,e){return this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e),this}off(t,e){if(!this._listeners[t])return this;if(!e)return delete this._listeners[t],this;const n=this._listeners[t].indexOf(e);return n>=0&&this._listeners[t].splice(n,1),this}_onInput(t){this._inputEvent=t,this._abortUpdateCursor();const e=new h({value:this.el.value,cursorPos:this.cursorPos,oldValue:this.displayValue,oldSelection:this._selection}),n=this.masked.rawInputValue,i=this.masked.splice(e.startChangePos,e.removed.length,e.inserted,e.removeDirection,{input:!0,raw:!0}).offset,r=n===this.masked.rawInputValue?e.removeDirection:s;let o=this.masked.nearestInputPos(e.startChangePos+i,r);r!==s&&(o=this.masked.nearestInputPos(o,s)),this.updateControl(o),delete this._inputEvent}_onChange(){this.displayValue!==this.el.value&&this.updateValue(),this.masked.doCommit(),this.updateControl(),this._saveSelection()}_onDrop(t){t.preventDefault(),t.stopPropagation()}_onFocus(t){this.alignCursorFriendly()}_onClick(t){this.alignCursorFriendly()}_onUndo(){this._applyHistoryState(this.history.undo())}_onRedo(){this._applyHistoryState(this.history.redo())}_applyHistoryState(t){t&&(this._historyChanging=!0,this.unmaskedValue=t.unmaskedValue,this.el.select(t.selection.start,t.selection.end),this._saveSelection(),this._historyChanging=!1)}destroy(){this._unbindEvents(),this._listeners.length=0,delete this.el}};class w{static normalize(t){return Array.isArray(t)?t:[t,new w]}constructor(t){Object.assign(this,{inserted:"",rawInserted:"",tailShift:0,skip:!1},t)}aggregate(t){return this.inserted+=t.inserted,this.rawInserted+=t.rawInserted,this.tailShift+=t.tailShift,this.skip=this.skip||t.skip,this}get offset(){return this.tailShift+this.inserted.length}get consumed(){return Boolean(this.rawInserted)||this.skip}equals(t){return this.inserted===t.inserted&&this.tailShift===t.tailShift&&this.rawInserted===t.rawInserted&&this.skip===t.skip}}p.ChangeDetails=w;class _{constructor(t,e,n){void 0===t&&(t=""),void 0===e&&(e=0),this.value=t,this.from=e,this.stop=n}toString(){return this.value}extend(t){this.value+=String(t)}appendTo(t){return t.append(this.toString(),{tail:!0}).aggregate(t._appendPlaceholder())}get state(){return{value:this.value,from:this.from,stop:this.stop}}set state(t){Object.assign(this,t)}unshift(t){if(!this.value.length||null!=t&&this.from>=t)return"";const e=this.value[0];return this.value=this.value.slice(1),e}shift(){if(!this.value.length)return"";const t=this.value[this.value.length-1];return this.value=this.value.slice(0,-1),t}}class C{constructor(t){this._value="",this._update({...C.DEFAULTS,...t}),this._initialized=!0}updateOptions(t){this.optionsIsChanged(t)&&this.withValueRefresh(this._update.bind(this,t))}_update(t){Object.assign(this,t)}get state(){return{_value:this.value,_rawInputValue:this.rawInputValue}}set state(t){this._value=t._value}reset(){this._value=""}get value(){return this._value}set value(t){this.resolve(t,{input:!0})}resolve(t,e){void 0===e&&(e={input:!0}),this.reset(),this.append(t,e,""),this.doCommit()}get unmaskedValue(){return this.value}set unmaskedValue(t){this.resolve(t,{})}get typedValue(){return this.parse?this.parse(this.value,this):this.unmaskedValue}set typedValue(t){this.format?this.value=this.format(t,this):this.unmaskedValue=String(t)}get rawInputValue(){return this.extractInput(0,this.displayValue.length,{raw:!0})}set rawInputValue(t){this.resolve(t,{raw:!0})}get displayValue(){return this.value}get isComplete(){return!0}get isFilled(){return this.isComplete}nearestInputPos(t,e){return t}totalInputPositions(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.displayValue.length),Math.min(this.displayValue.length,e-t)}extractInput(t,e,n){return void 0===t&&(t=0),void 0===e&&(e=this.displayValue.length),this.displayValue.slice(t,e)}extractTail(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.displayValue.length),new _(this.extractInput(t,e),t)}appendTail(e){return t(e)&&(e=new _(String(e))),e.appendTo(this)}_appendCharRaw(t,e){return t?(this._value+=t,new w({inserted:t,rawInserted:t})):new w}_appendChar(t,e,n){void 0===e&&(e={});const i=this.state;let s;if([t,s]=this.doPrepareChar(t,e),t&&(s=s.aggregate(this._appendCharRaw(t,e)),!s.rawInserted&&"pad"===this.autofix)){const n=this.state;this.state=i;let r=this.pad(e);const o=this._appendCharRaw(t,e);r=r.aggregate(o),o.rawInserted||r.equals(s)?s=r:this.state=n}if(s.inserted){let t,r=!1!==this.doValidate(e);if(r&&null!=n){const e=this.state;if(!0===this.overwrite){t=n.state;for(let t=0;t<s.rawInserted.length;++t)n.unshift(this.displayValue.length-s.tailShift)}let i=this.appendTail(n);if(r=i.rawInserted.length===n.toString().length,!(r&&i.inserted||"shift"!==this.overwrite)){this.state=e,t=n.state;for(let t=0;t<s.rawInserted.length;++t)n.shift();i=this.appendTail(n),r=i.rawInserted.length===n.toString().length}r&&i.inserted&&(this.state=e)}r||(s=new w,this.state=i,n&&t&&(n.state=t))}return s}_appendPlaceholder(){return new w}_appendEager(){return new w}append(e,n,i){if(!t(e))throw new Error("value should be string");const s=t(i)?new _(String(i)):i;let r;null!=n&&n.tail&&(n._beforeTailState=this.state),[e,r]=this.doPrepare(e,n);for(let t=0;t<e.length;++t){const i=this._appendChar(e[t],n,s);if(!i.rawInserted&&!this.doSkipInvalid(e[t],n,s))break;r.aggregate(i)}return(!0===this.eager||"append"===this.eager)&&null!=n&&n.input&&e&&r.aggregate(this._appendEager()),null!=s&&(r.tailShift+=this.appendTail(s).tailShift),r}remove(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.displayValue.length),this._value=this.displayValue.slice(0,t)+this.displayValue.slice(e),new w}withValueRefresh(t){if(this._refreshing||!this._initialized)return t();this._refreshing=!0;const e=this.rawInputValue,n=this.value,i=t();return this.rawInputValue=e,this.value&&this.value!==n&&0===n.indexOf(this.value)&&(this.append(n.slice(this.displayValue.length),{},""),this.doCommit()),delete this._refreshing,i}runIsolated(t){if(this._isolated||!this._initialized)return t(this);this._isolated=!0;const e=this.state,n=t(this);return this.state=e,delete this._isolated,n}doSkipInvalid(t,e,n){return Boolean(this.skipInvalid)}doPrepare(t,e){return void 0===e&&(e={}),w.normalize(this.prepare?this.prepare(t,this,e):t)}doPrepareChar(t,e){return void 0===e&&(e={}),w.normalize(this.prepareChar?this.prepareChar(t,this,e):t)}doValidate(t){return(!this.validate||this.validate(this.value,this,t))&&(!this.parent||this.parent.doValidate(t))}doCommit(){this.commit&&this.commit(this.value,this)}splice(t,e,n,i,o){void 0===n&&(n=""),void 0===i&&(i=s),void 0===o&&(o={input:!0});const c=t+e,d=this.extractTail(c),h=!0===this.eager||"remove"===this.eager;let p;h&&(i=function(t){switch(t){case r:return a;case u:return l;default:return t}}(i),p=this.extractInput(0,c,{raw:!0}));let f=t;const m=new w;if(i!==s&&(f=this.nearestInputPos(t,e>1&&0!==t&&!h?s:i),m.tailShift=f-t),m.aggregate(this.remove(f)),h&&i!==s&&p===this.rawInputValue)if(i===a){let t;for(;p===this.rawInputValue&&(t=this.displayValue.length);)m.aggregate(new w({tailShift:-1})).aggregate(this.remove(t-1))}else i===l&&d.unshift();return m.aggregate(this.append(n,o,d))}maskEquals(t){return this.mask===t}optionsIsChanged(t){return!d(this,t)}typedValueEquals(t){const e=this.typedValue;return t===e||C.EMPTY_VALUES.includes(t)&&C.EMPTY_VALUES.includes(e)||!!this.format&&this.format(t,this)===this.format(this.typedValue,this)}pad(t){return new w}}C.DEFAULTS={skipInvalid:!0},C.EMPTY_VALUES=[void 0,null,""],p.Masked=C;class A{constructor(t,e){void 0===t&&(t=[]),void 0===e&&(e=0),this.chunks=t,this.from=e}toString(){return this.chunks.map(String).join("")}extend(e){if(!String(e))return;e=t(e)?new _(String(e)):e;const n=this.chunks[this.chunks.length-1],i=n&&(n.stop===e.stop||null==e.stop)&&e.from===n.from+n.toString().length;if(e instanceof _)i?n.extend(e.toString()):this.chunks.push(e);else if(e instanceof A){if(null==e.stop){let t;for(;e.chunks.length&&null==e.chunks[0].stop;)t=e.chunks.shift(),t.from+=e.from,this.extend(t)}e.toString()&&(e.stop=e.blockIndex,this.chunks.push(e))}}appendTo(t){if(!(t instanceof p.MaskedPattern))return new _(this.toString()).appendTo(t);const e=new w;for(let n=0;n<this.chunks.length;++n){const i=this.chunks[n],s=t._mapPosToBlock(t.displayValue.length),r=i.stop;let o;if(null!=r&&(!s||s.index<=r)&&((i instanceof A||t._stops.indexOf(r)>=0)&&e.aggregate(t._appendPlaceholder(r)),o=i instanceof A&&t._blocks[r]),o){const n=o.appendTail(i);e.aggregate(n);const s=i.toString().slice(n.rawInserted.length);s&&e.aggregate(t.append(s,{tail:!0}))}else e.aggregate(t.append(i.toString(),{tail:!0}))}return e}get state(){return{chunks:this.chunks.map((t=>t.state)),from:this.from,stop:this.stop,blockIndex:this.blockIndex}}set state(t){const{chunks:e,...n}=t;Object.assign(this,n),this.chunks=e.map((t=>{const e="chunks"in t?new A:new _;return e.state=t,e}))}unshift(t){if(!this.chunks.length||null!=t&&this.from>=t)return"";const e=null!=t?t-this.from:t;let n=0;for(;n<this.chunks.length;){const t=this.chunks[n],i=t.unshift(e);if(t.toString()){if(!i)break;++n}else this.chunks.splice(n,1);if(i)return i}return""}shift(){if(!this.chunks.length)return"";let t=this.chunks.length-1;for(;0<=t;){const e=this.chunks[t],n=e.shift();if(e.toString()){if(!n)break;--t}else this.chunks.splice(t,1);if(n)return n}return""}}class S{constructor(t,e){this.masked=t,this._log=[];const{offset:n,index:i}=t._mapPosToBlock(e)||(e<0?{index:0,offset:0}:{index:this.masked._blocks.length,offset:0});this.offset=n,this.index=i,this.ok=!1}get block(){return this.masked._blocks[this.index]}get pos(){return this.masked._blockStartPos(this.index)+this.offset}get state(){return{index:this.index,offset:this.offset,ok:this.ok}}set state(t){Object.assign(this,t)}pushState(){this._log.push(this.state)}popState(){const t=this._log.pop();return t&&(this.state=t),t}bindBlock(){this.block||(this.index<0&&(this.index=0,this.offset=0),this.index>=this.masked._blocks.length&&(this.index=this.masked._blocks.length-1,this.offset=this.block.displayValue.length))}_pushLeft(t){for(this.pushState(),this.bindBlock();0<=this.index;--this.index,this.offset=(null==(e=this.block)?void 0:e.displayValue.length)||0){var e;if(t())return this.ok=!0}return this.ok=!1}_pushRight(t){for(this.pushState(),this.bindBlock();this.index<this.masked._blocks.length;++this.index,this.offset=0)if(t())return this.ok=!0;return this.ok=!1}pushLeftBeforeFilled(){return this._pushLeft((()=>{if(!this.block.isFixed&&this.block.value)return this.offset=this.block.nearestInputPos(this.offset,a),0!==this.offset||void 0}))}pushLeftBeforeInput(){return this._pushLeft((()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,r),!0}))}pushLeftBeforeRequired(){return this._pushLeft((()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,r),!0}))}pushRightBeforeFilled(){return this._pushRight((()=>{if(!this.block.isFixed&&this.block.value)return this.offset=this.block.nearestInputPos(this.offset,l),this.offset!==this.block.value.length||void 0}))}pushRightBeforeInput(){return this._pushRight((()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,s),!0}))}pushRightBeforeRequired(){return this._pushRight((()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,s),!0}))}}class E{constructor(t){Object.assign(this,t),this._value="",this.isFixed=!0}get value(){return this._value}get unmaskedValue(){return this.isUnmasking?this.value:""}get rawInputValue(){return this._isRawInput?this.value:""}get displayValue(){return this.value}reset(){this._isRawInput=!1,this._value=""}remove(t,e){return void 0===t&&(t=0),void 0===e&&(e=this._value.length),this._value=this._value.slice(0,t)+this._value.slice(e),this._value||(this._isRawInput=!1),new w}nearestInputPos(t,e){void 0===e&&(e=s);const n=this._value.length;switch(e){case r:case a:return 0;default:return n}}totalInputPositions(t,e){return void 0===t&&(t=0),void 0===e&&(e=this._value.length),this._isRawInput?e-t:0}extractInput(t,e,n){return void 0===t&&(t=0),void 0===e&&(e=this._value.length),void 0===n&&(n={}),n.raw&&this._isRawInput&&this._value.slice(t,e)||""}get isComplete(){return!0}get isFilled(){return Boolean(this._value)}_appendChar(t,e){if(void 0===e&&(e={}),this.isFilled)return new w;const n=!0===this.eager||"append"===this.eager,i=this.char===t&&(this.isUnmasking||e.input||e.raw)&&(!e.raw||!n)&&!e.tail,s=new w({inserted:this.char,rawInserted:i?this.char:""});return this._value=this.char,this._isRawInput=i&&(e.raw||e.input),s}_appendEager(){return this._appendChar(this.char,{tail:!0})}_appendPlaceholder(){const t=new w;return this.isFilled||(this._value=t.inserted=this.char),t}extractTail(){return new _("")}appendTail(e){return t(e)&&(e=new _(String(e))),e.appendTo(this)}append(t,e,n){const i=this._appendChar(t[0],e);return null!=n&&(i.tailShift+=this.appendTail(n).tailShift),i}doCommit(){}get state(){return{_value:this._value,_rawInputValue:this.rawInputValue}}set state(t){this._value=t._value,this._isRawInput=Boolean(t._rawInputValue)}pad(t){return this._appendPlaceholder()}}class F{constructor(t){const{parent:e,isOptional:n,placeholderChar:i,displayChar:s,lazy:r,eager:o,...a}=t;this.masked=g(a),Object.assign(this,{parent:e,isOptional:n,placeholderChar:i,displayChar:s,lazy:r,eager:o})}reset(){this.isFilled=!1,this.masked.reset()}remove(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.value.length),0===t&&e>=1?(this.isFilled=!1,this.masked.remove(t,e)):new w}get value(){return this.masked.value||(this.isFilled&&!this.isOptional?this.placeholderChar:"")}get unmaskedValue(){return this.masked.unmaskedValue}get rawInputValue(){return this.masked.rawInputValue}get displayValue(){return this.masked.value&&this.displayChar||this.value}get isComplete(){return Boolean(this.masked.value)||this.isOptional}_appendChar(t,e){if(void 0===e&&(e={}),this.isFilled)return new w;const n=this.masked.state;let i=this.masked._appendChar(t,this.currentMaskFlags(e));return i.inserted&&!1===this.doValidate(e)&&(i=new w,this.masked.state=n),i.inserted||this.isOptional||this.lazy||e.input||(i.inserted=this.placeholderChar),i.skip=!i.inserted&&!this.isOptional,this.isFilled=Boolean(i.inserted),i}append(t,e,n){return this.masked.append(t,this.currentMaskFlags(e),n)}_appendPlaceholder(){return this.isFilled||this.isOptional?new w:(this.isFilled=!0,new w({inserted:this.placeholderChar}))}_appendEager(){return new w}extractTail(t,e){return this.masked.extractTail(t,e)}appendTail(t){return this.masked.appendTail(t)}extractInput(t,e,n){return void 0===t&&(t=0),void 0===e&&(e=this.value.length),this.masked.extractInput(t,e,n)}nearestInputPos(t,e){void 0===e&&(e=s);const n=this.value.length,i=Math.min(Math.max(t,0),n);switch(e){case r:case a:return this.isComplete?i:0;case u:case l:return this.isComplete?i:n;default:return i}}totalInputPositions(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.value.length),this.value.slice(t,e).length}doValidate(t){return this.masked.doValidate(this.currentMaskFlags(t))&&(!this.parent||this.parent.doValidate(this.currentMaskFlags(t)))}doCommit(){this.masked.doCommit()}get state(){return{_value:this.value,_rawInputValue:this.rawInputValue,masked:this.masked.state,isFilled:this.isFilled}}set state(t){this.masked.state=t.masked,this.isFilled=t.isFilled}currentMaskFlags(t){var e;return{...t,_beforeTailState:(null==t||null==(e=t._beforeTailState)?void 0:e.masked)||(null==t?void 0:t._beforeTailState)}}pad(t){return new w}}F.DEFAULT_DEFINITIONS={0:/\d/,a:/[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,"*":/./},p.MaskedRegExp=class extends C{updateOptions(t){super.updateOptions(t)}_update(t){const e=t.mask;e&&(t.validate=t=>t.search(e)>=0),super._update(t)}};class L extends C{constructor(t){super({...L.DEFAULTS,...t,definitions:Object.assign({},F.DEFAULT_DEFINITIONS,null==t?void 0:t.definitions)})}updateOptions(t){super.updateOptions(t)}_update(t){t.definitions=Object.assign({},this.definitions,t.definitions),super._update(t),this._rebuildMask()}_rebuildMask(){const t=this.definitions;this._blocks=[],this.exposeBlock=void 0,this._stops=[],this._maskedBlocks={};const e=this.mask;if(!e||!t)return;let n=!1,i=!1;for(let s=0;s<e.length;++s){if(this.blocks){const t=e.slice(s),n=Object.keys(this.blocks).filter((e=>0===t.indexOf(e)));n.sort(((t,e)=>e.length-t.length));const i=n[0];if(i){const{expose:t,repeat:e,...n}=m(this.blocks[i]),r={lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,overwrite:this.overwrite,autofix:this.autofix,...n,repeat:e,parent:this},o=null!=e?new p.RepeatBlock(r):g(r);o&&(this._blocks.push(o),t&&(this.exposeBlock=o),this._maskedBlocks[i]||(this._maskedBlocks[i]=[]),this._maskedBlocks[i].push(this._blocks.length-1)),s+=i.length-1;continue}}let r=e[s],o=r in t;if(r===L.STOP_CHAR){this._stops.push(this._blocks.length);continue}if("{"===r||"}"===r){n=!n;continue}if("["===r||"]"===r){i=!i;continue}if(r===L.ESCAPE_CHAR){if(++s,r=e[s],!r)break;o=!1}const a=o?new F({isOptional:i,lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,...m(t[r]),parent:this}):new E({char:r,eager:this.eager,isUnmasking:n});this._blocks.push(a)}}get state(){return{...super.state,_blocks:this._blocks.map((t=>t.state))}}set state(t){if(!t)return void this.reset();const{_blocks:e,...n}=t;this._blocks.forEach(((t,n)=>t.state=e[n])),super.state=n}reset(){super.reset(),this._blocks.forEach((t=>t.reset()))}get isComplete(){return this.exposeBlock?this.exposeBlock.isComplete:this._blocks.every((t=>t.isComplete))}get isFilled(){return this._blocks.every((t=>t.isFilled))}get isFixed(){return this._blocks.every((t=>t.isFixed))}get isOptional(){return this._blocks.every((t=>t.isOptional))}doCommit(){this._blocks.forEach((t=>t.doCommit())),super.doCommit()}get unmaskedValue(){return this.exposeBlock?this.exposeBlock.unmaskedValue:this._blocks.reduce(((t,e)=>t+e.unmaskedValue),"")}set unmaskedValue(t){if(this.exposeBlock){const e=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.unmaskedValue=t,this.appendTail(e),this.doCommit()}else super.unmaskedValue=t}get value(){return this.exposeBlock?this.exposeBlock.value:this._blocks.reduce(((t,e)=>t+e.value),"")}set value(t){if(this.exposeBlock){const e=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.value=t,this.appendTail(e),this.doCommit()}else super.value=t}get typedValue(){return this.exposeBlock?this.exposeBlock.typedValue:super.typedValue}set typedValue(t){if(this.exposeBlock){const e=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.typedValue=t,this.appendTail(e),this.doCommit()}else super.typedValue=t}get displayValue(){return this._blocks.reduce(((t,e)=>t+e.displayValue),"")}appendTail(t){return super.appendTail(t).aggregate(this._appendPlaceholder())}_appendEager(){var t;const e=new w;let n=null==(t=this._mapPosToBlock(this.displayValue.length))?void 0:t.index;if(null==n)return e;this._blocks[n].isFilled&&++n;for(let t=n;t<this._blocks.length;++t){const n=this._blocks[t]._appendEager();if(!n.inserted)break;e.aggregate(n)}return e}_appendCharRaw(t,e){void 0===e&&(e={});const n=this._mapPosToBlock(this.displayValue.length),i=new w;if(!n)return i;for(let r,o=n.index;r=this._blocks[o];++o){var s;const n=r._appendChar(t,{...e,_beforeTailState:null==(s=e._beforeTailState)||null==(s=s._blocks)?void 0:s[o]});if(i.aggregate(n),n.consumed)break}return i}extractTail(t,e){void 0===t&&(t=0),void 0===e&&(e=this.displayValue.length);const n=new A;return t===e||this._forEachBlocksInRange(t,e,((t,e,i,s)=>{const r=t.extractTail(i,s);r.stop=this._findStopBefore(e),r.from=this._blockStartPos(e),r instanceof A&&(r.blockIndex=e),n.extend(r)})),n}extractInput(t,e,n){if(void 0===t&&(t=0),void 0===e&&(e=this.displayValue.length),void 0===n&&(n={}),t===e)return"";let i="";return this._forEachBlocksInRange(t,e,((t,e,s,r)=>{i+=t.extractInput(s,r,n)})),i}_findStopBefore(t){let e;for(let n=0;n<this._stops.length;++n){const i=this._stops[n];if(!(i<=t))break;e=i}return e}_appendPlaceholder(t){const e=new w;if(this.lazy&&null==t)return e;const n=this._mapPosToBlock(this.displayValue.length);if(!n)return e;const i=n.index,s=null!=t?t:this._blocks.length;return this._blocks.slice(i,s).forEach((n=>{var i;n.lazy&&null==t||e.aggregate(n._appendPlaceholder(null==(i=n._blocks)?void 0:i.length))})),e}_mapPosToBlock(t){let e="";for(let n=0;n<this._blocks.length;++n){const i=this._blocks[n],s=e.length;if(e+=i.displayValue,t<=e.length)return{index:n,offset:t-s}}}_blockStartPos(t){return this._blocks.slice(0,t).reduce(((t,e)=>t+e.displayValue.length),0)}_forEachBlocksInRange(t,e,n){void 0===e&&(e=this.displayValue.length);const i=this._mapPosToBlock(t);if(i){const t=this._mapPosToBlock(e),s=t&&i.index===t.index,r=i.offset,o=t&&s?t.offset:this._blocks[i.index].displayValue.length;if(n(this._blocks[i.index],i.index,r,o),t&&!s){for(let e=i.index+1;e<t.index;++e)n(this._blocks[e],e,0,this._blocks[e].displayValue.length);n(this._blocks[t.index],t.index,0,t.offset)}}}remove(t,e){void 0===t&&(t=0),void 0===e&&(e=this.displayValue.length);const n=super.remove(t,e);return this._forEachBlocksInRange(t,e,((t,e,i,s)=>{n.aggregate(t.remove(i,s))})),n}nearestInputPos(t,e){if(void 0===e&&(e=s),!this._blocks.length)return 0;const n=new S(this,t);if(e===s)return n.pushRightBeforeInput()?n.pos:(n.popState(),n.pushLeftBeforeInput()?n.pos:this.displayValue.length);if(e===r||e===a){if(e===r){if(n.pushRightBeforeFilled(),n.ok&&n.pos===t)return t;n.popState()}if(n.pushLeftBeforeInput(),n.pushLeftBeforeRequired(),n.pushLeftBeforeFilled(),e===r){if(n.pushRightBeforeInput(),n.pushRightBeforeRequired(),n.ok&&n.pos<=t)return n.pos;if(n.popState(),n.ok&&n.pos<=t)return n.pos;n.popState()}return n.ok?n.pos:e===a?0:(n.popState(),n.ok?n.pos:(n.popState(),n.ok?n.pos:0))}return e===u||e===l?(n.pushRightBeforeInput(),n.pushRightBeforeRequired(),n.pushRightBeforeFilled()?n.pos:e===l?this.displayValue.length:(n.popState(),n.ok?n.pos:(n.popState(),n.ok?n.pos:this.nearestInputPos(t,r)))):t}totalInputPositions(t,e){void 0===t&&(t=0),void 0===e&&(e=this.displayValue.length);let n=0;return this._forEachBlocksInRange(t,e,((t,e,i,s)=>{n+=t.totalInputPositions(i,s)})),n}maskedBlock(t){return this.maskedBlocks(t)[0]}maskedBlocks(t){const e=this._maskedBlocks[t];return e?e.map((t=>this._blocks[t])):[]}pad(t){const e=new w;return this._forEachBlocksInRange(0,this.displayValue.length,(n=>e.aggregate(n.pad(t)))),e}}L.DEFAULTS={...C.DEFAULTS,lazy:!0,placeholderChar:"_"},L.STOP_CHAR="`",L.ESCAPE_CHAR="\\",L.InputDefinition=F,L.FixedDefinition=E,p.MaskedPattern=L;class I extends L{get _matchFrom(){return this.maxLength-String(this.from).length}constructor(t){super(t)}updateOptions(t){super.updateOptions(t)}_update(t){const{to:e=this.to||0,from:n=this.from||0,maxLength:i=this.maxLength||0,autofix:s=this.autofix,...r}=t;this.to=e,this.from=n,this.maxLength=Math.max(String(e).length,i),this.autofix=s;const o=String(this.from).padStart(this.maxLength,"0"),a=String(this.to).padStart(this.maxLength,"0");let u=0;for(;u<a.length&&a[u]===o[u];)++u;r.mask=a.slice(0,u).replace(/0/g,"\\0")+"0".repeat(this.maxLength-u),super._update(r)}get isComplete(){return super.isComplete&&Boolean(this.value)}boundaries(t){let e="",n="";const[,i,s]=t.match(/^(\D*)(\d*)(\D*)/)||[];return s&&(e="0".repeat(i.length)+s,n="9".repeat(i.length)+s),e=e.padEnd(this.maxLength,"0"),n=n.padEnd(this.maxLength,"9"),[e,n]}doPrepareChar(t,e){let n;return void 0===e&&(e={}),[t,n]=super.doPrepareChar(t.replace(/\D/g,""),e),t||(n.skip=!this.isComplete),[t,n]}_appendCharRaw(t,e){if(void 0===e&&(e={}),!this.autofix||this.value.length+1>this.maxLength)return super._appendCharRaw(t,e);const n=String(this.from).padStart(this.maxLength,"0"),i=String(this.to).padStart(this.maxLength,"0"),[s,r]=this.boundaries(this.value+t);return Number(r)<this.from?super._appendCharRaw(n[this.value.length],e):Number(s)>this.to?!e.tail&&"pad"===this.autofix&&this.value.length+1<this.maxLength?super._appendCharRaw(n[this.value.length],e).aggregate(this._appendCharRaw(t,e)):super._appendCharRaw(i[this.value.length],e):super._appendCharRaw(t,e)}doValidate(t){const e=this.value;if(-1===e.search(/[^0]/)&&e.length<=this._matchFrom)return!0;const[n,i]=this.boundaries(e);return this.from<=Number(i)&&Number(n)<=this.to&&super.doValidate(t)}pad(t){const e=new w;if(this.value.length===this.maxLength)return e;const n=this.value,i=this.maxLength-this.value.length;if(i){this.reset();for(let n=0;n<i;++n)e.aggregate(super._appendCharRaw("0",t));n.split("").forEach((t=>this._appendCharRaw(t)))}return e}}p.MaskedRange=I;class T extends L{static extractPatternOptions(e){const{mask:n,pattern:i,...s}=e;return{...s,mask:t(n)?n:i}}constructor(t){super(T.extractPatternOptions({...T.DEFAULTS,...t}))}updateOptions(t){super.updateOptions(t)}_update(e){const{mask:n,pattern:i,blocks:s,...r}={...T.DEFAULTS,...e},o=Object.assign({},T.GET_DEFAULT_BLOCKS());e.min&&(o.Y.from=e.min.getFullYear()),e.max&&(o.Y.to=e.max.getFullYear()),e.min&&e.max&&o.Y.from===o.Y.to&&(o.m.from=e.min.getMonth()+1,o.m.to=e.max.getMonth()+1,o.m.from===o.m.to&&(o.d.from=e.min.getDate(),o.d.to=e.max.getDate())),Object.assign(o,this.blocks,s),super._update({...r,mask:t(n)?n:i,blocks:o})}doValidate(t){const e=this.date;return super.doValidate(t)&&(!this.isComplete||this.isDateExist(this.value)&&null!=e&&(null==this.min||this.min<=e)&&(null==this.max||e<=this.max))}isDateExist(t){return this.format(this.parse(t,this),this).indexOf(t)>=0}get date(){return this.typedValue}set date(t){this.typedValue=t}get typedValue(){return this.isComplete?super.typedValue:null}set typedValue(t){super.typedValue=t}maskEquals(t){return t===Date||super.maskEquals(t)}optionsIsChanged(t){return super.optionsIsChanged(T.extractPatternOptions(t))}}T.GET_DEFAULT_BLOCKS=()=>({d:{mask:I,from:1,to:31,maxLength:2},m:{mask:I,from:1,to:12,maxLength:2},Y:{mask:I,from:1900,to:9999}}),T.DEFAULTS={...L.DEFAULTS,mask:Date,pattern:"d{.}`m{.}`Y",format:(t,e)=>t?[String(t.getDate()).padStart(2,"0"),String(t.getMonth()+1).padStart(2,"0"),t.getFullYear()].join("."):"",parse:(t,e)=>{const[n,i,s]=t.split(".").map(Number);return new Date(s,i-1,n)}},p.MaskedDate=T;class O extends C{constructor(t){super({...O.DEFAULTS,...t}),this.currentMask=void 0}updateOptions(t){super.updateOptions(t)}_update(t){super._update(t),"mask"in t&&(this.exposeMask=void 0,this.compiledMasks=Array.isArray(t.mask)?t.mask.map((t=>{const{expose:e,...n}=m(t),i=g({overwrite:this._overwrite,eager:this._eager,skipInvalid:this._skipInvalid,...n});return e&&(this.exposeMask=i),i})):[])}_appendCharRaw(t,e){void 0===e&&(e={});const n=this._applyDispatch(t,e);return this.currentMask&&n.aggregate(this.currentMask._appendChar(t,this.currentMaskFlags(e))),n}_applyDispatch(t,e,n){void 0===t&&(t=""),void 0===e&&(e={}),void 0===n&&(n="");const i=e.tail&&null!=e._beforeTailState?e._beforeTailState._value:this.value,s=this.rawInputValue,r=e.tail&&null!=e._beforeTailState?e._beforeTailState._rawInputValue:s,o=s.slice(r.length),a=this.currentMask,u=new w,l=null==a?void 0:a.state;return this.currentMask=this.doDispatch(t,{...e},n),this.currentMask&&(this.currentMask!==a?(this.currentMask.reset(),r&&(this.currentMask.append(r,{raw:!0}),u.tailShift=this.currentMask.value.length-i.length),o&&(u.tailShift+=this.currentMask.append(o,{raw:!0,tail:!0}).tailShift)):l&&(this.currentMask.state=l)),u}_appendPlaceholder(){const t=this._applyDispatch();return this.currentMask&&t.aggregate(this.currentMask._appendPlaceholder()),t}_appendEager(){const t=this._applyDispatch();return this.currentMask&&t.aggregate(this.currentMask._appendEager()),t}appendTail(t){const e=new w;return t&&e.aggregate(this._applyDispatch("",{},t)),e.aggregate(this.currentMask?this.currentMask.appendTail(t):super.appendTail(t))}currentMaskFlags(t){var e,n;return{...t,_beforeTailState:(null==(e=t._beforeTailState)?void 0:e.currentMaskRef)===this.currentMask&&(null==(n=t._beforeTailState)?void 0:n.currentMask)||t._beforeTailState}}doDispatch(t,e,n){return void 0===e&&(e={}),void 0===n&&(n=""),this.dispatch(t,this,e,n)}doValidate(t){return super.doValidate(t)&&(!this.currentMask||this.currentMask.doValidate(this.currentMaskFlags(t)))}doPrepare(t,e){void 0===e&&(e={});let[n,i]=super.doPrepare(t,e);if(this.currentMask){let t;[n,t]=super.doPrepare(n,this.currentMaskFlags(e)),i=i.aggregate(t)}return[n,i]}doPrepareChar(t,e){void 0===e&&(e={});let[n,i]=super.doPrepareChar(t,e);if(this.currentMask){let t;[n,t]=super.doPrepareChar(n,this.currentMaskFlags(e)),i=i.aggregate(t)}return[n,i]}reset(){var t;null==(t=this.currentMask)||t.reset(),this.compiledMasks.forEach((t=>t.reset()))}get value(){return this.exposeMask?this.exposeMask.value:this.currentMask?this.currentMask.value:""}set value(t){this.exposeMask?(this.exposeMask.value=t,this.currentMask=this.exposeMask,this._applyDispatch()):super.value=t}get unmaskedValue(){return this.exposeMask?this.exposeMask.unmaskedValue:this.currentMask?this.currentMask.unmaskedValue:""}set unmaskedValue(t){this.exposeMask?(this.exposeMask.unmaskedValue=t,this.currentMask=this.exposeMask,this._applyDispatch()):super.unmaskedValue=t}get typedValue(){return this.exposeMask?this.exposeMask.typedValue:this.currentMask?this.currentMask.typedValue:""}set typedValue(t){if(this.exposeMask)return this.exposeMask.typedValue=t,this.currentMask=this.exposeMask,void this._applyDispatch();let e=String(t);this.currentMask&&(this.currentMask.typedValue=t,e=this.currentMask.unmaskedValue),this.unmaskedValue=e}get displayValue(){return this.currentMask?this.currentMask.displayValue:""}get isComplete(){var t;return Boolean(null==(t=this.currentMask)?void 0:t.isComplete)}get isFilled(){var t;return Boolean(null==(t=this.currentMask)?void 0:t.isFilled)}remove(t,e){const n=new w;return this.currentMask&&n.aggregate(this.currentMask.remove(t,e)).aggregate(this._applyDispatch()),n}get state(){var t;return{...super.state,_rawInputValue:this.rawInputValue,compiledMasks:this.compiledMasks.map((t=>t.state)),currentMaskRef:this.currentMask,currentMask:null==(t=this.currentMask)?void 0:t.state}}set state(t){const{compiledMasks:e,currentMaskRef:n,currentMask:i,...s}=t;e&&this.compiledMasks.forEach(((t,n)=>t.state=e[n])),null!=n&&(this.currentMask=n,this.currentMask.state=i),super.state=s}extractInput(t,e,n){return this.currentMask?this.currentMask.extractInput(t,e,n):""}extractTail(t,e){return this.currentMask?this.currentMask.extractTail(t,e):super.extractTail(t,e)}doCommit(){this.currentMask&&this.currentMask.doCommit(),super.doCommit()}nearestInputPos(t,e){return this.currentMask?this.currentMask.nearestInputPos(t,e):super.nearestInputPos(t,e)}get overwrite(){return this.currentMask?this.currentMask.overwrite:this._overwrite}set overwrite(t){this._overwrite=t}get eager(){return this.currentMask?this.currentMask.eager:this._eager}set eager(t){this._eager=t}get skipInvalid(){return this.currentMask?this.currentMask.skipInvalid:this._skipInvalid}set skipInvalid(t){this._skipInvalid=t}get autofix(){return this.currentMask?this.currentMask.autofix:this._autofix}set autofix(t){this._autofix=t}maskEquals(t){return Array.isArray(t)?this.compiledMasks.every(((e,n)=>{if(!t[n])return;const{mask:i,...s}=t[n];return d(e,s)&&e.maskEquals(i)})):super.maskEquals(t)}typedValueEquals(t){var e;return Boolean(null==(e=this.currentMask)?void 0:e.typedValueEquals(t))}}O.DEFAULTS={...C.DEFAULTS,dispatch:(t,e,n,i)=>{if(!e.compiledMasks.length)return;const s=e.rawInputValue,r=e.compiledMasks.map(((r,o)=>{const u=e.currentMask===r,l=u?r.displayValue.length:r.nearestInputPos(r.displayValue.length,a);return r.rawInputValue!==s?(r.reset(),r.append(s,{raw:!0})):u||r.remove(l),r.append(t,e.currentMaskFlags(n)),r.appendTail(i),{index:o,weight:r.rawInputValue.length,totalInputPositions:r.totalInputPositions(0,Math.max(l,r.nearestInputPos(r.displayValue.length,a)))}}));return r.sort(((t,e)=>e.weight-t.weight||e.totalInputPositions-t.totalInputPositions)),e.compiledMasks[r[0].index]}},p.MaskedDynamic=O;class M extends L{constructor(t){super({...M.DEFAULTS,...t})}updateOptions(t){super.updateOptions(t)}_update(t){const{enum:e,...n}=t;if(e){const t=e.map((t=>t.length)),i=Math.min(...t),s=Math.max(...t)-i;n.mask="*".repeat(i),s&&(n.mask+="["+"*".repeat(s)+"]"),this.enum=e}super._update(n)}_appendCharRaw(t,e){void 0===e&&(e={});const n=Math.min(this.nearestInputPos(0,l),this.value.length),i=this.enum.filter((e=>this.matchValue(e,this.unmaskedValue+t,n)));if(i.length){1===i.length&&this._forEachBlocksInRange(0,this.value.length,((t,n)=>{const s=i[0][n];n>=this.value.length||s===t.value||(t.reset(),t._appendChar(s,e))}));const t=super._appendCharRaw(i[0][this.value.length],e);return 1===i.length&&i[0].slice(this.unmaskedValue.length).split("").forEach((e=>t.aggregate(super._appendCharRaw(e)))),t}return new w({skip:!this.isComplete})}extractTail(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.displayValue.length),new _("",t)}remove(t,e){if(void 0===t&&(t=0),void 0===e&&(e=this.displayValue.length),t===e)return new w;const n=Math.min(super.nearestInputPos(0,l),this.value.length);let i;for(i=t;i>=0;--i){const t=this.enum.filter((t=>this.matchValue(t,this.value.slice(n,i),n)));if(t.length>1)break}const s=super.remove(i,e);return s.tailShift+=i-t,s}get isComplete(){return this.enum.indexOf(this.value)>=0}}var B;M.DEFAULTS={...L.DEFAULTS,matchValue:(t,e,n)=>t.indexOf(e,n)===n},p.MaskedEnum=M,p.MaskedFunction=class extends C{updateOptions(t){super.updateOptions(t)}_update(t){super._update({...t,validate:t.mask})}};class D extends C{constructor(t){super({...D.DEFAULTS,...t})}updateOptions(t){super.updateOptions(t)}_update(t){super._update(t),this._updateRegExps()}_updateRegExps(){const t="^"+(this.allowNegative?"[+|\\-]?":""),e=(this.scale?"("+c(this.radix)+"\\d{0,"+this.scale+"})?":"")+"$";this._numberRegExp=new RegExp(t+"\\d*"+e),this._mapToRadixRegExp=new RegExp("["+this.mapToRadix.map(c).join("")+"]","g"),this._thousandsSeparatorRegExp=new RegExp(c(this.thousandsSeparator),"g")}_removeThousandsSeparators(t){return t.replace(this._thousandsSeparatorRegExp,"")}_insertThousandsSeparators(t){const e=t.split(this.radix);return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator),e.join(this.radix)}doPrepareChar(t,e){void 0===e&&(e={});const[n,i]=super.doPrepareChar(this._removeThousandsSeparators(this.scale&&this.mapToRadix.length&&(e.input&&e.raw||!e.input&&!e.raw)?t.replace(this._mapToRadixRegExp,this.radix):t),e);return t&&!n&&(i.skip=!0),!n||this.allowPositive||this.value||"-"===n||i.aggregate(this._appendChar("-")),[n,i]}_separatorsCount(t,e){void 0===e&&(e=!1);let n=0;for(let i=0;i<t;++i)this._value.indexOf(this.thousandsSeparator,i)===i&&(++n,e&&(t+=this.thousandsSeparator.length));return n}_separatorsCountFromSlice(t){return void 0===t&&(t=this._value),this._separatorsCount(this._removeThousandsSeparators(t).length,!0)}extractInput(t,e,n){return void 0===t&&(t=0),void 0===e&&(e=this.displayValue.length),[t,e]=this._adjustRangeWithSeparators(t,e),this._removeThousandsSeparators(super.extractInput(t,e,n))}_appendCharRaw(t,e){void 0===e&&(e={});const n=e.tail&&e._beforeTailState?e._beforeTailState._value:this._value,i=this._separatorsCountFromSlice(n);this._value=this._removeThousandsSeparators(this.value);const s=this._value;this._value+=t;const r=this.number;let o,a=!isNaN(r),u=!1;if(a){let t;null!=this.min&&this.min<0&&this.number<this.min&&(t=this.min),null!=this.max&&this.max>0&&this.number>this.max&&(t=this.max),null!=t&&(this.autofix?(this._value=this.format(t,this).replace(D.UNMASKED_RADIX,this.radix),u||(u=s===this._value&&!e.tail)):a=!1),a&&(a=Boolean(this._value.match(this._numberRegExp)))}a?o=new w({inserted:this._value.slice(s.length),rawInserted:u?"":t,skip:u}):(this._value=s,o=new w),this._value=this._insertThousandsSeparators(this._value);const l=e.tail&&e._beforeTailState?e._beforeTailState._value:this._value,c=this._separatorsCountFromSlice(l);return o.tailShift+=(c-i)*this.thousandsSeparator.length,o}_findSeparatorAround(t){if(this.thousandsSeparator){const e=t-this.thousandsSeparator.length+1,n=this.value.indexOf(this.thousandsSeparator,e);if(n<=t)return n}return-1}_adjustRangeWithSeparators(t,e){const n=this._findSeparatorAround(t);n>=0&&(t=n);const i=this._findSeparatorAround(e);return i>=0&&(e=i+this.thousandsSeparator.length),[t,e]}remove(t,e){void 0===t&&(t=0),void 0===e&&(e=this.displayValue.length),[t,e]=this._adjustRangeWithSeparators(t,e);const n=this.value.slice(0,t),i=this.value.slice(e),s=this._separatorsCount(n.length);this._value=this._insertThousandsSeparators(this._removeThousandsSeparators(n+i));const r=this._separatorsCountFromSlice(n);return new w({tailShift:(r-s)*this.thousandsSeparator.length})}nearestInputPos(t,e){if(!this.thousandsSeparator)return t;switch(e){case s:case r:case a:{const n=this._findSeparatorAround(t-1);if(n>=0){const i=n+this.thousandsSeparator.length;if(t<i||this.value.length<=i||e===a)return n}break}case u:case l:{const e=this._findSeparatorAround(t);if(e>=0)return e+this.thousandsSeparator.length}}return t}doCommit(){if(this.value){const t=this.number;let e=t;null!=this.min&&(e=Math.max(e,this.min)),null!=this.max&&(e=Math.min(e,this.max)),e!==t&&(this.unmaskedValue=this.format(e,this));let n=this.value;this.normalizeZeros&&(n=this._normalizeZeros(n)),this.padFractionalZeros&&this.scale>0&&(n=this._padFractionalZeros(n)),this._value=n}super.doCommit()}_normalizeZeros(t){const e=this._removeThousandsSeparators(t).split(this.radix);return e[0]=e[0].replace(/^(\D*)(0*)(\d*)/,((t,e,n,i)=>e+i)),t.length&&!/\d$/.test(e[0])&&(e[0]=e[0]+"0"),e.length>1&&(e[1]=e[1].replace(/0*$/,""),e[1].length||(e.length=1)),this._insertThousandsSeparators(e.join(this.radix))}_padFractionalZeros(t){if(!t)return t;const e=t.split(this.radix);return e.length<2&&e.push(""),e[1]=e[1].padEnd(this.scale,"0"),e.join(this.radix)}doSkipInvalid(t,e,n){void 0===e&&(e={});const i=0===this.scale&&t!==this.thousandsSeparator&&(t===this.radix||t===D.UNMASKED_RADIX||this.mapToRadix.includes(t));return super.doSkipInvalid(t,e,n)&&!i}get unmaskedValue(){return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix,D.UNMASKED_RADIX)}set unmaskedValue(t){super.unmaskedValue=t}get typedValue(){return this.parse(this.unmaskedValue,this)}set typedValue(t){this.rawInputValue=this.format(t,this).replace(D.UNMASKED_RADIX,this.radix)}get number(){return this.typedValue}set number(t){this.typedValue=t}get allowNegative(){return null!=this.min&&this.min<0||null!=this.max&&this.max<0}get allowPositive(){return null!=this.min&&this.min>0||null!=this.max&&this.max>0}typedValueEquals(t){return(super.typedValueEquals(t)||D.EMPTY_VALUES.includes(t)&&D.EMPTY_VALUES.includes(this.typedValue))&&!(0===t&&""===this.value)}}B=D,D.UNMASKED_RADIX=".",D.EMPTY_VALUES=[...C.EMPTY_VALUES,0],D.DEFAULTS={...C.DEFAULTS,mask:Number,radix:",",thousandsSeparator:"",mapToRadix:[B.UNMASKED_RADIX],min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,scale:2,normalizeZeros:!0,padFractionalZeros:!1,parse:Number,format:t=>t.toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:20})},p.MaskedNumber=D;const P={MASKED:"value",UNMASKED:"unmaskedValue",TYPED:"typedValue"};function V(t,e,n){void 0===e&&(e=P.MASKED),void 0===n&&(n=P.MASKED);const i=g(t);return t=>i.runIsolated((i=>(i[e]=t,i[n])))}p.PIPE_TYPE=P,p.createPipe=V,p.pipe=function(t,e,n,i){return V(e,n,i)(t)},p.RepeatBlock=class extends L{get repeatFrom(){var t;return null!=(t=Array.isArray(this.repeat)?this.repeat[0]:this.repeat===1/0?0:this.repeat)?t:0}get repeatTo(){var t;return null!=(t=Array.isArray(this.repeat)?this.repeat[1]:this.repeat)?t:1/0}constructor(t){super(t)}updateOptions(t){super.updateOptions(t)}_update(t){var e,n,i;const{repeat:s,...r}=m(t);this._blockOpts=Object.assign({},this._blockOpts,r);const o=g(this._blockOpts);this.repeat=null!=(e=null!=(n=null!=s?s:o.repeat)?n:this.repeat)?e:1/0,super._update({mask:"m".repeat(Math.max(this.repeatTo===1/0&&(null==(i=this._blocks)?void 0:i.length)||0,this.repeatFrom)),blocks:{m:o},eager:o.eager,overwrite:o.overwrite,skipInvalid:o.skipInvalid,lazy:o.lazy,placeholderChar:o.placeholderChar,displayChar:o.displayChar})}_allocateBlock(t){return t<this._blocks.length?this._blocks[t]:this.repeatTo===1/0||this._blocks.length<this.repeatTo?(this._blocks.push(g(this._blockOpts)),this.mask+="m",this._blocks[this._blocks.length-1]):void 0}_appendCharRaw(t,e){void 0===e&&(e={});const n=new w;for(let a,u,l=null!=(i=null==(s=this._mapPosToBlock(this.displayValue.length))?void 0:s.index)?i:Math.max(this._blocks.length-1,0);a=null!=(r=this._blocks[l])?r:u=!u&&this._allocateBlock(l);++l){var i,s,r,o;const c=a._appendChar(t,{...e,_beforeTailState:null==(o=e._beforeTailState)||null==(o=o._blocks)?void 0:o[l]});if(c.skip&&u){this._blocks.pop(),this.mask=this.mask.slice(1);break}if(n.aggregate(c),c.consumed)break}return n}_trimEmptyTail(t,e){var n,i;void 0===t&&(t=0);const s=Math.max((null==(n=this._mapPosToBlock(t))?void 0:n.index)||0,this.repeatFrom,0);let r;null!=e&&(r=null==(i=this._mapPosToBlock(e))?void 0:i.index),null==r&&(r=this._blocks.length-1);let o=0;for(let t=r;s<=t&&!this._blocks[t].unmaskedValue;--t,++o);o&&(this._blocks.splice(r-o+1,o),this.mask=this.mask.slice(o))}reset(){super.reset(),this._trimEmptyTail()}remove(t,e){void 0===t&&(t=0),void 0===e&&(e=this.displayValue.length);const n=super.remove(t,e);return this._trimEmptyTail(t,e),n}totalInputPositions(t,e){return void 0===t&&(t=0),null==e&&this.repeatTo===1/0?1/0:super.totalInputPositions(t,e)}get state(){return super.state}set state(t){this._blocks.length=t._blocks.length,this.mask=this.mask.slice(0,this._blocks.length),super.state=t}};try{globalThis.IMask=p}catch{}!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}(self,(function(){return function(){var t={};!function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}(t);var e,n="fslightbox-",i="".concat(n,"styles"),s="".concat(n,"full-dimension"),r="".concat(n,"flex-centered"),a="".concat(n,"open"),u="".concat(n,"absoluted"),l="".concat(n,"opacity-1"),c="".concat(n,"slide-btn"),d="".concat(c,"-container"),h="".concat(n,"fade-in"),p="".concat(n,"fade-out"),f=h+"-strong",m=p+"-strong",g=("".concat(n,"caption"),"".concat(n,"thumb")),v=g+"s",b="".concat(v,"-loader"),x="".concat(v,"-cursorer"),y="".concat(v,"-inner"),k=g+"-wrapper",w=g+"-invalid";function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function C(t){var e=t.c,n=t.componentsServices,i=t.core.thumbsRenderDispatcher,s=t.data,r=t.ea,o=t.la,a=(t.stageIndexes,t.ui),u=t.z;function l(){for(var t=0;t<e;t++)o.t(t)}this.o=function(){u.r(),s.isThumbing=!0,r.uc(),a.sthc(),l(),i.renderThumbsIfNotYetAndAllTypesDetected(),s.unloadedThumbsCount&&n.appendThumbsLoaderIfNotYet()},this.x=function(){u.r(),s.isThumbing=!1,r.dc(),a.htsc(),l()}}function A(t,e){var n=t.classList;n.contains(e)&&n.remove(e)}function S(t,e){var n=t.classList;n.contains(e)||n.add(e)}function E(t){var e=t.data,n=t.elements,i=t.stageIndexes;this.runActions=function(){A(n.thumbsContainer,r);var t=innerWidth/2,o=n.thumbsWrappers[i.current],a=o.offsetLeft+o.offsetWidth/2,u=e.thumbsInnerWidth-a;a>t&&u>t?s(t-a):a>t?s(innerWidth-e.thumbsInnerWidth-9):u>t&&s(0)},this.runToThinThumbsActions=function(){S(n.thumbsContainer,r),s(0)};var s=function(t){e.thumbsTransform=t,n.thumbsInner.style.transform="translateX(".concat(t,"px)")}}function F(t){var e=this,n=t.core,i=n.eventsDispatcher,s=n.globalEventsController,r=n.scrollbarRecompensor,o=t.data,u=t.elements,l=t.fs,c=t.p,d=t.props,h=t.qs,p=t.ss,f=t.t,g=t.thumbsSwipingProps,v=t.z;this.isLightboxFadingOut=!1,this.runActions=function(){e.isLightboxFadingOut=!0,u.container.classList.add(m),s.removeListeners(),p.r(),d.exitFullscreenOnClose&&o.ifs&&l.x(),v.r(),f((function(){e.isLightboxFadingOut=!1;for(var n=0;n<t.ts.length;n++)clearTimeout(t.ts[n]);for(t.ts=[],n=0;n<h.length;n++)h[n]=0;c.i=!1,g&&(g.i=!1),u.container.classList.remove(m),document.documentElement.classList.remove(a),r.removeRecompense(),document.body.removeChild(u.container),i.dispatch("onClose")}),270)}}function L(t,e,n,i){var s=t.isl,r=t.props.slideChangeAnimation,o=t.saw,a=t.smw,u=t.st,l=t.stageIndexes,c=t.sws,d=e.previous,h=e.current,f=e.next;function m(){u.i(h)?h===l.previous?a[h].ne():h===l.next&&a[h].p():(a[h].h(),a[h].n())}function g(t,e,n){t&&o[e].classList.add(n)}this.runJumpReflowedActions=function(){g(n,h,p),g(i,l.current,r),c.a(),void 0!==l.previous&&l.previous!==h&&a[l.previous].ne(),a[l.current].n(),void 0!==l.next&&l.next!==h&&a[l.next].p(),c.b(d),c.b(f),s[h]?setTimeout(m,260):m()}}function I(t){var e,n=t.core.slideChangeFacade,i=t.props,s=t.ss,r=t.stageIndexes,o=!1;function a(){o=!1,clearTimeout(e),t.ssb.classList.remove(l),t.ssx()}function u(){var s=t.ssb;s.style.transition="opacity .2s",s.style.width="0px",s.offsetWidth,s.style.transition="opacity .2s, width linear ".concat(i.slideshowTime,"ms"),s.style.width=innerWidth+"px",e=setTimeout((function(){n.changeToNext(),i.disableSlideshowLoop&&r.current+1===i.sources.length?a():u()}),i.slideshowTime)}s.t=function(){o?a():(o=!0,t.sss(),t.ssb.classList.add(l),u())},s.r=function(){o&&a()}}function T(t){var e=t.p,n=Object.keys(e),i=e[n[0]],s=e[n[1]];return Math.hypot(i.screenX-s.screenX,i.screenY-s.screenY)}function O(t){t.componentsServices;var e=t.core.pointeringBucket,n=t.elements,i=t.p,s=t.smw,r=t.stageIndexes,o=t.z,a=t.zv;function u(t,e){s[t].v(i.swipedX)[e]()}this.a=function(s){e.runSwipingMoveActionsForPropsAndEvent(i,s),n.container.contains(t.h)||n.container.appendChild(t.h)},this.p=function(){var t=T(i);if(i.pinchedHypot){var e=t-i.pinchedHypot,n=a+e/Math.hypot(innerWidth,innerHeight)*10;n<.9&&(n=.9),o.z(n),i.pinchedHypot=t}else i.pinchedHypot=t},this.s=function(){u(r.current,"z"),void 0!==r.previous&&i.swipedX>0?u(r.previous,"ne"):void 0!==r.next&&i.swipedX<0&&u(r.next,"p")},this.zs=function(t){i.swipedX=(t.screenX-i.downScreenX)/a,i.swipedY=(t.screenY-i.downScreenY)/a,s[r.current].v(i.ux+i.swipedX,i.uy+i.swipedY).z()}}function M(t,e){var n=t.c,i=t.dss,s=t.p,r=t.r,o=t.zv,a=r(O);if(s.isPinching)return a.a(e),void a.p();2!==s.pc&&(1===o?1===n||i?s.swipedX=1:(a.a(e),a.s()):(a.a(e),a.zs(e)))}function B(t){var e=t.core,n=e.clickZoomer,i=e.slideIndexChanger,s=t.p,r=t.smw,o=t.stageIndexes,a=t.sws,u=t.zv;function l(t){var e=r[o.current];e.a(),e[t]()}function c(t,e){void 0!==t&&(r[t].s(),r[t][e]())}this.p=function(){var t=o.previous;if(void 0===t)l("z");else{l("p");var e=o.next;i.changeTo(t);var n=o.previous;a.d(n),a.b(e),l("z"),c(n,"ne")}},this.n=function(){var t=o.next;if(void 0===t)l("z");else{l("ne");var e=o.previous;i.changeTo(t);var n=o.next;a.d(n),a.b(e),l("z"),c(n,"p")}},this.s=function(){var t=r[o.current];s.ux=t.gx(),s.uy=t.gy()},this.d=function(){u<=1?n.zoomIn():n.zoomOut()}}function D(t,e){t.contains(e)&&t.removeChild(e)}function P(t){t.componentsServices;var e=t.core,n=e.lightboxCloser,i=e.pointeringBucket,s=t.dss,r=t.elements,o=t.p,a=t.props.disableBackgroundClose,u=t.r,l=t.swc,c=(t.ui,t.zv),d=u(B);this.a=function(){D(r.container,t.h),o.isPinching=!1,o.pinchedHypot=0,i.runSwipingTopActionsForPropsAndEvent(o),l.classList.remove("fslightboxswcp")},this.s=function(){1===c?s||(o.swipedX>0?d.p():d.n()):d.s()},this.n=function(t){"VIDEO"!==t.target.tagName&&(o.sd?d.d():a||n.close())}}function V(t,e){var n=t.p;n.p[e.pointerId]={screenX:e.screenX,screenY:e.screenY};var i=Object.keys(n.p).length;return n.pc=i,i<=2}function z(t){var e=t.core.pointeringBucket,n=t.data,i=t.elements,s=t.thumbsSwipingProps;this.runActions=function(t){e.runSwipingMoveActionsForPropsAndEvent(s,t),i.thumbsInner.style.transform="translateX(".concat(n.thumbsTransform+s.swipedX,"px)"),i.thumbsContainer.contains(i.thumbsCursorer)||i.thumbsContainer.appendChild(i.thumbsCursorer)}}function R(t){var e=t.data,n=t.resolve,i=t.thumbsSwipingProps,s=n(z),r=window.innerWidth;this.listener=function(t){e.thumbsInnerWidth>r&&i.i&&s.runActions(t)}}function q(t){var e=t.data,n=t.core,i=n.slideIndexChanger,s=n.thumbsTransformTransitioner,r=n.pointeringBucket,o=t.elements,a=t.thumbsSwipingProps,u=o.thumbsWrappers;this.runNoSwipeActionsForEvent=function(t){D(o.thumbsContainer,o.thumbsCursorer),a.i=!1;for(var e=0;e<u.length;e++)if(u[e]&&u[e].contains(t.target))return void i.jumpTo(e)},this.runActions=function(){if(D(o.thumbsContainer,o.thumbsCursorer),e.thumbsTransform+=a.swipedX,r.runSwipingTopActionsForPropsAndEvent(a),e.thumbsTransform>0)return l(0);e.thumbsTransform<innerWidth-e.thumbsInnerWidth-9&&l(innerWidth-e.thumbsInnerWidth-9)};var l=function(t){e.thumbsTransform=t,s.callActionWithTransition((function(){o.thumbsInner.style.transform="translateX(".concat(t,"px)")}))}}function N(t){var e=t.resolve,n=t.thumbsSwipingProps,i=e(q);this.listener=function(t){n.i&&(n.swipedX?i.runActions():i.runNoSwipeActionsForEvent(t))}}function j(t){var e=t.m,n=t.props,i=t.r,s=t.ui,r=i(N),o=i(R),a=function(){var t=!1;return function(){return!t&&(t=!0,requestAnimationFrame((function(){t=!1})),!0)}}();this.m=function(i){s.qps(),t.p.i&&e(M,V)(i),n.disableThumbs||o.listener(i)},this.u=function(e){!function(t,e){var n=t.p,i=t.r,s=t.z,r=t.zv,o=i(P);n.p={},n.i&&(n.isPinching||(n.swipedX?o.s():o.n(e)),o.a(),r<1&&(s.z(1),s.e()))}(t,e),n.disableThumbs||r.listener(e),s.qps()},this.w=function(e){t.p.i||(s.qps(),a()&&function(t,e){var n=t.z,i=t.zv;if(1===i){if(e.deltaY>0)return;n.b()}var s=.1*i,r=i;e.deltaY<0?r+=s:(r-=s)<1&&(r=1),n.z(r),1===r&&n.e()}(t,e))}}function H(t,e){var n=t.core,i=n.clickZoomer,s=n.lightboxCloser,r=n.slideChangeFacade,a=n.thumbsToggler,u=t.fs,l=(t.middleware,t.props),c=t.ss;if(t.ui.qps(),"Space"!==e.code)switch(e.key){case"Escape":s.close();break;case"ArrowLeft":r.changeToPrevious();break;case"ArrowRight":r.changeToNext();break;case"t":l.disableThumbs||a.toggleThumbs();break;case"+":o.p.i||i.zoomIn();break;case"-":o.p.i||i.zoomOut();break;case"F11":e.preventDefault(),u.t()}else c.t()}function W(t,e,i,s,r){var o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttributeNS(null,"width",e),o.setAttributeNS(null,"height",e),o.setAttributeNS(null,"viewBox",s);var a=document.createElementNS("http://www.w3.org/2000/svg","path");return a.setAttributeNS(null,"class","".concat(n,"svg-path")),a.setAttributeNS(null,"d",r),o.appendChild(a),t.appendChild(o),o}function U(t,e){var i=document.createElement("div");return i.className="".concat(n,"toolbar-button ").concat(r),i.title=e,t.appendChild(i),i}function $(t,e,n){var i=U(t,e.title);i.onclick=n,W(i,e.width,e.height,e.viewBox,e.d)}function Y(t){var e=t.props.sources,i=t.elements,s=document.createElement("div");i.nav=s,s.className="".concat(n,"nav"),i.container.appendChild(s),function(t,e){var i=t.core,s=i.clickZoomer,r=s.zoomIn,o=s.zoomOut,a=i.lightboxCloser.close,u=i.thumbsToggler,l=t.props,c=l.customToolbarButtons,d=l.disableThumbs,h=l.toolbarButtons,p=document.createElement("div");p.className="".concat(n,"toolbar"),e.appendChild(p);for(var f=function(e){$(p,c[e],(function(){return c[e].onClick(t)}))},m=0;m<c.length;m++)f(m);d||$(p,h.thumbs,u.toggleThumbs),$(p,h.zoomIn,r),$(p,h.zoomOut,o),function(t,e){var n=t.props.toolbarButtons.slideshow,i=n.start,s=n.pause,r=t.ss,o=U(e,i.title);o.onclick=r.t;var a=W(o,i.width,i.height,i.viewBox,i.d);function u(t){o.title=t.title,a.setAttributeNS(null,"width",t.width),a.setAttributeNS(null,"height",t.height),a.setAttributeNS(null,"viewBox",t.viewBox),a.firstChild.setAttributeNS(null,"d",t.d)}t.sss=function(){u(s)},t.ssx=function(){u(i)}}(t,p),function(t,e){var n=t.componentsServices,i=t.data,s=t.fs,r=t.props.toolbarButtons.fullscreen,o=r.enter,a=r.exit,u=U(e,o.title),l=W(u,o.width,o.height,o.viewBox,o.d);function c(t){u.title=t.title,l.setAttributeNS(null,"width",t.width),l.setAttributeNS(null,"height",t.height),l.setAttributeNS(null,"viewBox",t.viewBox),l.firstChild.setAttributeNS(null,"d",t.d)}n.ofs=function(){i.ifs=!0,c(a)},n.xfs=function(){i.ifs=!1,c(o)},u.onclick=s.t}(t,p),$(p,h.close,a)}(t,s),e.length>1&&function(t,e){var i=t.componentsServices,s=t.props.sources,o=document.createElement("div");o.className="".concat(n,"slide-number-container");var a=document.createElement("div");a.className=r;var u=document.createElement("span");i.setSlideNumber=function(t){return u.innerHTML=t};var l=document.createElement("span");l.className="".concat(n,"slash");var c=document.createElement("div");c.innerHTML=s.length,o.appendChild(a),a.appendChild(u),a.appendChild(l),a.appendChild(c),e.appendChild(o),setTimeout((function(){a.offsetWidth>55&&(o.style.justifyContent="flex-start")}))}(t,s)}function X(t,e){var n=t.c,i=t.core.pointeringBucket,s=t.elements.sources,r=t.p,o=t.smw,a=t.stageIndexes,u=t.swc,l=t.z,c=t.zv;if("touch"!==e.pointerType&&"IMG"===e.target.tagName&&e.preventDefault(),i.runSwipingDownActionsForPropsAndEvent(r,e),r.downScreenY=e.screenY,2===r.pc)r.isPinching=!0,r.pinchedHypot=T(r),u.classList.add("fslightboxswcp"),1===c&&l.b();else for(var d=0;d<n;d++)o[d].d();var h=s[a.current];r.sd=h&&h.contains(e.target)}function K(t){var e="fslightbox-loader",n=document.createElement("div");n.className=e;for(var i=0;i<3;i++){var s=document.createElement("div");s.className="".concat(e,"-child"),n.appendChild(s)}return t.appendChild(n),n}function G(t,e){var n=t.smw,i=t.st,o=t.swc,a=document.createElement("div"),l="".concat(u," ").concat(s," ").concat(r),c=0,d=0,h=0;function p(t){c=t+d,a.style.transform="translate(".concat(c,"px,").concat(h,"px)"),d=0}function f(){return(1+t.props.slideDistance)*innerWidth}a.className=l,a.s=function(){a.style.display="flex"},a.h=function(){a.style.display="none"},a.a=function(){a.classList.add("fslightboxtt")},a.d=function(){a.classList.remove("fslightboxtt")},a.n=function(){a.style.removeProperty("transform")},a.v=function(t,e){return d=t,void 0!==e&&(h=e),a},a.gx=function(){return c},a.gy=function(){return h},a.ne=function(){p(-f())},a.z=function(){p(0)},a.p=function(){p(f())},o.appendChild(a),i.i(e)||a.h(),n[e]=a,function(t,e){var n=t.smw,i=t.sew,s=document.createElement("div");n[e].appendChild(s),i[e]=s,function(t,e){var n=t.saw,i=t.sew,s=document.createElement("div");K(s),i[e].appendChild(s),n[e]=s}(t,e)}(t,e)}function Z(t,e){var n=t.data.isThumbing,i=t.elements,s=i.captions,o=i.container,a=t.props.captions,u=t.stageIndexes.current,l=t.tc,c=document.createElement("div"),d=document.createElement("div"),h="fslightboxc ".concat(r);(u!==e||n&&!l)&&(h+=" fslightboxx"),c.className=h,d.className="fslightboxci",d.innerHTML=a[e],c.appendChild(d),s[e]=c,o.appendChild(c)}function Q(t,e){var n=t.core.slideChangeFacade,i=t.elements,s=t.props.slideButtons,o=e.charAt(0).toUpperCase()+e.slice(1),a="slideButton".concat(o),u=s[e];i[a]=document.createElement("div"),i[a].className="".concat(d," ").concat(d,"-").concat(e),i[a].title=u.title,i[a].onclick=n["changeTo".concat(o)],function(t,e){var n=document.createElement("div");n.className="".concat(c," ").concat(r),W(n,e.width,e.height,e.viewBox,e.d),t.appendChild(n)}(i[a],u),i.container.appendChild(i[a])}"object"===("undefined"==typeof document?"undefined":_(document))&&((e=document.createElement("style")).className=i,e.appendChild(document.createTextNode(".fslightbox-fade-in{animation:fslightbox-fade-in .3s cubic-bezier(0,0,.7,1)}.fslightbox-fade-out{animation:fslightbox-fade-out .3s ease}.fslightbox-fade-in-strong{animation:fslightbox-fade-in-strong forwards .3s cubic-bezier(0,0,.7,1)}.fslightbox-fade-out-strong{animation:fslightbox-fade-out-strong .3s ease}@keyframes fslightbox-fade-in{from{opacity:.65}to{opacity:1}}@keyframes fslightbox-fade-out{from{opacity:.35}to{opacity:0}}@keyframes fslightbox-fade-in-strong{from{opacity:.3}to{opacity:1}}@keyframes fslightbox-fade-out-strong{from{opacity:1}to{opacity:0}}.fslightbox-absoluted{position:absolute;top:0;left:0}.fslightboxcg{cursor:grabbing!important}.fslightbox-full-dimension{width:100%;height:100%}.fslightbox-open{overflow:hidden;height:100%}.fslightbox-flex-centered{display:flex;justify-content:center;align-items:center}.fslightbox-opacity-0{opacity:0!important}.fslightbox-opacity-1{opacity:1!important}.fslightboxx{opacity:0!important;z-index:-1!important}.fslightbox-scrollbarfix{padding-right:17px}.fslightboxtt{transition:transform .3s!important}.fslightbox-container{font-family:Arial,sans-serif;position:fixed;top:0;left:0;background:linear-gradient(rgba(30,30,30,.9),#000 1810%);touch-action:none;z-index:1000000000;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.fslightbox-container *{box-sizing:border-box}.fslightbox-svg-path{transition:fill .15s ease;fill:#d1d2d2}.fslightbox-loader{display:block;margin:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:67px;height:67px}.fslightbox-loader-child{box-sizing:border-box;display:block;position:absolute;width:54px;height:54px;margin:6px;border:5px solid;border-color:#999 transparent transparent transparent;border-radius:50%;animation:fslightbox-loader 1.2s cubic-bezier(.5,0,.5,1) infinite}.fslightbox-loader-child:nth-child(1){animation-delay:-.45s}.fslightbox-loader-child:nth-child(2){animation-delay:-.3s}.fslightbox-loader-child:nth-child(3){animation-delay:-.15s}@keyframes fslightbox-loader{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.fslightbox-thumbs-loader{width:54px!important;height:54px!important}.fslightbox-thumbs-loader div{border-width:4px!important;width:44px!important;height:44px!important}.fslightbox-nav{height:45px;width:100%;transition:opacity .3s}.fslightbox-slide-number-container{display:flex;justify-content:center;align-items:center;position:relative;height:100%;font-size:15px;color:#d7d7d7;z-index:0;max-width:55px;text-align:left}.fslightbox-slide-number-container .fslightbox-flex-centered{height:100%}.fslightbox-slash{display:block;margin:0 5px;width:1px;height:12px;transform:rotate(15deg);background:#fff}.fslightbox-toolbar{position:absolute;z-index:2;right:0;top:0;height:45px;display:flex;background:rgba(35,35,35,.65)}.fslightbox-toolbar-button{height:100%;width:45px;cursor:pointer}.fslightbox-toolbar-button:hover .fslightbox-svg-path{fill:#fff}.fslightbox-slide-btn-container{display:flex;align-items:center;padding:12px 12px 12px 6px;position:absolute;top:50%;cursor:pointer;z-index:2;transform:translateY(-50%);transition:opacity .3s}@media (min-width:476px){.fslightbox-slide-btn-container{padding:22px 22px 22px 6px}}@media (min-width:768px){.fslightbox-slide-btn-container{padding:30px 30px 30px 6px}}.fslightbox-slide-btn-container:hover .fslightbox-svg-path{fill:#f1f1f1}.fslightbox-slide-btn{padding:9px;font-size:26px;background:rgba(35,35,35,.65)}@media (min-width:768px){.fslightbox-slide-btn{padding:10px}}@media (min-width:1600px){.fslightbox-slide-btn{padding:11px}}.fslightbox-slide-btn-container-previous{left:0}@media (max-width:475.99px){.fslightbox-slide-btn-container-previous{padding-left:3px}}.fslightbox-slide-btn-container-next{right:0;padding-left:12px;padding-right:3px}@media (min-width:476px){.fslightbox-slide-btn-container-next{padding-left:22px}}@media (min-width:768px){.fslightbox-slide-btn-container-next{padding-left:30px}}@media (min-width:476px){.fslightbox-slide-btn-container-next{padding-right:6px}}.fslightboxh{z-index:3}.fslightboxss{width:0;height:2px;z-index:3;opacity:0;background:#fff}.fslightboxin{font-size:24px;color:#eaebeb;margin:auto}.fslightbox-video{object-fit:cover}.fslightboxyt{border:0}.fslightboxs{position:relative;z-index:3;display:block;opacity:0;margin:auto;cursor:zoom-in}.fslightboxswc{z-index:1;transition:transform .2s linear}.fslightboxswcp{transition:none!important}.fslightbox-thumbs{position:absolute;bottom:0;left:0;width:100%;z-index:2;background:linear-gradient(180deg,rgba(0,0,0,0),#1e1e1e 100%);transition:opacity .2s;padding:10px 5px 12px 5px;height:114px}@media (min-width:992px){.fslightbox-thumbs{padding-top:13px;height:120px}}@media (min-width:1600px){.fslightbox-thumbs{padding:14px 0;height:126px}}.fslightbox-thumbs-inner{display:inline-flex;justify-content:flex-start;align-items:center;height:100%}.fslightbox-thumb-wrapper{position:relative;height:100%;margin:0 4px;opacity:0;transition:opacity .3s}.fslightbox-thumb-wrapper svg{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);cursor:pointer;z-index:1}.fslightbox-thumb-wrapper path{fill:#fff}.fslightboxtd{position:absolute;top:2px;left:2px;width:calc(100% - 4px);height:calc(100% - 4px);background:rgba(0,0,0,.4);cursor:pointer}.fslightbox-thumb{cursor:pointer;border-radius:1px;height:100%;width:auto!important;border:2px solid transparent;max-width:unset;max-height:unset}.fslightboxta{border:2px solid #fff!important}.fslightbox-thumb-invalid{background:linear-gradient(to bottom,#0f0f0f,rgba(15,15,15,.5));display:inline-block;min-width:155px}.fslightbox-thumbs-cursorer{z-index:3;cursor:grabbing}.fslightboxc{position:absolute;bottom:0;left:50%;width:100%;transform:translateX(-50%);transition:opacity .2s,transform .3s;z-index:2;user-select:text}.fslightboxc:after{content:'';position:absolute;z-index:-1;top:0;left:0;opacity:1;transition:opacity 1s;width:100%;height:100%;background:linear-gradient(180deg,rgba(0,0,0,0),#1e1e1e 100%)}.fslightboxci{padding:20px 25px 30px 25px;max-width:1200px;color:#eee;text-align:center;font-size:14px}.fslightboxct{transform:translate(-50%,-88px)}.fslightboxct:after{opacity:0;transition:none}@media(min-width:992px){.fslightboxct{transform:translate(-50%,-93px)}}")),document.head.appendChild(e));var J="fslightbox-types";function tt(t){var e,n=t.props,i=0,s={};this.getSourceTypeFromLocalStorageByUrl=function(t){return e[t]?e[t]:r(t)},this.handleReceivedSourceTypeForUrl=function(t,n){if(!1===s[n]&&(i--,"invalid"!==t?s[n]=t:delete s[n],0===i)){!function(t,e){for(var n in e)t[n]=e[n]}(e,s);try{localStorage.setItem(J,JSON.stringify(e))}catch(t){}}};var r=function(t){i++,s[t]=!1};if(n.disableLocalStorage)this.getSourceTypeFromLocalStorageByUrl=function(){},this.handleReceivedSourceTypeForUrl=function(){};else{try{e=JSON.parse(localStorage.getItem(J))}catch(t){}e||(e={},this.getSourceTypeFromLocalStorageByUrl=r)}}var et="image",nt="video",it="youtube",st="custom",rt="invalid";function ot(t,e,n,i){var s=this,r=(t.data,t.elements.sources),o=n/i,a=0,u=null;this.s=function(){var t=r[e].style;u=s.g(),t.width="".concat(u[0],"px"),t.height="".concat(u[1],"px")},this.g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.mh,s=t.mw;return(a=s/o)<e?(n<s&&(a=i),[a*o,a]):[(a=i>e?e:i)*o,a]},this.d=function(){return u}}function at(t,e){var n=this,i=t.elements.sources,s=t.isl,r=t.la,o=t.props.initialAnimation,a=t.resolve,u=t.saw,c=t.sew,d=t.sz;function h(t,n){d[e]=a(ot,[e,t,n]),d[e].s()}this.a=function(t,a){s[e]=!0,i[e].classList.add(l),u[e].classList.add(o),u[e].removeChild(u[e].firstChild),requestAnimationFrame((function(){requestAnimationFrame((function(){c[e].classList.add("fslightboxtt")}))})),h(t,a),r.s(e),r.t(e),n.a=h}}function ut(t,e){var n,i=this,s=t.elements.sources,r=t.props,o=(0,t.resolve)(at,[e]);this.handleImageLoad=function(t){var e=t.target,n=e.naturalWidth,i=e.naturalHeight;o.a(n,i)},this.handleVideoLoad=function(t){var e=t.target,i=e.videoWidth,s=e.videoHeight;n=!0,o.a(i,s)},this.handleNotMetaDatedVideoLoad=function(){n||i.handleYoutubeLoad()},this.handleYoutubeLoad=function(){var t=1920,e=1080;r.maxYoutubeDimensions&&(t=r.maxYoutubeDimensions.width,e=r.maxYoutubeDimensions.height),o.a(t,e)},this.handleCustomLoad=function(){var t=s[e];t.offsetWidth&&t.offsetHeight?o.a(t.offsetWidth,t.offsetHeight):setTimeout(i.handleCustomLoad)}}function lt(t,e){var n=t.elements.sources,i=t.props.customAttributes,s=n[e];for(var r in i[e]){var o=i[e][r];"class"!==r?s.setAttribute(r,o):s.className+=" "+o}}function ct(t,e){var n=t.collections.sourceLoadHandlers,i=t.elements.sources,s=t.props.sources,r=t.saw,o=document.createElement("img");i[e]=o,o.className="fslightboxs",o.src=s[e],o.onload=n[e].handleImageLoad,lt(t,e),r[e].appendChild(o)}function dt(t,e){var n=t.collections.sourceLoadHandlers,i=t.elements.sources,s=t.props.sources,r=t.saw,o=document.createElement("video"),a=document.createElement("source");i[e]=o,o.className="fslightboxs",o.src=s[e],o.onloadedmetadata=function(t){n[e].handleVideoLoad(t)},o.controls=!0,lt(t,e),o.appendChild(a),setTimeout(n[e].handleNotMetaDatedVideoLoad,3e3),r[e].appendChild(o)}function ht(t,e){var n=t.collections.sourceLoadHandlers,i=t.elements,s=i.sources,r=i.saw,o=t.props.sources,a=(r=t.saw,document.createElement("iframe")),u=o[e],l=u.split("?")[1];s[e]=a,a.className="fslightboxs fslightboxyt",a.src="https://www.youtube.com/embed/".concat(u.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/)[2],"?").concat(l||""),a.allowFullscreen=!0,lt(t,e),r[e].appendChild(a),n[e].handleYoutubeLoad()}function pt(t,e){var n=t.collections.sourceLoadHandlers,i=t.elements.sources,s=t.props.sources,r=t.saw,o=s[e];i[e]=o,o.classList.add("fslightboxs"),lt(t,e),r[e].appendChild(o),n[e].handleCustomLoad()}function ft(t,e){t.data.isSourceLoaded;var n,i,s=t.elements.sources,o=t.props,a=o.initialAnimation;return o.sources,n=t.saw,i=document.createElement("div"),n=n[e],i.className="fslightboxin ".concat(r),i.innerHTML="Invalid source",n.removeChild(n.firstChild),s[e]=i,n.classList.add(a),void n.appendChild(i)}function mt(t,e,n){var i=t.props.thumbsIcons;if(i[n]){e.appendChild(i[n].cloneNode(!0));var s=document.createElement("div");s.className="fslightboxtd",e.appendChild(s)}}function gt(t,e,n){var i=t.elements,s=i.thumbsWrappers,r=i.thumbsInner;s[e]=document.createElement("div"),s[e].className=k,mt(t,s[e],e),function(t,e,n,i){var s=t.core.thumbLoadHandler.handleLoad,r=t.elements.thumbs,o=t.stageIndexes.current;r[n]=document.createElement("img"),r[n].src=i;var a=g;o===n&&(a+=" fslightboxta"),r[n].className=a,r[n].onload=s,e.appendChild(r[n])}(t,s[e],e,n),r.appendChild(s[e])}function vt(t){var e=t.core.thumbsRenderDispatcher,n=t.data,i=t.props,s=i.showThumbsOnMount,o=i.sources,a=i.thumbs;this.buildThumbForTypeAndIndex=function(i,u){var l;l=a[u]?function(){return gt(t,u,a[u])}:i===et?function(){return gt(t,u,o[u])}:function(){return function(t,e){var n=t.elements,i=n.thumbsWrappers,s=n.thumbsInner;i[e]=document.createElement("div"),i[e].className="".concat(w," ").concat(k),mt(t,i[e],e),function(t,e,n){var i=t.core.thumbLoadHandler.handleLoad,s=t.elements.thumbs,o=t.stageIndexes.current;s[n]=document.createElement("div");var a="".concat(g," ").concat(r);o===n&&(a+=" fslightboxta"),s[n].className=a,W(s[n],"22px",0,"0 0 30 30","M15,3C8.373,3,3,8.373,3,15c0,6.627,5.373,12,12,12s12-5.373,12-12C27,8.373,21.627,3,15,3z M16.212,8l-0.2,9h-2.024l-0.2-9 H16.212z M15.003,22.189c-0.828,0-1.323-0.441-1.323-1.182c0-0.755,0.494-1.196,1.323-1.196c0.822,0,1.316,0.441,1.316,1.196 C16.319,21.748,15.825,22.189,15.003,22.189z"),e.appendChild(s[n]),setTimeout(i)}(t,i[e],e),s.appendChild(i[e])}(t,u)},e.addFunctionToToBeRenderedAtIndex(l,u),(s||n.isThumbing)&&e.renderThumbsIfNotYetAndAllTypesDetected()}}function bt(t){var e,n=t.collections,i=n.sourceLoadHandlers,s=n.sourcesRenderFunctions,r=t.core.sourceDisplayFacade,o=t.props.disableThumbs,a=t.resolve;o||(e=a(vt)),this.runActionsForSourceTypeAndIndex=function(n,u){var l;switch(n!==rt&&(i[u]=a(ut,[u])),n){case et:l=ct;break;case nt:l=dt;break;case it:l=ht;break;case st:l=pt;break;default:l=ft}s[u]=function(){return l(t,u)},r.displaySourcesWhichShouldBeDisplayed(),o||e.buildThumbForTypeAndIndex(n,u)}}function xt(t,e,n){var i=t.props,s=i.types,r=i.type,o=i.sources;this.getTypeSetByClientForIndex=function(t){var e;return s&&s[t]?e=s[t]:r&&(e=r),e},this.retrieveTypeWithXhrForIndex=function(t){!function(t,e){var n=document.createElement("a");n.href=t;var i=n.hostname;if("www.youtube.com"===i||"youtu.be"===i)return e(it);var s=new XMLHttpRequest;s.onreadystatechange=function(){if(4!==s.readyState){if(2===s.readyState){var t,n=s.getResponseHeader("content-type");switch(n.slice(0,n.indexOf("/"))){case"image":t=et;break;case"video":t=nt;break;default:t=rt}s.onreadystatechange=null,s.abort(),e(t)}}else e(rt)},s.open("GET",t),s.send()}(o[t],(function(i){e.handleReceivedSourceTypeForUrl(i,o[t]),n.runActionsForSourceTypeAndIndex(i,t)}))}}function yt(t,e,n){return yt=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct.bind():function(t,e,n){var i=[null];i.push.apply(i,e);var s=new(Function.bind.apply(t,i));return n&&kt(s,n.prototype),s},yt.apply(null,arguments)}function kt(t,e){return kt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},kt(t,e)}function wt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _t(){for(var t=document.getElementsByTagName("a"),e=function(e){if(!t[e].hasAttribute("data-fslightbox"))return"continue";var n=t[e].getAttribute("href");if(!n)return console.warn('The "data-fslightbox" attribute was set without the "href" attribute.'),"continue";var i=t[e].getAttribute("data-fslightbox");fsLightboxInstances[i]||(fsLightboxInstances[i]=new FsLightbox);var s=null;"#"===n.charAt(0)?(s=document.getElementById(n.substring(1)).cloneNode(!0)).removeAttribute("id"):s=n,fsLightboxInstances[i].props.sources.push(s),fsLightboxInstances[i].elements.a.push(t[e]);var r=fsLightboxInstances[i].props.sources.length-1;t[e].onclick=function(t){t.preventDefault(),fsLightboxInstances[i].open(r)},d("captions","data-caption"),d("types","data-type"),d("thumbs","data-thumb");for(var o=["href","data-fslightbox","data-caption","data-type","data-thumb"],a=t[e].attributes,u=fsLightboxInstances[i].props.customAttributes,l=0;l<a.length;l++)if(-1===o.indexOf(a[l].name)&&"data-"===a[l].name.substr(0,5)){u[r]||(u[r]={});var c=a[l].name.substr(5);u[r][c]=a[l].value}function d(n,s){t[e].hasAttribute(s)&&(fsLightboxInstances[i].props[n][r]=t[e].getAttribute(s))}},n=0;n<t.length;n++)e(n);var i=Object.keys(fsLightboxInstances);window.fsLightbox=fsLightboxInstances[i[i.length-1]]}return window.FsLightbox=function(){var t=this;this.props={sources:[],maxYoutubeDimensions:null,customAttributes:[],customClasses:[],types:[],type:null,thumbs:[],thumbsIcons:[],captions:[],videosPosters:[],customToolbarButtons:[],initialAnimation:f,slideChangeAnimation:h,sourceMargin:.05,slideDistance:.3,slideshowTime:8e3,UIFadeOutTime:8e3,zoomIncrement:.25,toolbarButtons:{thumbs:{width:"17px",height:"17px",viewBox:"0 0 22 22",d:"M 3 2 C 2.448 2 2 2.448 2 3 L 2 6 C 2 6.552 2.448 7 3 7 L 6 7 C 6.552 7 7 6.552 7 6 L 7 3 C 7 2.448 6.552 2 6 2 L 3 2 z M 10 2 C 9.448 2 9 2.448 9 3 L 9 6 C 9 6.552 9.448 7 10 7 L 13 7 C 13.552 7 14 6.552 14 6 L 14 3 C 14 2.448 13.552 2 13 2 L 10 2 z M 17 2 C 16.448 2 16 2.448 16 3 L 16 6 C 16 6.552 16.448 7 17 7 L 20 7 C 20.552 7 21 6.552 21 6 L 21 3 C 21 2.448 20.552 2 20 2 L 17 2 z M 3 9 C 2.448 9 2 9.448 2 10 L 2 13 C 2 13.552 2.448 14 3 14 L 6 14 C 6.552 14 7 13.552 7 13 L 7 10 C 7 9.448 6.552 9 6 9 L 3 9 z M 10 9 C 9.448 9 9 9.448 9 10 L 9 13 C 9 13.552 9.448 14 10 14 L 13 14 C 13.552 14 14 13.552 14 13 L 14 10 C 14 9.448 13.552 9 13 9 L 10 9 z M 17 9 C 16.448 9 16 9.448 16 10 L 16 13 C 16 13.552 16.448 14 17 14 L 20 14 C 20.552 14 21 13.552 21 13 L 21 10 C 21 9.448 20.552 9 20 9 L 17 9 z M 3 16 C 2.448 16 2 16.448 2 17 L 2 20 C 2 20.552 2.448 21 3 21 L 6 21 C 6.552 21 7 20.552 7 20 L 7 17 C 7 16.448 6.552 16 6 16 L 3 16 z M 10 16 C 9.448 16 9 16.448 9 17 L 9 20 C 9 20.552 9.448 21 10 21 L 13 21 C 13.552 21 14 20.552 14 20 L 14 17 C 14 16.448 13.552 16 13 16 L 10 16 z M 17 16 C 16.448 16 16 16.448 16 17 L 16 20 C 16 20.552 16.448 21 17 21 L 20 21 C 20.552 21 21 20.552 21 20 L 21 17 C 21 16.448 20.552 16 20 16 L 17 16 z",title:"Thumbnails"},zoomIn:{width:"20px",height:"20px",viewBox:"0 0 30 30",d:"M 13 3 C 7.4889971 3 3 7.4889971 3 13 C 3 18.511003 7.4889971 23 13 23 C 15.396508 23 17.597385 22.148986 19.322266 20.736328 L 25.292969 26.707031 A 1.0001 1.0001 0 1 0 26.707031 25.292969 L 20.736328 19.322266 C 22.148986 17.597385 23 15.396508 23 13 C 23 7.4889971 18.511003 3 13 3 z M 13 5 C 17.430123 5 21 8.5698774 21 13 C 21 17.430123 17.430123 21 13 21 C 8.5698774 21 5 17.430123 5 13 C 5 8.5698774 8.5698774 5 13 5 z M 12.984375 7.9863281 A 1.0001 1.0001 0 0 0 12 9 L 12 12 L 9 12 A 1.0001 1.0001 0 1 0 9 14 L 12 14 L 12 17 A 1.0001 1.0001 0 1 0 14 17 L 14 14 L 17 14 A 1.0001 1.0001 0 1 0 17 12 L 14 12 L 14 9 A 1.0001 1.0001 0 0 0 12.984375 7.9863281 z",title:"Zoom In"},zoomOut:{width:"20px",height:"20px",viewBox:"0 0 30 30",d:"M 13 3 C 7.4889971 3 3 7.4889971 3 13 C 3 18.511003 7.4889971 23 13 23 C 15.396508 23 17.597385 22.148986 19.322266 20.736328 L 25.292969 26.707031 A 1.0001 1.0001 0 1 0 26.707031 25.292969 L 20.736328 19.322266 C 22.148986 17.597385 23 15.396508 23 13 C 23 7.4889971 18.511003 3 13 3 z M 13 5 C 17.430123 5 21 8.5698774 21 13 C 21 17.430123 17.430123 21 13 21 C 8.5698774 21 5 17.430123 5 13 C 5 8.5698774 8.5698774 5 13 5 z M 9 12 A 1.0001 1.0001 0 1 0 9 14 L 17 14 A 1.0001 1.0001 0 1 0 17 12 L 9 12 z",title:"Zoom Out"},slideshow:{start:{width:"16px",height:"16px",viewBox:"0 0 30 30",d:"M 6 3 A 1 1 0 0 0 5 4 A 1 1 0 0 0 5 4.0039062 L 5 15 L 5 25.996094 A 1 1 0 0 0 5 26 A 1 1 0 0 0 6 27 A 1 1 0 0 0 6.5800781 26.8125 L 6.5820312 26.814453 L 26.416016 15.908203 A 1 1 0 0 0 27 15 A 1 1 0 0 0 26.388672 14.078125 L 6.5820312 3.1855469 L 6.5800781 3.1855469 A 1 1 0 0 0 6 3 z",title:"Turn on slideshow"},pause:{width:"14px",height:"14px",viewBox:"0 0 356.19 356.19",d:"M121,0c18,0,33,15,33,33v372c0,18-15,33-33,33s-32-15-32-33V33C89,15,103,0,121,0zM317,0c18,0,32,15,32,33v372c0,18-14,33-32,33s-33-15-33-33V33C284,15,299,0,317,0z",title:"Turn off slideshow"}},fullscreen:{enter:{width:"20px",height:"20px",viewBox:"0 0 18 18",d:"M4.5 11H3v4h4v-1.5H4.5V11zM3 7h1.5V4.5H7V3H3v4zm10.5 6.5H11V15h4v-4h-1.5v2.5zM11 3v1.5h2.5V7H15V3h-4z",title:"Enter fullscreen"},exit:{width:"24px",height:"24px",viewBox:"0 0 950 1024",d:"M682 342h128v84h-212v-212h84v128zM598 810v-212h212v84h-128v128h-84zM342 342v-128h84v212h-212v-84h128zM214 682v-84h212v212h-84v-128h-128z",title:"Exit fullscreen"}},close:{width:"20px",height:"20px",viewBox:"0 0 24 24",d:"M 4.7070312 3.2929688 L 3.2929688 4.7070312 L 10.585938 12 L 3.2929688 19.292969 L 4.7070312 20.707031 L 12 13.414062 L 19.292969 20.707031 L 20.707031 19.292969 L 13.414062 12 L 20.707031 4.7070312 L 19.292969 3.2929688 L 12 10.585938 L 4.7070312 3.2929688 z",title:"Close"}},slideButtons:{previous:{width:"20px",height:"20px",viewBox:"0 0 20 20",d:"M18.271,9.212H3.615l4.184-4.184c0.306-0.306,0.306-0.801,0-1.107c-0.306-0.306-0.801-0.306-1.107,0L1.21,9.403C1.194,9.417,1.174,9.421,1.158,9.437c-0.181,0.181-0.242,0.425-0.209,0.66c0.005,0.038,0.012,0.071,0.022,0.109c0.028,0.098,0.075,0.188,0.142,0.271c0.021,0.026,0.021,0.061,0.045,0.085c0.015,0.016,0.034,0.02,0.05,0.033l5.484,5.483c0.306,0.307,0.801,0.307,1.107,0c0.306-0.305,0.306-0.801,0-1.105l-4.184-4.185h14.656c0.436,0,0.788-0.353,0.788-0.788S18.707,9.212,18.271,9.212z",title:"Previous"},next:{width:"20px",height:"20px",viewBox:"0 0 20 20",d:"M1.729,9.212h14.656l-4.184-4.184c-0.307-0.306-0.307-0.801,0-1.107c0.305-0.306,0.801-0.306,1.106,0l5.481,5.482c0.018,0.014,0.037,0.019,0.053,0.034c0.181,0.181,0.242,0.425,0.209,0.66c-0.004,0.038-0.012,0.071-0.021,0.109c-0.028,0.098-0.075,0.188-0.143,0.271c-0.021,0.026-0.021,0.061-0.045,0.085c-0.015,0.016-0.034,0.02-0.051,0.033l-5.483,5.483c-0.306,0.307-0.802,0.307-1.106,0c-0.307-0.305-0.307-0.801,0-1.105l4.184-4.185H1.729c-0.436,0-0.788-0.353-0.788-0.788S1.293,9.212,1.729,9.212z",title:"Next"}}},this.data={isThumbing:!1,scrollbarWidth:0},this.ifs=!1,this.isl=[],this.qs=[],this.ts=[],this.zv=1,this.p={p:{},ux:0,uy:0},this.stageIndexes={},this.elements={a:[],captions:[],container:null,nav:null,slideButtonPrevious:null,slideButtonNext:null,sources:[]},this.saw=[],this.sew=[],this.smw=[],this.componentsServices={setSlideNumber:function(){}},this.f=function(e){for(var n=0;n<t.c;n++)e(n)},this.m=function(e,n){return function(){for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];s.unshift(t),n.apply(void 0,s)&&e.apply(void 0,s)}},this.resolve=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return n.unshift(t),yt(e,function(t){return function(t){if(Array.isArray(t))return wt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return wt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wt(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n))},this.r=this.resolve,this.collections={sourceLoadHandlers:[],sourcesRenderFunctions:[]},this.sz=[],this.core={classFacade:{},clickZoomer:{},eventsDispatcher:{},globalEventsController:{},lightboxCloser:{},lightboxUpdater:{},pointeringBucket:{},scrollbarRecompensor:{},slideChangeFacade:{},slideIndexChanger:{},sourceDisplayFacade:{},swipingActioner:{}},this.ea={},this.fs={},this.la={},this.ss={},this.st={},this.sws={},this.ui={},this.z={},this.t=function(e,n){var i=t.ts.push(setTimeout((function(){delete t.ts[i-1],e()}),n))},this.q=function(e,n){var i=t.qs.push(0)-1;return function(){t.qs[i]++,t.t((function(){t.qs[i]--,t.qs[i]||e()}),n)}},function(t){var e=t.componentsServices,i=t.core,r=i.eventsDispatcher,o=(i.lightboxOpener,i.globalEventsController),c=i.scrollbarRecompensor,d=i.sourceDisplayFacade,h=t.data,m=t.ea,g=t.elements,k=t.la,w=t.smw,_=t.st,T=t.stageIndexes,O=t.sws,M=t.ui,B=!1;function D(){var e,i=t.props,o=i.disableThumbs,a=i.showThumbsOnMount,c=i.sources;B=!0,function(t){var e=t.props;t.dss=e.disableSlideSwiping,t.dt=e.disableThumbs,t.c=e.sources.length,t.tc=e.showThumbsWithCaptions}(t),h.scrollbarWidth=function(){var t=document.createElement("div"),e=t.style,n=document.createElement("div");e.visibility="hidden",e.width="100px",e.msOverflowStyle="scrollbar",e.overflow="scroll",n.style.width="100%",document.body.appendChild(t);var i=t.offsetWidth;t.appendChild(n);var s=n.offsetWidth;return document.body.removeChild(t),i-s}(),h.unloadedThumbsCount=c.length,o||(h.isThumbing=a,function(t){var e=t.core,n=t.data,i=t.elements,s=t.props;n.isThumbing=s.showThumbsOnMount,n.thumbsInnerWidth=null,n.thumbsTransform=0,n.thumbedSourceEnhancementWrapperScale=null,n.thumbedSourceEnhancementWrapperTranslateY=null,n.unloadedThumbsCount=s.sources.length,t.thumbsSwipingProps={i:!1,downScreenX:null,swipedX:null},e.thumbLoadHandler={},e.thumbsRenderDispatcher={},e.thumbsSwipingDown={},e.thumbsToggler={},e.thumbsTransformer={},e.thumbsTransformTransitioner={},i.thumbsContainer=null,i.thumbs=[],i.thumbsWrappers=[],i.thumbsComponents=[],i.thumbsInner=null,function(t){var e=t.core.thumbLoadHandler,n=t.componentsServices,i=t.data,s=t.elements.thumbsWrappers,r=t.la;e.handleLoad=function(){if(i.unloadedThumbsCount--,0===i.unloadedThumbsCount){for(var t=0;t<s.length;t++)s[t].classList.add(l);r.rt(),n.hideThumbsLoader()}}}(t),function(t){var e=t.core.thumbsRenderDispatcher,n=t.props.sources,i=[],s=!1,r=0;e.addFunctionToToBeRenderedAtIndex=function(t,e){i[e]=t,r++},e.renderThumbsIfNotYetAndAllTypesDetected=function(){if(!s&&r===n.length){s=!0;for(var t=0;t<n.length;t++)i[t]()}}}(t),function(t){var e=t.core,n=e.thumbsSwipingDown,i=e.pointeringBucket,s=t.thumbsSwipingProps;n.listener=function(t){t.preventDefault(),i.runSwipingDownActionsForPropsAndEvent(s,t)}}(t),function(t){var e=t.core.thumbsToggler,n=t.data,i=(0,t.resolve)(C);e.toggleThumbs=function(){n.isThumbing?i.x():i.o()}}(t),function(t){var e=t.core,n=e.thumbsTransformer,i=e.thumbsTransformTransitioner,s=t.data,r=(0,t.resolve)(E);n.transformToCurrent=function(){s.thumbsInnerWidth>innerWidth?r.runActions():r.runToThinThumbsActions()},n.transformToCurrentWithTransition=function(){s.thumbsInnerWidth>innerWidth&&i.callActionWithTransition(r.runActions)}}(t),function(t){var e=t.core.thumbsTransformTransitioner,n=t.elements,i=(0,t.q)((function(){n.thumbsInner.classList.remove("fslightboxtt")}),300);e.callActionWithTransition=function(t){n.thumbsInner.classList.add("fslightboxtt"),t(),i()}}(t)}(t)),function(t){!function(t){var e=t.core,n=e.classFacade,i=e.st,s=t.elements;n.removeFromEachElementClassIfContains=function(t,e){for(var n=0;n<s[t].length;n++)A(s[t][n],e)},n.stagedRemovalAndOutstagedAddingOfClassIfContains=function(t,e){for(var n=0;n<s[t].length;n++)i.i(n)?A(s[t][n],e):S(s[t][n],e)}}(t),function(t){var e=t.core.clickZoomer,n=(t.elements,t.props.zoomIncrement),i=t.q,s=t.z,r=i((function(){A(t.swc,"fslightboxtt")}),300);e.zoomIn=function(){o(),a(t.zv+n)},e.zoomOut=function(){t.zv-n<=1?1!==t.zv&&(a(1),s.e()):(o(),a(t.zv-n),1===t.zv&&s.e())};var o=function(){1===t.zv&&s.b()},a=function(e){S(t.swc,"fslightboxtt"),s.z(e),r()}}(t),function(t){var e=t.ea,n=t.data,i=t.elements,s=i.captions,r=i.thumbs,o=(t.stageIndexes,t.tc),a=t.ui;function u(t){if(o)for(var e=0;e<s.length;e++){var n=s[e];n&&n.classList[t]("fslightboxct")}}e.c=function(e,i){(o||!n.isThumbing||t.xu)&&(a.hc(e),a.sc(i))},e.dc=function(){u("remove")},e.uc=function(){u("add")},e.t=function(t,e){r&&r[e]&&(r[t].classList.remove("fslightboxta"),r[e].classList.add("fslightboxta"))}}(t),function(t){var e=t.core.eventsDispatcher,n=t.props;e.dispatch=function(e){n[e]&&n[e](t)}}(t),function(t){var e=t.componentsServices,n=t.data,i=t.fs,s=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"];function r(t){for(var e=0;e<s.length;e++)document[t](s[e],o)}function o(){document.fullscreenElement||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement?e.ofs():e.xfs()}i.o=function(){e.ofs();var t=document.documentElement;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()},i.x=function(){e.xfs(),document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},i.t=function(){n.ifs?i.x():i.o()},i.l=function(){r("addEventListener")},i.q=function(){r("removeEventListener")}}(t),function(t){var e,n=t.core.globalEventsController,i=t.fs,s=t.la,r=t.r,o=(t.ui,r(j));n.addListeners=function(){document.addEventListener("pointermove",o.m),document.addEventListener("pointerup",o.u),addEventListener("resize",s.r),e=function(e){H(t,e)},document.addEventListener("keydown",e),document.addEventListener("wheel",o.w),i.l()},n.removeListeners=function(){document.removeEventListener("pointermove",o.m),document.removeEventListener("pointerup",o.u),removeEventListener("resize",s.r),document.removeEventListener("keydown",e),document.removeEventListener("wheel",o.w),i.q()}}(t),function(t){t.c;var e=t.data,n=t.ea,i=t.elements,s=t.f,r=t.la,o=t.props.UIFadeOutTime,a=t.q,u=t.stageIndexes,l=t.tc,c=t.ui,d=i.captions,h=a((function(){t.xu=!0,p(k),1===t.zv&&e.isThumbing&&(r.ut(),l?n.dc():c.sc(u.current))}),o);function p(t){f(t),m(t),e.isThumbing&&y(t)}function f(t){t(i.nav)}function m(t){i.slideButtonPrevious&&(t(i.slideButtonPrevious),t(i.slideButtonNext))}function g(t,e){x(t,e)}function v(t){m(t),e.isThumbing?(y(t),l&&b(t)):b(t)}function b(t){x(t,u.current)}function x(t,e){var n=d[e];n&&t(n)}function y(t){t(i.thumbsContainer)}function k(t){t.classList.add("fslightboxx")}function w(t){t.classList.remove("fslightboxx")}o?(c.qps=function(){h(),t.xu&&(t.xu=!1,1===t.zv?p(w):f(w)),1===t.zv&&e.isThumbing&&(s((function(t){r.t(t)})),l?n.uc():c.hc(u.current))},c.q=function(){h()}):(c.qps=function(){},c.q=function(){}),c.sc=function(t){g(w,t)},c.hc=function(t){g(k,t)},c.zh=function(){v(k)},c.zs=function(){v(w)},c.sthc=function(){y(w),l||b(k)},c.htsc=function(){y(k),l||b(w)}}(t),function(t){var e=t.core.lightboxCloser,n=(0,t.resolve)(F);e.close=function(){n.isLightboxFadingOut||n.runActions()}}(t),function(t){var e=t.core.pointeringBucket;t.elements,e.runSwipingDownActionsForPropsAndEvent=function(t,e){t.i=!0,t.downScreenX=e.screenX,t.swipedX=0},e.runSwipingMoveActionsForPropsAndEvent=function(e,n){S(t.h,"fslightboxcg"),e.swipedX=n.screenX-e.downScreenX},e.runSwipingTopActionsForPropsAndEvent=function(e){A(t.h,"fslightboxcg"),e.i=!1}}(t),function(t){var e=t.data,n=t.core.scrollbarRecompensor;n.addRecompense=function(){"complete"===document.readyState?i():window.addEventListener("load",(function(){i(),n.addRecompense=i}))};var i=function(){document.body.offsetHeight>window.innerHeight&&(document.body.style.marginRight=e.scrollbarWidth+"px")};n.removeRecompense=function(){document.body.style.removeProperty("margin-right")}}(t),function(t){var e=t.c,n=t.core.thumbsTransformer,i=t.data,s=t.dt,r=t.elements,o=t.f,a=t.isl,u=t.la,l=t.props.sourceMargin,c=t.sew,d=t.smw,h=t.sz,p=t.stageIndexes,f=t.tc,m=r.captions,g=r.thumbs,v=1-2*l,b=1-l,x=[],y=[],k=[],w=[],_=[],C=0;function A(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;c[arguments.length>2?arguments[2]:void 0].style.transform="translateY(".concat(t,"px) scale(").concat(e,")")}u.r=function(){innerWidth>992?t.mw=v*innerWidth:t.mw=innerWidth,t.mh=v*innerHeight,0===i.unloadedThumbsCount&&u.rt(),void 0!==p.previous&&d[p.previous].ne(),void 0!==p.next&&d[p.next].p(),o((function(t){var e=h[t],n=m[t];e&&e.s(),n&&(x[t]=n.offsetHeight),s||(C=r.thumbsContainer.offsetHeight),u.s(t),d[t].d(),u.t(t)}))},u.s=function(t){var e=h[t];if(e){var n=e.d(),i=n[0]+n[1];if(x[t]){var r=e.g(innerHeight*b-x[t]);y[t]=(r[0]+r[1])/i,_[t]=-(x[t]-innerHeight/2+r[1]/2),_[t]>0&&(_[t]=0)}if(!s){if(f&&x[t]){var o=C+x[t];a=e.g((innerHeight-o)*(1-1.4*l)+34),k[t]=(a[0]+a[1])/i,w[t]=-(o-34-innerHeight/2+a[1]/2)}else{var a=e.g(innerHeight*b-C);k[t]=(a[0]+a[1])/i,w[t]=-(C-innerHeight/2+a[1]/2)}w[t]>0&&(w[t]=0)}}},u.t=function(e){a[e]&&(1!==t.zv?A(0,1,e):i.isThumbing?A(w[e],k[e],e):A(_[e],y[e],e))},u.ut=function(){o((function(t){a[t]&&A(_[t],y[t],t)}))},u.rt=function(){i.thumbsInnerWidth=0;for(var t=0;t<e;t++)i.thumbsInnerWidth+=g[t].offsetWidth+8;n.transformToCurrent()}}(t),I(t),function(t){var e=t.core,n=e.slideChangeFacade,i=e.slideIndexChanger,s=t.props.sources,r=t.st;s.length>1?(n.changeToPrevious=function(){i.jumpTo(r.getPreviousSlideIndex())},n.changeToNext=function(){i.jumpTo(r.getNextSlideIndex())}):(n.changeToPrevious=function(){},n.changeToNext=function(){})}(t),function(t){var e=t.componentsServices,n=t.core,i=n.eventsDispatcher,s=n.slideIndexChanger,r=n.sourceDisplayFacade,o=n.thumbsTransformer,a=t.ea,u=t.isl,l=t.props.disableThumbs,c=t.resolve,d=t.smw,h=t.st,p=t.stageIndexes,f=t.sws,m=t.z;s.changeTo=function(t){var n=p.current;m.r(),a.c(n,t),p.current=t,h.u(),e.setSlideNumber(t+1),l||(a.t(n,t),o.transformToCurrentWithTransition()),r.displaySourcesWhichShouldBeDisplayed(),i.dispatch("onSlideChange")},s.jumpTo=function(t){var e=p.current;if(e!==t){var n=c(L,[{previous:p.previous,current:e,next:p.next},u[e],u[t]]);s.changeTo(t);for(var i=0;i<d.length;i++)d[i].d();f.d(e),f.c(),requestAnimationFrame((function(){requestAnimationFrame(n.runJumpReflowedActions)}))}}}(t),function(t){var e=t.collections.sourcesRenderFunctions,n=t.core.sourceDisplayFacade,i=t.props.loadOnlyCurrentSource,s=t.stageIndexes;function r(t){e[t]&&(e[t](),delete e[t])}n.displaySourcesWhichShouldBeDisplayed=function(){if(i)r(s.current);else for(var t in s)r(s[t])}}(t),function(t){var e=t.isl,n=t.props,i=n.initialAnimation,s=n.slideChangeAnimation,r=t.stageIndexes,o=t.saw,a=t.smw,u=t.st,l=t.sws;l.a=function(){for(var t in r)a[r[t]].s()},l.b=function(t){void 0===t||u.i(t)||(a[t].h(),a[t].n())},l.c=function(){for(var t in r)l.d(r[t])},l.d=function(t){if(e[t]){var n=o[t];A(n,i),A(n,s),A(n,p)}}}(t),function(t){var e=t.elements,n=e.sources,i=e.smw,s=t.la,r=t.p,o=(i=t.smw,t.stageIndexes),a=t.ui,u=t.z;function l(t){var e=n[o.current];e&&(e.style.cursor=t)}u.z=function(e){t.zv=parseFloat(e.toPrecision(12)),t.swc.style.transform="scale(".concat(t.zv,")")},u.r=function(){1!==t.zv&&(u.z(1),u.e())},u.b=function(){l("grab"),a.zh(),s.t()},u.e=function(){l("zoom-in"),a.zs(),i[o.current].a(),i[o.current].v(0,0).z(),r.ux=0,r.uy=0}}(t)}(t),function(t){var e=t.elements,i=document.createElement("div");i.className="".concat(n,"container ").concat(s," ").concat(f),e.container=i}(t),function(t){t.h=document.createElement("div"),t.h.className="fslightboxth ".concat(s).concat(u)}(t),Y(t),function(t){t.ssb=document.createElement("div"),t.ssb.className="fslightboxss ".concat(u),t.elements.container.appendChild(t.ssb)}(t),function(t){var e=t.c,n=t.elements,i=t.m,r=document.createElement("div");r.className="fslightboxswc ".concat(u," ").concat(s),n.container.appendChild(r),r.addEventListener("pointerdown",i(X,V)),t.swc=r;for(var o=0;o<e;o++)G(t,o)}(t),function(t){for(var e=t.props.captions,n=0;n<e.length;n++)e[n]&&Z(t,n)}(t),c.length>1&&(Q(e=t,"previous"),Q(e,"next")),o||function(t){var e=t.componentsServices,n=t.elements,i=t.data;n.thumbsContainer=document.createElement("div");var r,o,a=v;function l(){o=!0,(r=K(n.thumbsContainer)).classList.add(b)}i.isThumbing?l():a+=" fslightboxx",e.appendThumbsLoaderIfNotYet=function(){o||l()},e.hideThumbsLoader=function(){n.thumbsContainer.removeChild(r)},n.thumbsContainer.className=a,n.container.appendChild(n.thumbsContainer),function(t){var e=t.elements;e.thumbsCursorer=document.createElement("div"),e.thumbsCursorer.className="".concat(x," ").concat(s," ").concat(u)}(t),function(t){var e=t.core.thumbsSwipingDown.listener,n=t.elements;n.thumbsInner=document.createElement("div"),n.thumbsInner.className=y,n.thumbsInner.addEventListener("pointerdown",e),n.thumbsContainer.appendChild(n.thumbsInner)}(t)}(t),function(t){for(var e=t.props.sources,n=t.resolve,i=n(tt),s=n(bt),r=n(xt,[i,s]),o=0;o<e.length;o++)if("string"==typeof e[o]){var a=r.getTypeSetByClientForIndex(o);if(a)s.runActionsForSourceTypeAndIndex(a,o);else{var u=i.getSourceTypeFromLocalStorageByUrl(e[o]);u?s.runActionsForSourceTypeAndIndex(u,o):r.retrieveTypeWithXhrForIndex(o)}}else s.runActionsForSourceTypeAndIndex(st,o)}(t),r.dispatch("onInit")}t.open=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=T.previous,s=T.current,u=T.next;T.current=n,B||function(t){var e=t.props.sources,n=t.st,i=t.stageIndexes,s=e.length-1;n.getPreviousSlideIndex=function(){return 0===i.current?s:i.current-1},n.getNextSlideIndex=function(){return i.current===s?0:i.current+1},n.u=0===s?function(){}:1===s?function(){0===i.current?(i.next=1,delete i.previous):(i.previous=0,delete i.next)}:function(){i.previous=n.getPreviousSlideIndex(),i.next=n.getNextSlideIndex()},n.i=s<=2?function(){return!0}:function(t){var e=i.current;if(0===e&&t===s||e===s&&0===t)return!0;var n=e-t;return-1===n||0===n||1===n}}(t),_.u(),B?(O.c(),O.a(),O.b(i),O.b(s),O.b(u),m.c(s,T.current),m.t(s,T.current),r.dispatch("onShow")):D(),d.displaySourcesWhichShouldBeDisplayed(),e.setSlideNumber(n+1),document.body.appendChild(g.container),document.documentElement.classList.add(a),c.addRecompense(),o.addListeners(),k.r(),w[T.current].n(),M.q(),r.dispatch("onOpen")}}(this),this.close=function(){return t.core.lightboxCloser.close()}},window.fsLightboxInstances={},_t(),window.refreshFsLightbox=function(){for(var t in fsLightboxInstances){var e=fsLightboxInstances[t].props;fsLightboxInstances[t]=new FsLightbox,fsLightboxInstances[t].props=e,fsLightboxInstances[t].props.sources=[],fsLightboxInstances[t].elements.a=[]}_t()},t}()}));var z=n(858),R=function(){function t(t){this.root=t,this.activeBtn=this.root.querySelector(".tabs-switch__btn_active"),this.root.querySelectorAll(".tabs-switch__btn").forEach((function(t,e){return t.setAttribute("data-idx",e)})),this.root.addEventListener("click",this.handleClick.bind(this))}return t.prototype.handleClick=function(t){var e,n,i=null===(e=t.target)||void 0===e?void 0:e.closest(".tabs-switch__btn");if(i&&this.activeBtn!==i){null===(n=this.activeBtn)||void 0===n||n.classList.remove("tabs-switch__btn_active"),i.classList.add("tabs-switch__btn_active"),this.activeBtn=i;var s=i.getAttribute("data-idx");this.root.dispatchEvent(new CustomEvent("tab-change",{detail:{idx:Number(s)}}))}},t}(),q=function(){function t(t,e){this.root=t,this.switchElem=e,this.activeTab=this.root.querySelector(".tabs__panel_active"),this.tabs=Array.from(this.root.querySelectorAll(".tabs__panel")),this.switchElem.addEventListener("tab-change",this.handleTabChange.bind(this))}return t.prototype.handleTabChange=function(t){var e,n,i=t.detail.idx;this.activeTab!==this.tabs[i]&&(null===(e=this.activeTab)||void 0===e||e.classList.remove("tabs__panel_active"),null===(n=this.tabs[i])||void 0===n||n.classList.add("tabs__panel_active"),this.activeTab=this.tabs[i])},t}();const N=n(228);var j=function(){function t(t){var e=this;this.activeItem=null,this.root=t,this.items=Array.from(t.querySelectorAll(".header-menu-item")).map((function(t){return new H(t,e)})),t.addEventListener("pointerleave",(function(t){return e.handlePointerLeave(t)})),document.addEventListener("click",(function(t){return e.handleOutsideClick(t)}))}return t.prototype.handlePointerLeave=function(t){window.innerWidth<=768||!window.app.hoverMedia.matches||this.setActiveItem(null)},t.prototype.handleOutsideClick=function(t){t.target.matches(".header-menu *, .header-menu")||this.setActiveItem(null)},t.prototype.setActiveItem=function(t){var e,n;null===(e=this.activeItem)||void 0===e||e.setActive(!1),this.activeItem=t,this.root.classList.toggle("_has-active-dropdown",t&&t.hasDropdown),this.root.style.setProperty("--submenu-height","".concat((null===(n=this.activeItem)||void 0===n?void 0:n.hasDropdown)?this.activeItem.height:0,"px"))},t.prototype.handleActiveItemResize=function(){var t;this.root.style.setProperty("--submenu-height","".concat((null===(t=this.activeItem)||void 0===t?void 0:t.hasDropdown)?this.activeItem.height:0,"px"))},t}(),H=function(){function t(t,e){var n=this;this.root=t,this.owner=e,t.addEventListener("pointerover",(function(t){return n.handlePointerOver(t)})),t.addEventListener("click",(function(t){return n.handleClick(t)})),this.hasDropdown=t.classList.contains("header-menu-item_dropdown"),this.hasDropdown&&(t.querySelector(".header-submenu__back-btn").addEventListener("click",(function(t){return n.handleClose(t)})),this.submenu=t.querySelector(".header-submenu"),this.submenuContainer=t.querySelector(".header-submenu__container"),this.observer=new ResizeObserver(z((function(){return n.handleSubmenuResize()}),25,{leading:!0})),this.observer.observe(this.submenu))}return t.prototype.handleClose=function(t){this.owner.setActiveItem(null),this.setActive(!1)},t.prototype.handleClick=function(t){this.hasDropdown&&!t.target.matches(".header-submenu *")&&(window.innerWidth>768&&window.app.hoverMedia.matches||(t.preventDefault(),this.owner.setActiveItem(this),this.setActive(!0)))},t.prototype.handleSubmenuResize=function(){this.height=this.submenuContainer.offsetHeight,this.owner.activeItem===this&&this.owner.handleActiveItemResize()},t.prototype.handlePointerOver=function(t){window.innerWidth<=768||!window.app.hoverMedia.matches||(this.owner.setActiveItem(this),this.setActive(!0))},t.prototype.setActive=function(t){var e;this.root.classList.toggle("_active",t),null===(e=this.submenu)||void 0===e||e.classList.toggle("_active",t)},t}(),W=function(){function t(t){var e=this;this.dom={root:t},this.dom.top=t.querySelector(".header__top"),this.menu=new j(t.querySelector(".header-menu")),this.observer=new ResizeObserver(z((function(){return e.handleResize()}),25,{leading:!0})),this.observer.observe(t)}return t.prototype.handleResize=function(){document.documentElement.style.setProperty("--header-height","".concat(this.dom.root.offsetHeight,"px"));var t=this.dom.top.getBoundingClientRect();document.documentElement.style.setProperty("--header-top-bottom","".concat(t.top+t.height,"px"))},t}();Number.prototype.clamp=function(t,e){return Math.max(t,Math.min(this.valueOf(),e))};var U={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return U.Android()||U.BlackBerry()||U.iOS()||U.Opera()||U.Windows()}},$={pointerdown:"MSPointerDown",pointerup:"MSPointerUp",pointercancel:"MSPointerCancel",pointermove:"MSPointerMove",pointerover:"MSPointerOver",pointerout:"MSPointerOut",pointerenter:"MSPointerEnter",pointerleave:"MSPointerLeave",gotpointercapture:"MSGotPointerCapture",lostpointercapture:"MSLostPointerCapture",maxTouchPoints:"msMaxTouchPoints"},Y={update:function(){"undefined"!=typeof window&&("PointerEvent"in window?(Y.hasApi=!0,Y.requiresPrefix=!1):window.navigator&&"msPointerEnabled"in window.navigator?(Y.hasApi=!0,Y.requiresPrefix=!0):(Y.hasApi=!1,Y.requiresPrefix=void 0),Y.maxTouchPoints=Y.hasApi&&window.navigator&&window.navigator[Y.prefix("maxTouchPoints")]||void 0,Y.hasTouch=Y.hasApi?Y.maxTouchPoints>0:void 0)},prefix:function(t){return Y.requiresPrefix&&$[t]||t}};Y.update();var X=function(){var t=new Map,e=function(t,e){var n=e.getBoundingClientRect();t.updateInnerHeightStyle(n.height)},n=new ResizeObserver(z((function(n){n.forEach((function(n){var i=n.target;e(t.get(i),i)}))}),10));return{observe:function(i,s){t.set(s,i),e(i,s),n.observe(s)}}}(),K=function(){function t(t){var e=this;this.dom={root:t},this.dom.inner=this.dom.root.querySelector('[data-elem*="disclosure.inner"]'),this.dom.toggleBtns=this.findToggleButtons(),this.dom.root.matches('[data-elem*="disclosure.toggle"]')&&this.dom.toggleBtns.push(this.dom.root),this.dom.toggleBtns.forEach((function(t){return t.addEventListener("click",(function(){return e.toggle(void 0,"trigger-click")}))})),X.observe(this,this.dom.inner)}return t.prototype.findToggleButtons=function(){var t=[],e=0,n=function(i){i.matches('[data-component*=":disclosure:"]')&&e++,i.matches('[data-elem*="disclosure.toggle"]')&&e<1&&t.push(i),Array.from(i.children).forEach(n)};return Array.from(this.dom.root.children).forEach(n),t},t.prototype.updateInnerHeightStyle=function(t){this.dom.root.style.setProperty("--inner-height","".concat(t,"px"))},t.prototype.toggle=function(t,e){null!=t?t?this.open(e):this.close(e):this.dom.root.classList.contains("_open")?this.close(e):this.open(e)},t.prototype.open=function(t){this.dom.root.classList.add("_open"),this.dom.toggleBtns.forEach((function(t){return t.classList.add("_active")})),this.dom.root.dispatchEvent(new CustomEvent("disclosure.open",{detail:{self:this,reason:t},bubbles:!0}))},t.prototype.close=function(t){this.dom.root.classList.remove("_open"),this.dom.toggleBtns.forEach((function(t){return t.classList.remove("_active")})),this.dom.root.dispatchEvent(new CustomEvent("disclosure.close",{detail:{self:this,reason:t},bubbles:!0}))},t}();function G(t,e){t.split(/\s+/).forEach((t=>{e(t)}))}class Z{constructor(){this._events={}}on(t,e){G(t,(t=>{const n=this._events[t]||[];n.push(e),this._events[t]=n}))}off(t,e){var n=arguments.length;0!==n?G(t,(t=>{if(1===n)return void delete this._events[t];const i=this._events[t];void 0!==i&&(i.splice(i.indexOf(e),1),this._events[t]=i)})):this._events={}}trigger(t,...e){var n=this;G(t,(t=>{const i=n._events[t];void 0!==i&&i.forEach((t=>{t.apply(n,e)}))}))}}const Q=t=>(t=t.filter(Boolean)).length<2?t[0]||"":1==it(t)?"["+t.join("")+"]":"(?:"+t.join("|")+")",J=t=>{if(!et(t))return t.join("");let e="",n=0;const i=()=>{n>1&&(e+="{"+n+"}")};return t.forEach(((s,r)=>{s!==t[r-1]?(i(),e+=s,n=1):n++})),i(),e},tt=t=>{let e=Array.from(t);return Q(e)},et=t=>new Set(t).size!==t.length,nt=t=>(t+"").replace(/([\$\(\)\*\+\.\?\[\]\^\{\|\}\\])/gu,"\\$1"),it=t=>t.reduce(((t,e)=>Math.max(t,st(e))),0),st=t=>Array.from(t).length,rt=t=>{if(1===t.length)return[[t]];let e=[];const n=t.substring(1);return rt(n).forEach((function(n){let i=n.slice(0);i[0]=t.charAt(0)+i[0],e.push(i),i=n.slice(0),i.unshift(t.charAt(0)),e.push(i)})),e},ot=[[0,65535]];let at,ut;const lt={},ct={"/":"⁄∕",0:"߀",a:"ⱥɐɑ",aa:"ꜳ",ae:"æǽǣ",ao:"ꜵ",au:"ꜷ",av:"ꜹꜻ",ay:"ꜽ",b:"ƀɓƃ",c:"ꜿƈȼↄ",d:"đɗɖᴅƌꮷԁɦ",e:"ɛǝᴇɇ",f:"ꝼƒ",g:"ǥɠꞡᵹꝿɢ",h:"ħⱨⱶɥ",i:"ɨı",j:"ɉȷ",k:"ƙⱪꝁꝃꝅꞣ",l:"łƚɫⱡꝉꝇꞁɭ",m:"ɱɯϻ",n:"ꞥƞɲꞑᴎлԉ",o:"øǿɔɵꝋꝍᴑ",oe:"œ",oi:"ƣ",oo:"ꝏ",ou:"ȣ",p:"ƥᵽꝑꝓꝕρ",q:"ꝗꝙɋ",r:"ɍɽꝛꞧꞃ",s:"ßȿꞩꞅʂ",t:"ŧƭʈⱦꞇ",th:"þ",tz:"ꜩ",u:"ʉ",v:"ʋꝟʌ",vy:"ꝡ",w:"ⱳ",y:"ƴɏỿ",z:"ƶȥɀⱬꝣ",hv:"ƕ"};for(let t in ct){let e=ct[t]||"";for(let n=0;n<e.length;n++){let i=e.substring(n,n+1);lt[i]=t}}const dt=new RegExp(Object.keys(lt).join("|")+"|[̀-ͯ·ʾʼ]","gu"),ht=(t,e="NFKD")=>t.normalize(e),pt=t=>Array.from(t).reduce(((t,e)=>t+ft(e)),""),ft=t=>(t=ht(t).toLowerCase().replace(dt,(t=>lt[t]||"")),ht(t,"NFC")),mt=t=>{const e=(t=>{const e={},n=(t,n)=>{const i=e[t]||new Set,s=new RegExp("^"+tt(i)+"$","iu");n.match(s)||(i.add(nt(n)),e[t]=i)};for(let e of function*(t){for(const[e,n]of t)for(let t=e;t<=n;t++){let e=String.fromCharCode(t),n=pt(e);n!=e.toLowerCase()&&(n.length>3||0!=n.length&&(yield{folded:n,composed:e,code_point:t}))}}(t))n(e.folded,e.folded),n(e.folded,e.composed);return e})(t),n={};let i=[];for(let t in e){let s=e[t];s&&(n[t]=tt(s)),t.length>1&&i.push(nt(t))}i.sort(((t,e)=>e.length-t.length));const s=Q(i);return ut=new RegExp("^"+s,"u"),n},gt=(t,e=1)=>(e=Math.max(e,t.length-1),Q(rt(t).map((t=>((t,e=1)=>{let n=0;return t=t.map((t=>(at[t]&&(n+=t.length),at[t]||t))),n>=e?J(t):""})(t,e))))),vt=(t,e=!0)=>{let n=t.length>1?1:0;return Q(t.map((t=>{let i=[];const s=e?t.length():t.length()-1;for(let e=0;e<s;e++)i.push(gt(t.substrs[e]||"",n));return J(i)})))},bt=(t,e)=>{for(const n of e){if(n.start!=t.start||n.end!=t.end)continue;if(n.substrs.join("")!==t.substrs.join(""))continue;let e=t.parts;const i=t=>{for(const n of e){if(n.start===t.start&&n.substr===t.substr)return!1;if(1!=t.length&&1!=n.length){if(t.start<n.start&&t.end>n.start)return!0;if(n.start<t.start&&n.end>t.start)return!0}}return!1};if(!(n.parts.filter(i).length>0))return!0}return!1};class xt{parts;substrs;start;end;constructor(){this.parts=[],this.substrs=[],this.start=0,this.end=0}add(t){t&&(this.parts.push(t),this.substrs.push(t.substr),this.start=Math.min(t.start,this.start),this.end=Math.max(t.end,this.end))}last(){return this.parts[this.parts.length-1]}length(){return this.parts.length}clone(t,e){let n=new xt,i=JSON.parse(JSON.stringify(this.parts)),s=i.pop();for(const t of i)n.add(t);let r=e.substr.substring(0,t-s.start),o=r.length;return n.add({start:s.start,end:s.start+o,length:o,substr:r}),n}}const yt=(t,e)=>{if(t)return t[e]},kt=(t,e)=>{if(t){for(var n,i=e.split(".");(n=i.shift())&&(t=t[n]););return t}},wt=(t,e,n)=>{var i,s;return t?(t+="",null==e.regex||-1===(s=t.search(e.regex))?0:(i=e.string.length/t.length,0===s&&(i+=.5),i*n)):0},_t=(t,e)=>{var n=t[e];if("function"==typeof n)return n;n&&!Array.isArray(n)&&(t[e]=[n])},Ct=(t,e)=>{if(Array.isArray(t))t.forEach(e);else for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},At=(t,e)=>"number"==typeof t&&"number"==typeof e?t>e?1:t<e?-1:0:(t=pt(t+"").toLowerCase())>(e=pt(e+"").toLowerCase())?1:e>t?-1:0;class St{items;settings;constructor(t,e){this.items=t,this.settings=e||{diacritics:!0}}tokenize(t,e,n){if(!t||!t.length)return[];const i=[],s=t.split(/\s+/);var r;return n&&(r=new RegExp("^("+Object.keys(n).map(nt).join("|")+"):(.*)$")),s.forEach((t=>{let n,s=null,o=null;r&&(n=t.match(r))&&(s=n[1],t=n[2]),t.length>0&&(o=this.settings.diacritics?(t=>{void 0===at&&(at=mt(ot)),t=pt(t);let e="",n=[new xt];for(let i=0;i<t.length;i++){let s=t.substring(i).match(ut);const r=t.substring(i,i+1),o=s?s[0]:null;let a=[],u=new Set;for(const t of n){const e=t.last();if(!e||1==e.length||e.end<=i)if(o){const e=o.length;t.add({start:i,end:i+e,length:e,substr:o}),u.add("1")}else t.add({start:i,end:i+1,length:1,substr:r}),u.add("2");else if(o){let n=t.clone(i,e);const s=o.length;n.add({start:i,end:i+s,length:s,substr:o}),a.push(n)}else u.add("3")}if(a.length>0){a=a.sort(((t,e)=>t.length()-e.length()));for(let t of a)bt(t,n)||n.push(t)}else if(i>0&&1==u.size&&!u.has("3")){e+=vt(n,!1);let t=new xt;const i=n[0];i&&t.add(i.last()),n=[t]}}return e+=vt(n,!0),e})(t)||null:nt(t),o&&e&&(o="\\b"+o)),i.push({string:t,regex:o?new RegExp(o,"iu"):null,field:s})})),i}getScoreFunction(t,e){var n=this.prepareSearch(t,e);return this._getScoreFunction(n)}_getScoreFunction(t){const e=t.tokens,n=e.length;if(!n)return function(){return 0};const i=t.options.fields,s=t.weights,r=i.length,o=t.getAttrFn;if(!r)return function(){return 1};const a=1===r?function(t,e){const n=i[0].field;return wt(o(e,n),t,s[n]||1)}:function(t,e){var n=0;if(t.field){const i=o(e,t.field);!t.regex&&i?n+=1/r:n+=wt(i,t,1)}else Ct(s,((i,s)=>{n+=wt(o(e,s),t,i)}));return n/r};return 1===n?function(t){return a(e[0],t)}:"and"===t.options.conjunction?function(t){var i,s=0;for(let n of e){if((i=a(n,t))<=0)return 0;s+=i}return s/n}:function(t){var i=0;return Ct(e,(e=>{i+=a(e,t)})),i/n}}getSortFunction(t,e){var n=this.prepareSearch(t,e);return this._getSortFunction(n)}_getSortFunction(t){var e,n=[];const i=this,s=t.options,r=!t.query&&s.sort_empty?s.sort_empty:s.sort;if("function"==typeof r)return r.bind(this);const o=function(e,n){return"$score"===e?n.score:t.getAttrFn(i.items[n.id],e)};if(r)for(let e of r)(t.query||"$score"!==e.field)&&n.push(e);if(t.query){e=!0;for(let t of n)if("$score"===t.field){e=!1;break}e&&n.unshift({field:"$score",direction:"desc"})}else n=n.filter((t=>"$score"!==t.field));return n.length?function(t,e){var i,s;for(let r of n)if(s=r.field,i=("desc"===r.direction?-1:1)*At(o(s,t),o(s,e)))return i;return 0}:null}prepareSearch(t,e){const n={};var i=Object.assign({},e);if(_t(i,"sort"),_t(i,"sort_empty"),i.fields){_t(i,"fields");const t=[];i.fields.forEach((e=>{"string"==typeof e&&(e={field:e,weight:1}),t.push(e),n[e.field]="weight"in e?e.weight:1})),i.fields=t}return{options:i,query:t.toLowerCase().trim(),tokens:this.tokenize(t,i.respect_word_boundaries,n),total:0,items:[],weights:n,getAttrFn:i.nesting?kt:yt}}search(t,e){var n,i,s=this;i=this.prepareSearch(t,e),e=i.options,t=i.query;const r=e.score||s._getScoreFunction(i);t.length?Ct(s.items,((t,s)=>{n=r(t),(!1===e.filter||n>0)&&i.items.push({score:n,id:s})})):Ct(s.items,((t,e)=>{i.items.push({score:1,id:e})}));const o=s._getSortFunction(i);return o&&i.items.sort(o),i.total=i.items.length,"number"==typeof e.limit&&(i.items=i.items.slice(0,e.limit)),i}}const Et=t=>null==t?null:Ft(t),Ft=t=>"boolean"==typeof t?t?"1":"0":t+"",Lt=t=>(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),It=(t,e)=>{var n;return function(i,s){var r=this;n&&(r.loading=Math.max(r.loading-1,0),clearTimeout(n)),n=setTimeout((function(){n=null,r.loadedSearches[i]=!0,t.call(r,i,s)}),e)}},Tt=(t,e,n)=>{var i,s=t.trigger,r={};for(i of(t.trigger=function(){var n=arguments[0];if(-1===e.indexOf(n))return s.apply(t,arguments);r[n]=arguments},n.apply(t,[]),t.trigger=s,e))i in r&&s.apply(t,r[i])},Ot=(t,e=!1)=>{t&&(t.preventDefault(),e&&t.stopPropagation())},Mt=(t,e,n,i)=>{t.addEventListener(e,n,i)},Bt=(t,e)=>!!e&&!!e[t]&&1==(e.altKey?1:0)+(e.ctrlKey?1:0)+(e.shiftKey?1:0)+(e.metaKey?1:0),Dt=(t,e)=>t.getAttribute("id")||(t.setAttribute("id",e),e),Pt=t=>t.replace(/[\\"']/g,"\\$&"),Vt=(t,e)=>{e&&t.append(e)},zt=(t,e)=>{if(Array.isArray(t))t.forEach(e);else for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},Rt=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(qt(t)){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}return document.querySelector(t)},qt=t=>"string"==typeof t&&t.indexOf("<")>-1,Nt=(t,e)=>{var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!1),t.dispatchEvent(n)},jt=(t,e)=>{Object.assign(t.style,e)},Ht=(t,...e)=>{var n=Ut(e);(t=$t(t)).map((t=>{n.map((e=>{t.classList.add(e)}))}))},Wt=(t,...e)=>{var n=Ut(e);(t=$t(t)).map((t=>{n.map((e=>{t.classList.remove(e)}))}))},Ut=t=>{var e=[];return zt(t,(t=>{"string"==typeof t&&(t=t.trim().split(/[\t\n\f\r\s]/)),Array.isArray(t)&&(e=e.concat(t))})),e.filter(Boolean)},$t=t=>(Array.isArray(t)||(t=[t]),t),Yt=(t,e,n)=>{if(!n||n.contains(t))for(;t&&t.matches;){if(t.matches(e))return t;t=t.parentNode}},Xt=(t,e=0)=>e>0?t[t.length-1]:t[0],Kt=(t,e)=>{if(!t)return-1;e=e||t.nodeName;for(var n=0;t=t.previousElementSibling;)t.matches(e)&&n++;return n},Gt=(t,e)=>{zt(e,((e,n)=>{null==e?t.removeAttribute(n):t.setAttribute(n,""+e)}))},Zt=(t,e)=>{t.parentNode&&t.parentNode.replaceChild(e,t)},Qt="undefined"!=typeof navigator&&/Mac/.test(navigator.userAgent)?"metaKey":"ctrlKey",Jt={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:null,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,shouldOpen:null,maxOptions:50,maxItems:null,hideSelected:null,duplicates:!1,addPrecedence:!1,selectOnTab:!1,preload:null,allowEmptyOption:!1,refreshThrottle:300,loadThrottle:300,loadingClass:"loading",dataAttr:null,optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"ts-wrapper",controlClass:"ts-control",dropdownClass:"ts-dropdown",dropdownContentClass:"ts-dropdown-content",itemClass:"item",optionClass:"option",dropdownParent:null,controlInput:'<input type="text" autocomplete="off" size="1" />',copyClassesToDropdown:!1,placeholder:null,hidePlaceholder:null,shouldLoad:function(t){return t.length>0},render:{}};function te(t,e){var n=Object.assign({},Jt,e),i=n.dataAttr,s=n.labelField,r=n.valueField,o=n.disabledField,a=n.optgroupField,u=n.optgroupLabelField,l=n.optgroupValueField,c=t.tagName.toLowerCase(),d=t.getAttribute("placeholder")||t.getAttribute("data-placeholder");if(!d&&!n.allowEmptyOption){let e=t.querySelector('option[value=""]');e&&(d=e.textContent)}var h={placeholder:d,options:[],optgroups:[],items:[],maxItems:null};return"select"===c?(()=>{var e,c=h.options,d={},p=1;let f=0;var m=t=>{var e=Object.assign({},t.dataset),n=i&&e[i];return"string"==typeof n&&n.length&&(e=Object.assign(e,JSON.parse(n))),e},g=(t,e)=>{var i=Et(t.value);if(null!=i&&(i||n.allowEmptyOption)){if(d.hasOwnProperty(i)){if(e){var u=d[i][a];u?Array.isArray(u)?u.push(e):d[i][a]=[u,e]:d[i][a]=e}}else{var l=m(t);l[s]=l[s]||t.textContent,l[r]=l[r]||i,l[o]=l[o]||t.disabled,l[a]=l[a]||e,l.$option=t,l.$order=l.$order||++f,d[i]=l,c.push(l)}t.selected&&h.items.push(i)}};h.maxItems=t.hasAttribute("multiple")?null:1,zt(t.children,(t=>{var n,i,s;"optgroup"===(e=t.tagName.toLowerCase())?((s=m(n=t))[u]=s[u]||n.getAttribute("label")||"",s[l]=s[l]||p++,s[o]=s[o]||n.disabled,s.$order=s.$order||++f,h.optgroups.push(s),i=s[l],zt(n.children,(t=>{g(t,i)}))):"option"===e&&g(t)}))})():(()=>{const e=t.getAttribute(i);if(e)h.options=JSON.parse(e),zt(h.options,(t=>{h.items.push(t[r])}));else{var o=t.value.trim()||"";if(!n.allowEmptyOption&&!o.length)return;const e=o.split(n.delimiter);zt(e,(t=>{const e={};e[s]=t,e[r]=t,h.options.push(e)})),h.items=e}})(),Object.assign({},Jt,h,e)}var ee=0;class ne extends(function(t){return t.plugins={},class extends t{constructor(){super(...arguments),this.plugins={names:[],settings:{},requested:{},loaded:{}}}static define(e,n){t.plugins[e]={name:e,fn:n}}initializePlugins(t){var e,n;const i=this,s=[];if(Array.isArray(t))t.forEach((t=>{"string"==typeof t?s.push(t):(i.plugins.settings[t.name]=t.options,s.push(t.name))}));else if(t)for(e in t)t.hasOwnProperty(e)&&(i.plugins.settings[e]=t[e],s.push(e));for(;n=s.shift();)i.require(n)}loadPlugin(e){var n=this,i=n.plugins,s=t.plugins[e];if(!t.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');i.requested[e]=!0,i.loaded[e]=s.fn.apply(n,[n.plugins.settings[e]||{}]),i.names.push(e)}require(t){var e=this,n=e.plugins;if(!e.plugins.loaded.hasOwnProperty(t)){if(n.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');e.loadPlugin(t)}return n.loaded[t]}}}(Z)){constructor(t,e){var n;super(),this.order=0,this.isOpen=!1,this.isDisabled=!1,this.isReadOnly=!1,this.isInvalid=!1,this.isValid=!0,this.isLocked=!1,this.isFocused=!1,this.isInputHidden=!1,this.isSetup=!1,this.ignoreFocus=!1,this.ignoreHover=!1,this.hasOptions=!1,this.lastValue="",this.caretPos=0,this.loading=0,this.loadedSearches={},this.activeOption=null,this.activeItems=[],this.optgroups={},this.options={},this.userOptions={},this.items=[],this.refreshTimeout=null,ee++;var i=Rt(t);if(i.tomselect)throw new Error("Tom Select already initialized on this element");i.tomselect=this,n=(window.getComputedStyle&&window.getComputedStyle(i,null)).getPropertyValue("direction");const s=te(i,e);this.settings=s,this.input=i,this.tabIndex=i.tabIndex||0,this.is_select_tag="select"===i.tagName.toLowerCase(),this.rtl=/rtl/i.test(n),this.inputId=Dt(i,"tomselect-"+ee),this.isRequired=i.required,this.sifter=new St(this.options,{diacritics:s.diacritics}),s.mode=s.mode||(1===s.maxItems?"single":"multi"),"boolean"!=typeof s.hideSelected&&(s.hideSelected="multi"===s.mode),"boolean"!=typeof s.hidePlaceholder&&(s.hidePlaceholder="multi"!==s.mode);var r=s.createFilter;"function"!=typeof r&&("string"==typeof r&&(r=new RegExp(r)),r instanceof RegExp?s.createFilter=t=>r.test(t):s.createFilter=t=>this.settings.duplicates||!this.options[t]),this.initializePlugins(s.plugins),this.setupCallbacks(),this.setupTemplates();const o=Rt("<div>"),a=Rt("<div>"),u=this._render("dropdown"),l=Rt('<div role="listbox" tabindex="-1">'),c=this.input.getAttribute("class")||"",d=s.mode;var h;Ht(o,s.wrapperClass,c,d),Ht(a,s.controlClass),Vt(o,a),Ht(u,s.dropdownClass,d),s.copyClassesToDropdown&&Ht(u,c),Ht(l,s.dropdownContentClass),Vt(u,l),Rt(s.dropdownParent||o).appendChild(u),qt(s.controlInput)?(h=Rt(s.controlInput),zt(["autocorrect","autocapitalize","autocomplete","spellcheck"],(t=>{i.getAttribute(t)&&Gt(h,{[t]:i.getAttribute(t)})})),h.tabIndex=-1,a.appendChild(h),this.focus_node=h):s.controlInput?(h=Rt(s.controlInput),this.focus_node=h):(h=Rt("<input/>"),this.focus_node=a),this.wrapper=o,this.dropdown=u,this.dropdown_content=l,this.control=a,this.control_input=h,this.setup()}setup(){const t=this,e=t.settings,n=t.control_input,i=t.dropdown,s=t.dropdown_content,r=t.wrapper,o=t.control,a=t.input,u=t.focus_node,l={passive:!0},c=t.inputId+"-ts-dropdown";Gt(s,{id:c}),Gt(u,{role:"combobox","aria-haspopup":"listbox","aria-expanded":"false","aria-controls":c});const d=Dt(u,t.inputId+"-ts-control"),h="label[for='"+(t=>t.replace(/['"\\]/g,"\\$&"))(t.inputId)+"']",p=document.querySelector(h),f=t.focus.bind(t);if(p){Mt(p,"click",f),Gt(p,{for:d});const e=Dt(p,t.inputId+"-ts-label");Gt(u,{"aria-labelledby":e}),Gt(s,{"aria-labelledby":e})}if(r.style.width=a.style.width,t.plugins.names.length){const e="plugin-"+t.plugins.names.join(" plugin-");Ht([r,i],e)}(null===e.maxItems||e.maxItems>1)&&t.is_select_tag&&Gt(a,{multiple:"multiple"}),e.placeholder&&Gt(n,{placeholder:e.placeholder}),!e.splitOn&&e.delimiter&&(e.splitOn=new RegExp("\\s*"+nt(e.delimiter)+"+\\s*")),e.load&&e.loadThrottle&&(e.load=It(e.load,e.loadThrottle)),Mt(i,"mousemove",(()=>{t.ignoreHover=!1})),Mt(i,"mouseenter",(e=>{var n=Yt(e.target,"[data-selectable]",i);n&&t.onOptionHover(e,n)}),{capture:!0}),Mt(i,"click",(e=>{const n=Yt(e.target,"[data-selectable]");n&&(t.onOptionSelect(e,n),Ot(e,!0))})),Mt(o,"click",(e=>{var i=Yt(e.target,"[data-ts-item]",o);i&&t.onItemSelect(e,i)?Ot(e,!0):""==n.value&&(t.onClick(),Ot(e,!0))})),Mt(u,"keydown",(e=>t.onKeyDown(e))),Mt(n,"keypress",(e=>t.onKeyPress(e))),Mt(n,"input",(e=>t.onInput(e))),Mt(u,"blur",(e=>t.onBlur(e))),Mt(u,"focus",(e=>t.onFocus(e))),Mt(n,"paste",(e=>t.onPaste(e)));const m=e=>{const s=e.composedPath()[0];if(!r.contains(s)&&!i.contains(s))return t.isFocused&&t.blur(),void t.inputState();s==n&&t.isOpen?e.stopPropagation():Ot(e,!0)},g=()=>{t.isOpen&&t.positionDropdown()};Mt(document,"mousedown",m),Mt(window,"scroll",g,l),Mt(window,"resize",g,l),this._destroy=()=>{document.removeEventListener("mousedown",m),window.removeEventListener("scroll",g),window.removeEventListener("resize",g),p&&p.removeEventListener("click",f)},this.revertSettings={innerHTML:a.innerHTML,tabIndex:a.tabIndex},a.tabIndex=-1,a.insertAdjacentElement("afterend",t.wrapper),t.sync(!1),e.items=[],delete e.optgroups,delete e.options,Mt(a,"invalid",(()=>{t.isValid&&(t.isValid=!1,t.isInvalid=!0,t.refreshState())})),t.updateOriginalInput(),t.refreshItems(),t.close(!1),t.inputState(),t.isSetup=!0,a.disabled?t.disable():a.readOnly?t.setReadOnly(!0):t.enable(),t.on("change",this.onChange),Ht(a,"tomselected","ts-hidden-accessible"),t.trigger("initialize"),!0===e.preload&&t.preload()}setupOptions(t=[],e=[]){this.addOptions(t),zt(e,(t=>{this.registerOptionGroup(t)}))}setupTemplates(){var t=this,e=t.settings.labelField,n=t.settings.optgroupLabelField,i={optgroup:t=>{let e=document.createElement("div");return e.className="optgroup",e.appendChild(t.options),e},optgroup_header:(t,e)=>'<div class="optgroup-header">'+e(t[n])+"</div>",option:(t,n)=>"<div>"+n(t[e])+"</div>",item:(t,n)=>"<div>"+n(t[e])+"</div>",option_create:(t,e)=>'<div class="create">Add <strong>'+e(t.input)+"</strong>&hellip;</div>",no_results:()=>'<div class="no-results">No results found</div>',loading:()=>'<div class="spinner"></div>',not_loading:()=>{},dropdown:()=>"<div></div>"};t.settings.render=Object.assign({},i,t.settings.render)}setupCallbacks(){var t,e,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",item_select:"onItemSelect",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(t in n)(e=this.settings[n[t]])&&this.on(t,e)}sync(t=!0){const e=this,n=t?te(e.input,{delimiter:e.settings.delimiter}):e.settings;e.setupOptions(n.options,n.optgroups),e.setValue(n.items||[],!0),e.lastQuery=null}onClick(){var t=this;if(t.activeItems.length>0)return t.clearActiveItems(),void t.focus();t.isFocused&&t.isOpen?t.blur():t.focus()}onMouseDown(){}onChange(){Nt(this.input,"input"),Nt(this.input,"change")}onPaste(t){var e=this;e.isInputHidden||e.isLocked?Ot(t):e.settings.splitOn&&setTimeout((()=>{var t=e.inputValue();if(t.match(e.settings.splitOn)){var n=t.trim().split(e.settings.splitOn);zt(n,(t=>{Et(t)&&(this.options[t]?e.addItem(t):e.createItem(t))}))}}),0)}onKeyPress(t){var e=this;if(!e.isLocked){var n=String.fromCharCode(t.keyCode||t.which);return e.settings.create&&"multi"===e.settings.mode&&n===e.settings.delimiter?(e.createItem(),void Ot(t)):void 0}Ot(t)}onKeyDown(t){var e=this;if(e.ignoreHover=!0,e.isLocked)9!==t.keyCode&&Ot(t);else{switch(t.keyCode){case 65:if(Bt(Qt,t)&&""==e.control_input.value)return Ot(t),void e.selectAll();break;case 27:return e.isOpen&&(Ot(t,!0),e.close()),void e.clearActiveItems();case 40:if(!e.isOpen&&e.hasOptions)e.open();else if(e.activeOption){let t=e.getAdjacent(e.activeOption,1);t&&e.setActiveOption(t)}return void Ot(t);case 38:if(e.activeOption){let t=e.getAdjacent(e.activeOption,-1);t&&e.setActiveOption(t)}return void Ot(t);case 13:return void(e.canSelect(e.activeOption)?(e.onOptionSelect(t,e.activeOption),Ot(t)):(e.settings.create&&e.createItem()||document.activeElement==e.control_input&&e.isOpen)&&Ot(t));case 37:return void e.advanceSelection(-1,t);case 39:return void e.advanceSelection(1,t);case 9:return void(e.settings.selectOnTab&&(e.canSelect(e.activeOption)&&(e.onOptionSelect(t,e.activeOption),Ot(t)),e.settings.create&&e.createItem()&&Ot(t)));case 8:case 46:return void e.deleteSelection(t)}e.isInputHidden&&!Bt(Qt,t)&&Ot(t)}}onInput(t){if(this.isLocked)return;const e=this.inputValue();var n,i;this.lastValue!==e&&(this.lastValue=e,""!=e?(this.refreshTimeout&&window.clearTimeout(this.refreshTimeout),this.refreshTimeout=(n=()=>{this.refreshTimeout=null,this._onInput()},(i=this.settings.refreshThrottle)>0?window.setTimeout(n,i):(n.call(null),null))):this._onInput())}_onInput(){const t=this.lastValue;this.settings.shouldLoad.call(this,t)&&this.load(t),this.refreshOptions(),this.trigger("type",t)}onOptionHover(t,e){this.ignoreHover||this.setActiveOption(e,!1)}onFocus(t){var e=this,n=e.isFocused;if(e.isDisabled||e.isReadOnly)return e.blur(),void Ot(t);e.ignoreFocus||(e.isFocused=!0,"focus"===e.settings.preload&&e.preload(),n||e.trigger("focus"),e.activeItems.length||(e.inputState(),e.refreshOptions(!!e.settings.openOnFocus)),e.refreshState())}onBlur(t){if(!1!==document.hasFocus()){var e=this;if(e.isFocused){e.isFocused=!1,e.ignoreFocus=!1;var n=()=>{e.close(),e.setActiveItem(),e.setCaret(e.items.length),e.trigger("blur")};e.settings.create&&e.settings.createOnBlur?e.createItem(null,n):n()}}}onOptionSelect(t,e){var n,i=this;e.parentElement&&e.parentElement.matches("[data-disabled]")||(e.classList.contains("create")?i.createItem(null,(()=>{i.settings.closeAfterSelect&&i.close()})):void 0!==(n=e.dataset.value)&&(i.lastQuery=null,i.addItem(n),i.settings.closeAfterSelect&&i.close(),!i.settings.hideSelected&&t.type&&/click/.test(t.type)&&i.setActiveOption(e)))}canSelect(t){return!!(this.isOpen&&t&&this.dropdown_content.contains(t))}onItemSelect(t,e){var n=this;return!n.isLocked&&"multi"===n.settings.mode&&(Ot(t),n.setActiveItem(e,t),!0)}canLoad(t){return!!this.settings.load&&!this.loadedSearches.hasOwnProperty(t)}load(t){const e=this;if(!e.canLoad(t))return;Ht(e.wrapper,e.settings.loadingClass),e.loading++;const n=e.loadCallback.bind(e);e.settings.load.call(e,t,n)}loadCallback(t,e){const n=this;n.loading=Math.max(n.loading-1,0),n.lastQuery=null,n.clearActiveOption(),n.setupOptions(t,e),n.refreshOptions(n.isFocused&&!n.isInputHidden),n.loading||Wt(n.wrapper,n.settings.loadingClass),n.trigger("load",t,e)}preload(){var t=this.wrapper.classList;t.contains("preloaded")||(t.add("preloaded"),this.load(""))}setTextboxValue(t=""){var e=this.control_input;e.value!==t&&(e.value=t,Nt(e,"update"),this.lastValue=t)}getValue(){return this.is_select_tag&&this.input.hasAttribute("multiple")?this.items:this.items.join(this.settings.delimiter)}setValue(t,e){Tt(this,e?[]:["change"],(()=>{this.clear(e),this.addItems(t,e)}))}setMaxItems(t){0===t&&(t=null),this.settings.maxItems=t,this.refreshState()}setActiveItem(t,e){var n,i,s,r,o,a,u=this;if("single"!==u.settings.mode){if(!t)return u.clearActiveItems(),void(u.isFocused&&u.inputState());if("click"===(n=e&&e.type.toLowerCase())&&Bt("shiftKey",e)&&u.activeItems.length){for(a=u.getLastActive(),(s=Array.prototype.indexOf.call(u.control.children,a))>(r=Array.prototype.indexOf.call(u.control.children,t))&&(o=s,s=r,r=o),i=s;i<=r;i++)t=u.control.children[i],-1===u.activeItems.indexOf(t)&&u.setActiveItemClass(t);Ot(e)}else"click"===n&&Bt(Qt,e)||"keydown"===n&&Bt("shiftKey",e)?t.classList.contains("active")?u.removeActiveItem(t):u.setActiveItemClass(t):(u.clearActiveItems(),u.setActiveItemClass(t));u.inputState(),u.isFocused||u.focus()}}setActiveItemClass(t){const e=this,n=e.control.querySelector(".last-active");n&&Wt(n,"last-active"),Ht(t,"active last-active"),e.trigger("item_select",t),-1==e.activeItems.indexOf(t)&&e.activeItems.push(t)}removeActiveItem(t){var e=this.activeItems.indexOf(t);this.activeItems.splice(e,1),Wt(t,"active")}clearActiveItems(){Wt(this.activeItems,"active"),this.activeItems=[]}setActiveOption(t,e=!0){t!==this.activeOption&&(this.clearActiveOption(),t&&(this.activeOption=t,Gt(this.focus_node,{"aria-activedescendant":t.getAttribute("id")}),Gt(t,{"aria-selected":"true"}),Ht(t,"active"),e&&this.scrollToOption(t)))}scrollToOption(t,e){if(!t)return;const n=this.dropdown_content,i=n.clientHeight,s=n.scrollTop||0,r=t.offsetHeight,o=t.getBoundingClientRect().top-n.getBoundingClientRect().top+s;o+r>i+s?this.scroll(o-i+r,e):o<s&&this.scroll(o,e)}scroll(t,e){const n=this.dropdown_content;e&&(n.style.scrollBehavior=e),n.scrollTop=t,n.style.scrollBehavior=""}clearActiveOption(){this.activeOption&&(Wt(this.activeOption,"active"),Gt(this.activeOption,{"aria-selected":null})),this.activeOption=null,Gt(this.focus_node,{"aria-activedescendant":null})}selectAll(){const t=this;if("single"===t.settings.mode)return;const e=t.controlChildren();e.length&&(t.inputState(),t.close(),t.activeItems=e,zt(e,(e=>{t.setActiveItemClass(e)})))}inputState(){var t=this;t.control.contains(t.control_input)&&(Gt(t.control_input,{placeholder:t.settings.placeholder}),t.activeItems.length>0||!t.isFocused&&t.settings.hidePlaceholder&&t.items.length>0?(t.setTextboxValue(),t.isInputHidden=!0):(t.settings.hidePlaceholder&&t.items.length>0&&Gt(t.control_input,{placeholder:""}),t.isInputHidden=!1),t.wrapper.classList.toggle("input-hidden",t.isInputHidden))}inputValue(){return this.control_input.value.trim()}focus(){var t=this;t.isDisabled||t.isReadOnly||(t.ignoreFocus=!0,t.control_input.offsetWidth?t.control_input.focus():t.focus_node.focus(),setTimeout((()=>{t.ignoreFocus=!1,t.onFocus()}),0))}blur(){this.focus_node.blur(),this.onBlur()}getScoreFunction(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())}getSearchOptions(){var t=this.settings,e=t.sortField;return"string"==typeof t.sortField&&(e=[{field:t.sortField}]),{fields:t.searchField,conjunction:t.searchConjunction,sort:e,nesting:t.nesting}}search(t){var e,n,i=this,s=this.getSearchOptions();if(i.settings.score&&"function"!=typeof(n=i.settings.score.call(i,t)))throw new Error('Tom Select "score" setting must be a function that returns a function');return t!==i.lastQuery?(i.lastQuery=t,e=i.sifter.search(t,Object.assign(s,{score:n})),i.currentResults=e):e=Object.assign({},i.currentResults),i.settings.hideSelected&&(e.items=e.items.filter((t=>{let e=Et(t.id);return!(e&&-1!==i.items.indexOf(e))}))),e}refreshOptions(t=!0){var e,n,i,s,r,o,a,u,l,c;const d={},h=[];var p=this,f=p.inputValue();const m=f===p.lastQuery||""==f&&null==p.lastQuery;var g=p.search(f),v=null,b=p.settings.shouldOpen||!1,x=p.dropdown_content;m&&(v=p.activeOption)&&(l=v.closest("[data-group]")),s=g.items.length,"number"==typeof p.settings.maxOptions&&(s=Math.min(s,p.settings.maxOptions)),s>0&&(b=!0);const y=(t,e)=>{let n=d[t];if(void 0!==n){let t=h[n];if(void 0!==t)return[n,t.fragment]}let i=document.createDocumentFragment();return n=h.length,h.push({fragment:i,order:e,optgroup:t}),[n,i]};for(e=0;e<s;e++){let t=g.items[e];if(!t)continue;let s=t.id,a=p.options[s];if(void 0===a)continue;let u=Ft(s),c=p.getOption(u,!0);for(p.settings.hideSelected||c.classList.toggle("selected",p.items.includes(u)),r=a[p.settings.optgroupField]||"",n=0,i=(o=Array.isArray(r)?r:[r])&&o.length;n<i;n++){r=o[n];let t=a.$order,e=p.optgroups[r];void 0===e?r="":t=e.$order;const[i,u]=y(r,t);n>0&&(c=c.cloneNode(!0),Gt(c,{id:a.$id+"-clone-"+n,"aria-selected":null}),c.classList.add("ts-cloned"),Wt(c,"active"),p.activeOption&&p.activeOption.dataset.value==s&&l&&l.dataset.group===r.toString()&&(v=c)),u.appendChild(c),""!=r&&(d[r]=i)}}var k;p.settings.lockOptgroupOrder&&h.sort(((t,e)=>t.order-e.order)),a=document.createDocumentFragment(),zt(h,(t=>{let e=t.fragment,n=t.optgroup;if(!e||!e.children.length)return;let i=p.optgroups[n];if(void 0!==i){let t=document.createDocumentFragment(),n=p.render("optgroup_header",i);Vt(t,n),Vt(t,e);let s=p.render("optgroup",{group:i,options:t});Vt(a,s)}else Vt(a,e)})),x.innerHTML="",Vt(x,a),p.settings.highlight&&(k=x.querySelectorAll("span.highlight"),Array.prototype.forEach.call(k,(function(t){var e=t.parentNode;e.replaceChild(t.firstChild,t),e.normalize()})),g.query.length&&g.tokens.length&&zt(g.tokens,(t=>{((t,e)=>{if(null===e)return;if("string"==typeof e){if(!e.length)return;e=new RegExp(e,"i")}const n=t=>3===t.nodeType?(t=>{var n=t.data.match(e);if(n&&t.data.length>0){var i=document.createElement("span");i.className="highlight";var s=t.splitText(n.index);s.splitText(n[0].length);var r=s.cloneNode(!0);return i.appendChild(r),Zt(s,i),1}return 0})(t):((t=>{1!==t.nodeType||!t.childNodes||/(script|style)/i.test(t.tagName)||"highlight"===t.className&&"SPAN"===t.tagName||Array.from(t.childNodes).forEach((t=>{n(t)}))})(t),0);n(t)})(x,t.regex)})));var w=t=>{let e=p.render(t,{input:f});return e&&(b=!0,x.insertBefore(e,x.firstChild)),e};if(p.loading?w("loading"):p.settings.shouldLoad.call(p,f)?0===g.items.length&&w("no_results"):w("not_loading"),(u=p.canCreate(f))&&(c=w("option_create")),p.hasOptions=g.items.length>0||u,b){if(g.items.length>0){if(v||"single"!==p.settings.mode||null==p.items[0]||(v=p.getOption(p.items[0])),!x.contains(v)){let t=0;c&&!p.settings.addPrecedence&&(t=1),v=p.selectable()[t]}}else c&&(v=c);t&&!p.isOpen&&(p.open(),p.scrollToOption(v,"auto")),p.setActiveOption(v)}else p.clearActiveOption(),t&&p.isOpen&&p.close(!1)}selectable(){return this.dropdown_content.querySelectorAll("[data-selectable]")}addOption(t,e=!1){const n=this;if(Array.isArray(t))return n.addOptions(t,e),!1;const i=Et(t[n.settings.valueField]);return null!==i&&!n.options.hasOwnProperty(i)&&(t.$order=t.$order||++n.order,t.$id=n.inputId+"-opt-"+t.$order,n.options[i]=t,n.lastQuery=null,e&&(n.userOptions[i]=e,n.trigger("option_add",i,t)),i)}addOptions(t,e=!1){zt(t,(t=>{this.addOption(t,e)}))}registerOption(t){return this.addOption(t)}registerOptionGroup(t){var e=Et(t[this.settings.optgroupValueField]);return null!==e&&(t.$order=t.$order||++this.order,this.optgroups[e]=t,e)}addOptionGroup(t,e){var n;e[this.settings.optgroupValueField]=t,(n=this.registerOptionGroup(e))&&this.trigger("optgroup_add",n,e)}removeOptionGroup(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.clearCache(),this.trigger("optgroup_remove",t))}clearOptionGroups(){this.optgroups={},this.clearCache(),this.trigger("optgroup_clear")}updateOption(t,e){const n=this;var i,s;const r=Et(t),o=Et(e[n.settings.valueField]);if(null===r)return;const a=n.options[r];if(null==a)return;if("string"!=typeof o)throw new Error("Value must be set in option data");const u=n.getOption(r),l=n.getItem(r);if(e.$order=e.$order||a.$order,delete n.options[r],n.uncacheValue(o),n.options[o]=e,u){if(n.dropdown_content.contains(u)){const t=n._render("option",e);Zt(u,t),n.activeOption===u&&n.setActiveOption(t)}u.remove()}l&&(-1!==(s=n.items.indexOf(r))&&n.items.splice(s,1,o),i=n._render("item",e),l.classList.contains("active")&&Ht(i,"active"),Zt(l,i)),n.lastQuery=null}removeOption(t,e){const n=this;t=Ft(t),n.uncacheValue(t),delete n.userOptions[t],delete n.options[t],n.lastQuery=null,n.trigger("option_remove",t),n.removeItem(t,e)}clearOptions(t){const e=(t||this.clearFilter).bind(this);this.loadedSearches={},this.userOptions={},this.clearCache();const n={};zt(this.options,((t,i)=>{e(t,i)&&(n[i]=t)})),this.options=this.sifter.items=n,this.lastQuery=null,this.trigger("option_clear")}clearFilter(t,e){return this.items.indexOf(e)>=0}getOption(t,e=!1){const n=Et(t);if(null===n)return null;const i=this.options[n];if(null!=i){if(i.$div)return i.$div;if(e)return this._render("option",i)}return null}getAdjacent(t,e,n="option"){var i;if(!t)return null;i="item"==n?this.controlChildren():this.dropdown_content.querySelectorAll("[data-selectable]");for(let n=0;n<i.length;n++)if(i[n]==t)return e>0?i[n+1]:i[n-1];return null}getItem(t){if("object"==typeof t)return t;var e=Et(t);return null!==e?this.control.querySelector(`[data-value="${Pt(e)}"]`):null}addItems(t,e){var n=this,i=Array.isArray(t)?t:[t];i=i.filter((t=>-1===n.items.indexOf(t)));const s=i[i.length-1];i.forEach((t=>{n.isPending=t!==s,n.addItem(t,e)}))}addItem(t,e){Tt(this,e?[]:["change","dropdown_close"],(()=>{var n,i;const s=this,r=s.settings.mode,o=Et(t);if((!o||-1===s.items.indexOf(o)||("single"===r&&s.close(),"single"!==r&&s.settings.duplicates))&&null!==o&&s.options.hasOwnProperty(o)&&("single"===r&&s.clear(e),"multi"!==r||!s.isFull())){if(n=s._render("item",s.options[o]),s.control.contains(n)&&(n=n.cloneNode(!0)),i=s.isFull(),s.items.splice(s.caretPos,0,o),s.insertAtCaret(n),s.isSetup){if(!s.isPending&&s.settings.hideSelected){let t=s.getOption(o),e=s.getAdjacent(t,1);e&&s.setActiveOption(e)}s.isPending||s.settings.closeAfterSelect||s.refreshOptions(s.isFocused&&"single"!==r),0!=s.settings.closeAfterSelect&&s.isFull()?s.close():s.isPending||s.positionDropdown(),s.trigger("item_add",o,n),s.isPending||s.updateOriginalInput({silent:e})}(!s.isPending||!i&&s.isFull())&&(s.inputState(),s.refreshState())}}))}removeItem(t=null,e){const n=this;if(!(t=n.getItem(t)))return;var i,s;const r=t.dataset.value;i=Kt(t),t.remove(),t.classList.contains("active")&&(s=n.activeItems.indexOf(t),n.activeItems.splice(s,1),Wt(t,"active")),n.items.splice(i,1),n.lastQuery=null,!n.settings.persist&&n.userOptions.hasOwnProperty(r)&&n.removeOption(r,e),i<n.caretPos&&n.setCaret(n.caretPos-1),n.updateOriginalInput({silent:e}),n.refreshState(),n.positionDropdown(),n.trigger("item_remove",r,t)}createItem(t=null,e=()=>{}){3===arguments.length&&(e=arguments[2]),"function"!=typeof e&&(e=()=>{});var n,i=this,s=i.caretPos;if(t=t||i.inputValue(),!i.canCreate(t))return e(),!1;i.lock();var r=!1,o=t=>{if(i.unlock(),!t||"object"!=typeof t)return e();var n=Et(t[i.settings.valueField]);if("string"!=typeof n)return e();i.setTextboxValue(),i.addOption(t,!0),i.setCaret(s),i.addItem(n),e(t),r=!0};return n="function"==typeof i.settings.create?i.settings.create.call(this,t,o):{[i.settings.labelField]:t,[i.settings.valueField]:t},r||o(n),!0}refreshItems(){var t=this;t.lastQuery=null,t.isSetup&&t.addItems(t.items),t.updateOriginalInput(),t.refreshState()}refreshState(){const t=this;t.refreshValidityState();const e=t.isFull(),n=t.isLocked;t.wrapper.classList.toggle("rtl",t.rtl);const i=t.wrapper.classList;var s;i.toggle("focus",t.isFocused),i.toggle("disabled",t.isDisabled),i.toggle("readonly",t.isReadOnly),i.toggle("required",t.isRequired),i.toggle("invalid",!t.isValid),i.toggle("locked",n),i.toggle("full",e),i.toggle("input-active",t.isFocused&&!t.isInputHidden),i.toggle("dropdown-active",t.isOpen),i.toggle("has-options",(s=t.options,0===Object.keys(s).length)),i.toggle("has-items",t.items.length>0)}refreshValidityState(){var t=this;t.input.validity&&(t.isValid=t.input.validity.valid,t.isInvalid=!t.isValid)}isFull(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems}updateOriginalInput(t={}){const e=this;var n,i;const s=e.input.querySelector('option[value=""]');if(e.is_select_tag){const r=[],o=e.input.querySelectorAll("option:checked").length;function a(t,n,i){return t||(t=Rt('<option value="'+Lt(n)+'">'+Lt(i)+"</option>")),t!=s&&e.input.append(t),r.push(t),(t!=s||o>0)&&(t.selected=!0),t}e.input.querySelectorAll("option:checked").forEach((t=>{t.selected=!1})),0==e.items.length&&"single"==e.settings.mode?a(s,"",""):e.items.forEach((t=>{n=e.options[t],i=n[e.settings.labelField]||"",r.includes(n.$option)?a(e.input.querySelector(`option[value="${Pt(t)}"]:not(:checked)`),t,i):n.$option=a(n.$option,t,i)}))}else e.input.value=e.getValue();e.isSetup&&(t.silent||e.trigger("change",e.getValue()))}open(){var t=this;t.isLocked||t.isOpen||"multi"===t.settings.mode&&t.isFull()||(t.isOpen=!0,Gt(t.focus_node,{"aria-expanded":"true"}),t.refreshState(),jt(t.dropdown,{visibility:"hidden",display:"block"}),t.positionDropdown(),jt(t.dropdown,{visibility:"visible",display:"block"}),t.focus(),t.trigger("dropdown_open",t.dropdown))}close(t=!0){var e=this,n=e.isOpen;t&&(e.setTextboxValue(),"single"===e.settings.mode&&e.items.length&&e.inputState()),e.isOpen=!1,Gt(e.focus_node,{"aria-expanded":"false"}),jt(e.dropdown,{display:"none"}),e.settings.hideSelected&&e.clearActiveOption(),e.refreshState(),n&&e.trigger("dropdown_close",e.dropdown)}positionDropdown(){if("body"===this.settings.dropdownParent){var t=this.control,e=t.getBoundingClientRect(),n=t.offsetHeight+e.top+window.scrollY,i=e.left+window.scrollX;jt(this.dropdown,{width:e.width+"px",top:n+"px",left:i+"px"})}}clear(t){var e=this;if(e.items.length){var n=e.controlChildren();zt(n,(t=>{e.removeItem(t,!0)})),e.inputState(),t||e.updateOriginalInput(),e.trigger("clear")}}insertAtCaret(t){const e=this,n=e.caretPos,i=e.control;i.insertBefore(t,i.children[n]||null),e.setCaret(n+1)}deleteSelection(t){var e,n,i,s,r,o=this;e=t&&8===t.keyCode?-1:1,n={start:(r=o.control_input).selectionStart||0,length:(r.selectionEnd||0)-(r.selectionStart||0)};const a=[];if(o.activeItems.length)s=Xt(o.activeItems,e),i=Kt(s),e>0&&i++,zt(o.activeItems,(t=>a.push(t)));else if((o.isFocused||"single"===o.settings.mode)&&o.items.length){const t=o.controlChildren();let i;e<0&&0===n.start&&0===n.length?i=t[o.caretPos-1]:e>0&&n.start===o.inputValue().length&&(i=t[o.caretPos]),void 0!==i&&a.push(i)}if(!o.shouldDelete(a,t))return!1;for(Ot(t,!0),void 0!==i&&o.setCaret(i);a.length;)o.removeItem(a.pop());return o.inputState(),o.positionDropdown(),o.refreshOptions(!1),!0}shouldDelete(t,e){const n=t.map((t=>t.dataset.value));return!(!n.length||"function"==typeof this.settings.onDelete&&!1===this.settings.onDelete(n,e))}advanceSelection(t,e){var n,i,s=this;s.rtl&&(t*=-1),s.inputValue().length||(Bt(Qt,e)||Bt("shiftKey",e)?(i=(n=s.getLastActive(t))?n.classList.contains("active")?s.getAdjacent(n,t,"item"):n:t>0?s.control_input.nextElementSibling:s.control_input.previousElementSibling)&&(i.classList.contains("active")&&s.removeActiveItem(n),s.setActiveItemClass(i)):s.moveCaret(t))}moveCaret(t){}getLastActive(t){let e=this.control.querySelector(".last-active");if(e)return e;var n=this.control.querySelectorAll(".active");return n?Xt(n,t):void 0}setCaret(t){this.caretPos=this.items.length}controlChildren(){return Array.from(this.control.querySelectorAll("[data-ts-item]"))}lock(){this.setLocked(!0)}unlock(){this.setLocked(!1)}setLocked(t=this.isReadOnly||this.isDisabled){this.isLocked=t,this.refreshState()}disable(){this.setDisabled(!0),this.close()}enable(){this.setDisabled(!1)}setDisabled(t){this.focus_node.tabIndex=t?-1:this.tabIndex,this.isDisabled=t,this.input.disabled=t,this.control_input.disabled=t,this.setLocked()}setReadOnly(t){this.isReadOnly=t,this.input.readOnly=t,this.control_input.readOnly=t,this.setLocked()}destroy(){var t=this,e=t.revertSettings;t.trigger("destroy"),t.off(),t.wrapper.remove(),t.dropdown.remove(),t.input.innerHTML=e.innerHTML,t.input.tabIndex=e.tabIndex,Wt(t.input,"tomselected","ts-hidden-accessible"),t._destroy(),delete t.input.tomselect}render(t,e){var n,i;const s=this;if("function"!=typeof this.settings.render[t])return null;if(!(i=s.settings.render[t].call(this,e,Lt)))return null;if(i=Rt(i),"option"===t||"option_create"===t?e[s.settings.disabledField]?Gt(i,{"aria-disabled":"true"}):Gt(i,{"data-selectable":""}):"optgroup"===t&&(n=e.group[s.settings.optgroupValueField],Gt(i,{"data-group":n}),e.group[s.settings.disabledField]&&Gt(i,{"data-disabled":""})),"option"===t||"item"===t){const n=Ft(e[s.settings.valueField]);Gt(i,{"data-value":n}),"item"===t?(Ht(i,s.settings.itemClass),Gt(i,{"data-ts-item":""})):(Ht(i,s.settings.optionClass),Gt(i,{role:"option",id:e.$id}),e.$div=i,s.options[n]=e)}return i}_render(t,e){const n=this.render(t,e);if(null==n)throw"HTMLElement expected";return n}clearCache(){zt(this.options,(t=>{t.$div&&(t.$div.remove(),delete t.$div)}))}uncacheValue(t){const e=this.getOption(t);e&&e.remove()}canCreate(t){return this.settings.create&&t.length>0&&this.settings.createFilter.call(this,t)}hook(t,e,n){var i=this,s=i[e];i[e]=function(){var e,r;return"after"===t&&(e=s.apply(i,arguments)),r=n.apply(i,arguments),"instead"===t?r:("before"===t&&(e=s.apply(i,arguments)),e)}}}const ie=(t,e=!1)=>{t&&(t.preventDefault(),e&&t.stopPropagation())},se=(t,e,n,i)=>{t.addEventListener(e,n,i)},re=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(oe(t)){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}return document.querySelector(t)},oe=t=>"string"==typeof t&&t.indexOf("<")>-1,ae=(t,e,n,i)=>{t.addEventListener(e,n,i)},ue=(t,e=!1)=>{t&&(t.preventDefault(),e&&t.stopPropagation())},le=(t,e,n,i)=>{t.addEventListener(e,n,i)},ce=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(de(t)){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}return document.querySelector(t)},de=t=>"string"==typeof t&&t.indexOf("<")>-1;ne.define("change_listener",(function(){var t;t=()=>{this.sync()},this.input.addEventListener("change",t,undefined)})),ne.define("checkbox_options",(function(t){var e=this,n=e.onOptionSelect;e.settings.hideSelected=!1;const i=Object.assign({className:"tomselect-checkbox",checkedClassNames:void 0,uncheckedClassNames:void 0},t);var s=function(t,e){e?(t.checked=!0,i.uncheckedClassNames&&t.classList.remove(...i.uncheckedClassNames),i.checkedClassNames&&t.classList.add(...i.checkedClassNames)):(t.checked=!1,i.checkedClassNames&&t.classList.remove(...i.checkedClassNames),i.uncheckedClassNames&&t.classList.add(...i.uncheckedClassNames))},r=function(t){setTimeout((()=>{var e=t.querySelector("input."+i.className);e instanceof HTMLInputElement&&s(e,t.classList.contains("selected"))}),1)};e.hook("after","setupTemplates",(()=>{var t=e.settings.render.option;e.settings.render.option=(n,r)=>{var o=(t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if("string"==typeof(n=t)&&n.indexOf("<")>-1){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}var n;return document.querySelector(t)})(t.call(e,n,r)),a=document.createElement("input");i.className&&a.classList.add(i.className),a.addEventListener("click",(function(t){ie(t)})),a.type="checkbox";const u=null==(l=n[e.settings.valueField])?null:(t=>"boolean"==typeof t?t?"1":"0":t+"")(l);var l;return s(a,!!(u&&e.items.indexOf(u)>-1)),o.prepend(a),o}})),e.on("item_remove",(t=>{var n=e.getOption(t);n&&(n.classList.remove("selected"),r(n))})),e.on("item_add",(t=>{var n=e.getOption(t);n&&r(n)})),e.hook("instead","onOptionSelect",((t,i)=>{if(i.classList.contains("selected"))return i.classList.remove("selected"),e.removeItem(i.dataset.value),e.refreshOptions(),void ie(t,!0);n.call(e,t,i),r(i)}))})),ne.define("clear_button",(function(t){const e=this,n=Object.assign({className:"clear-button",title:"Clear All",html:t=>`<div class="${t.className}" title="${t.title}">&#10799;</div>`},t);e.on("initialize",(()=>{var t=(t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if("string"==typeof(n=t)&&n.indexOf("<")>-1){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}var n;return document.querySelector(t)})(n.html(n));t.addEventListener("click",(t=>{e.isLocked||(e.clear(),"single"===e.settings.mode&&e.settings.allowEmptyOption&&e.addItem(""),t.preventDefault(),t.stopPropagation())})),e.control.appendChild(t)}))})),ne.define("drag_drop",(function(){var t=this;if("multi"!==t.settings.mode)return;var e=t.lock,n=t.unlock;let i,s=!0;t.hook("after","setupTemplates",(()=>{var e=t.settings.render.item;t.settings.render.item=(n,r)=>{const o=(t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if("string"==typeof(n=t)&&n.indexOf("<")>-1){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}var n;return document.querySelector(t)})(e.call(t,n,r));var a;a=o,((t,e)=>{if(Array.isArray(t))t.forEach(e);else for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)})({draggable:"true"},((t,e)=>{null==t?a.removeAttribute(e):a.setAttribute(e,""+t)}));const u=t=>{t.preventDefault(),o.classList.add("ts-drag-over"),l(o,i)},l=(t,e)=>{var n,i,s;void 0!==e&&(((t,e)=>{do{var n;if(t==(e=null==(n=e)?void 0:n.previousElementSibling))return!0}while(e&&e.previousElementSibling);return!1})(e,o)?(i=e,null==(s=(n=t).parentNode)||s.insertBefore(i,n.nextSibling)):((t,e)=>{var n;null==(n=t.parentNode)||n.insertBefore(e,t)})(t,e))};return se(o,"mousedown",(t=>{s||((t,e=!1)=>{t&&(t.preventDefault(),e&&t.stopPropagation())})(t),t.stopPropagation()})),se(o,"dragstart",(t=>{i=o,setTimeout((()=>{o.classList.add("ts-dragging")}),0)})),se(o,"dragenter",u),se(o,"dragover",u),se(o,"dragleave",(()=>{o.classList.remove("ts-drag-over")})),se(o,"dragend",(()=>{var e;document.querySelectorAll(".ts-drag-over").forEach((t=>t.classList.remove("ts-drag-over"))),null==(e=i)||e.classList.remove("ts-dragging"),i=void 0;var n=[];t.control.querySelectorAll("[data-value]").forEach((t=>{if(t.dataset.value){let e=t.dataset.value;e&&n.push(e)}})),t.setValue(n)})),o}})),t.hook("instead","lock",(()=>(s=!1,e.call(t)))),t.hook("instead","unlock",(()=>(s=!0,n.call(t))))})),ne.define("dropdown_header",(function(t){const e=this,n=Object.assign({title:"Untitled",headerClass:"dropdown-header",titleRowClass:"dropdown-header-title",labelClass:"dropdown-header-label",closeClass:"dropdown-header-close",html:t=>'<div class="'+t.headerClass+'"><div class="'+t.titleRowClass+'"><span class="'+t.labelClass+'">'+t.title+'</span><a class="'+t.closeClass+'">&times;</a></div></div>'},t);e.on("initialize",(()=>{var t=(t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if("string"==typeof(n=t)&&n.indexOf("<")>-1){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}var n;return document.querySelector(t)})(n.html(n)),i=t.querySelector("."+n.closeClass);i&&i.addEventListener("click",(t=>{((t,e=!1)=>{t&&(t.preventDefault(),e&&t.stopPropagation())})(t,!0),e.close()})),e.dropdown.insertBefore(t,e.dropdown.firstChild)}))})),ne.define("caret_position",(function(){var t=this;t.hook("instead","setCaret",(e=>{"single"!==t.settings.mode&&t.control.contains(t.control_input)?(e=Math.max(0,Math.min(t.items.length,e)))==t.caretPos||t.isPending||t.controlChildren().forEach(((n,i)=>{i<e?t.control_input.insertAdjacentElement("beforebegin",n):t.control.appendChild(n)})):e=t.items.length,t.caretPos=e})),t.hook("instead","moveCaret",(e=>{if(!t.isFocused)return;const n=t.getLastActive(e);if(n){const a=((t,e)=>{if(!t)return-1;e=e||t.nodeName;for(var n=0;t=t.previousElementSibling;)t.matches(e)&&n++;return n})(n);t.setCaret(e>0?a+1:a),t.setActiveItem(),s=n,i=[],((t,e)=>{if(Array.isArray(t))t.forEach(e);else for(var n in t)t.hasOwnProperty(n)&&e(t[n])})(["last-active"],(t=>{"string"==typeof t&&(t=t.trim().split(/[\t\n\f\r\s]/)),Array.isArray(t)&&(i=i.concat(t))})),o=i.filter(Boolean),(r=s,Array.isArray(r)||(r=[r]),s=r).map((t=>{o.map((e=>{t.classList.remove(e)}))}))}else t.setCaret(t.caretPos+e);var i,s,r,o}))})),ne.define("dropdown_input",(function(){const t=this;t.settings.shouldOpen=!0,t.hook("before","setup",(()=>{t.focus_node=t.control,((t,...e)=>{var n,i=(t=>{var e=[];return((t,e)=>{if(Array.isArray(t))t.forEach(e);else for(var n in t)t.hasOwnProperty(n)&&e(t[n])})(t,(t=>{"string"==typeof t&&(t=t.trim().split(/[\t\n\f\r\s]/)),Array.isArray(t)&&(e=e.concat(t))})),e.filter(Boolean)})(e);(n=t,Array.isArray(n)||(n=[n]),t=n).map((t=>{i.map((e=>{t.classList.add(e)}))}))})(t.control_input,"dropdown-input");const e=re('<div class="dropdown-input-wrap">');e.append(t.control_input),t.dropdown.insertBefore(e,t.dropdown.firstChild);const n=re('<input class="items-placeholder" tabindex="-1" />');n.placeholder=t.settings.placeholder||"",t.control.append(n)})),t.on("initialize",(()=>{t.control_input.addEventListener("keydown",(e=>{switch(e.keyCode){case 27:return t.isOpen&&(((t,e=!1)=>{t&&(t.preventDefault(),e&&t.stopPropagation())})(e,!0),t.close()),void t.clearActiveItems();case 9:t.focus_node.tabIndex=-1}return t.onKeyDown.call(t,e)})),t.on("blur",(()=>{t.focus_node.tabIndex=t.isDisabled?-1:t.tabIndex})),t.on("dropdown_open",(()=>{t.control_input.focus()}));const e=t.onBlur;var n;t.hook("instead","onBlur",(n=>{if(!n||n.relatedTarget!=t.control_input)return e.call(t)})),n=()=>t.onBlur(),t.control_input.addEventListener("blur",n,undefined),t.hook("before","close",(()=>{t.isOpen&&t.focus_node.focus({preventScroll:!0})}))}))})),ne.define("input_autogrow",(function(){var t=this;t.on("initialize",(()=>{var e=document.createElement("span"),n=t.control_input;e.style.cssText="position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ",t.wrapper.appendChild(e);for(const t of["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"])e.style[t]=n.style[t];var i=()=>{e.textContent=n.value,n.style.width=e.clientWidth+"px"};i(),t.on("update item_add item_remove",i),ae(n,"input",i),ae(n,"keyup",i),ae(n,"blur",i),ae(n,"update",i)}))})),ne.define("no_backspace_delete",(function(){var t=this,e=t.deleteSelection;this.hook("instead","deleteSelection",(n=>!!t.activeItems.length&&e.call(t,n)))})),ne.define("no_active_items",(function(){this.hook("instead","setActiveItem",(()=>{})),this.hook("instead","selectAll",(()=>{}))})),ne.define("optgroup_columns",(function(){var t=this,e=t.onKeyDown;t.hook("instead","onKeyDown",(n=>{var i,s,r,o;if(!t.isOpen||37!==n.keyCode&&39!==n.keyCode)return e.call(t,n);t.ignoreHover=!0,o=(t=>{for(;t&&t.matches;){if(t.matches("[data-group]"))return t;t=t.parentNode}})(t.activeOption),i=((t,e)=>{if(!t)return-1;e=e||t.nodeName;for(var n=0;t=t.previousElementSibling;)t.matches(e)&&n++;return n})(t.activeOption,"[data-selectable]"),o&&(o=37===n.keyCode?o.previousSibling:o.nextSibling)&&(s=(r=o.querySelectorAll("[data-selectable]"))[Math.min(r.length-1,i)])&&t.setActiveOption(s)}))})),ne.define("remove_button",(function(t){const e=Object.assign({label:"&times;",title:"Remove",className:"remove",append:!0},t);var n=this;if(e.append){var i='<a href="javascript:void(0)" class="'+e.className+'" tabindex="-1" title="'+(e.title+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")+'">'+e.label+"</a>";n.hook("after","setupTemplates",(()=>{var t=n.settings.render.item;n.settings.render.item=(e,s)=>{var r=ce(t.call(n,e,s)),o=ce(i);return r.appendChild(o),le(o,"mousedown",(t=>{ue(t,!0)})),le(o,"click",(t=>{n.isLocked||(ue(t,!0),n.isLocked||n.shouldDelete([r],t)&&(n.removeItem(r),n.refreshOptions(!1),n.inputState()))})),r}}))}})),ne.define("restore_on_backspace",(function(t){const e=this,n=Object.assign({text:t=>t[e.settings.labelField]},t);e.on("item_remove",(function(t){if(e.isFocused&&""===e.control_input.value.trim()){var i=e.options[t];i&&e.setTextboxValue(n.text.call(e,i))}}))})),ne.define("virtual_scroll",(function(){const t=this,e=t.canLoad,n=t.clearActiveOption,i=t.loadCallback;var s,r,o={},a=!1,u=[];if(t.settings.shouldLoadMore||(t.settings.shouldLoadMore=()=>{if(s.clientHeight/(s.scrollHeight-s.scrollTop)>.9)return!0;if(t.activeOption){var e=t.selectable();if(Array.from(e).indexOf(t.activeOption)>=e.length-2)return!0}return!1}),!t.settings.firstUrl)throw"virtual_scroll plugin requires a firstUrl() method";t.settings.sortField=[{field:"$order"},{field:"$score"}];const l=e=>!("number"==typeof t.settings.maxOptions&&s.children.length>=t.settings.maxOptions||!(e in o)||!o[e]),c=(e,n)=>t.items.indexOf(n)>=0||u.indexOf(n)>=0;t.setNextUrl=(t,e)=>{o[t]=e},t.getUrl=e=>{if(e in o){const t=o[e];return o[e]=!1,t}return t.clearPagination(),t.settings.firstUrl.call(t,e)},t.clearPagination=()=>{o={}},t.hook("instead","clearActiveOption",(()=>{if(!a)return n.call(t)})),t.hook("instead","canLoad",(n=>n in o?l(n):e.call(t,n))),t.hook("instead","loadCallback",((e,n)=>{if(a){if(r){const n=e[0];void 0!==n&&(r.dataset.value=n[t.settings.valueField])}}else t.clearOptions(c);i.call(t,e,n),a=!1})),t.hook("after","refreshOptions",(()=>{const e=t.lastValue;var n;l(e)?(n=t.render("loading_more",{query:e}))&&(n.setAttribute("data-selectable",""),r=n):e in o&&!s.querySelector(".no-results")&&(n=t.render("no_more_results",{query:e})),n&&(((t,...e)=>{var n,i=(t=>{var e=[];return((t,e)=>{if(Array.isArray(t))t.forEach(e);else for(var n in t)t.hasOwnProperty(n)&&e(t[n])})(t,(t=>{"string"==typeof t&&(t=t.trim().split(/[\t\n\f\r\s]/)),Array.isArray(t)&&(e=e.concat(t))})),e.filter(Boolean)})(e);(n=t,Array.isArray(n)||(n=[n]),t=n).map((t=>{i.map((e=>{t.classList.add(e)}))}))})(n,t.settings.optionClass),s.append(n))})),t.on("initialize",(()=>{u=Object.keys(t.options),s=t.dropdown_content,t.settings.render=Object.assign({},{loading_more:()=>'<div class="loading-more-results">Loading more results ... </div>',no_more_results:()=>'<div class="no-more-results">No more results</div>'},t.settings.render),s.addEventListener("scroll",(()=>{t.settings.shouldLoadMore.call(t)&&l(t.lastValue)&&(a||(a=!0,t.load.call(t,t.lastValue)))}))}))}));const he=ne;var pe=function(){return pe=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},pe.apply(this,arguments)};function fe(t,e,n){if(n||2===arguments.length)for(var i,s=0,r=e.length;s<r;s++)!i&&s in e||(i||(i=Array.prototype.slice.call(e,0,s)),i[s]=e[s]);return t.concat(i||Array.prototype.slice.call(e))}function me(t){return Array.prototype.slice.call(t)}function ge(t,e){var n=Math.floor(t);return n===e||n+1===e?t:e}function ve(){return Date.now()}function be(t,e,n){if(e="data-keen-slider-"+e,null===n)return t.removeAttribute(e);t.setAttribute(e,n||"")}function xe(t,e){return e=e||document,"function"==typeof t&&(t=t(e)),Array.isArray(t)?t:"string"==typeof t?me(e.querySelectorAll(t)):t instanceof HTMLElement?[t]:t instanceof NodeList?me(t):[]}function ye(t){t.raw&&(t=t.raw),t.cancelable&&!t.defaultPrevented&&t.preventDefault()}function ke(t){t.raw&&(t=t.raw),t.stopPropagation&&t.stopPropagation()}function we(){var t=[];return{add:function(e,n,i,s){e.addListener?e.addListener(i):e.addEventListener(n,i,s),t.push([e,n,i,s])},input:function(t,e,n,i){this.add(t,e,function(t){return function(e){e.nativeEvent&&(e=e.nativeEvent);var n=e.changedTouches||[],i=e.targetTouches||[],s=e.detail&&e.detail.x?e.detail:null;return t({id:s?s.identifier?s.identifier:"i":i[0]?i[0]?i[0].identifier:"e":"d",idChanged:s?s.identifier?s.identifier:"i":n[0]?n[0]?n[0].identifier:"e":"d",raw:e,x:s&&s.x?s.x:i[0]?i[0].screenX:s?s.x:e.pageX,y:s&&s.y?s.y:i[0]?i[0].screenY:s?s.y:e.pageY})}}(n),i)},purge:function(){t.forEach((function(t){t[0].removeListener?t[0].removeListener(t[2]):t[0].removeEventListener(t[1],t[2],t[3])})),t=[]}}}function _e(t,e,n){return Math.min(Math.max(t,e),n)}function Ce(t){return(t>0?1:0)-(t<0?1:0)||+t}function Ae(t){var e=t.getBoundingClientRect();return{height:ge(e.height,t.offsetHeight),width:ge(e.width,t.offsetWidth)}}function Se(t,e,n,i){var s=t&&t[e];return null==s?n:i&&"function"==typeof s?s():s}function Ee(t){return Math.round(1e6*t)/1e6}function Fe(t){var e,n,i,s,r,o,a,u,l,c,d,h,p,f,m=1/0,g=[],v=null,b=0;function x(t){F(b+t)}function y(t){var e=k(b+t).abs;return C(e)?e:null}function k(t){var e=Math.floor(Math.abs(Ee(t/n))),i=Ee((t%n+n)%n);i===n&&(i=0);var s=Ce(t),r=a.indexOf(fe([],a,!0).reduce((function(t,e){return Math.abs(e-i)<Math.abs(t-i)?e:t}))),u=r;return s<0&&e++,r===o&&(u=0,e+=s>0?1:-1),{abs:u+e*o*s,origin:r,rel:u}}function w(t,e,n){var i;if(e||!S())return _(t,n);if(!C(t))return null;var s=k(null!=n?n:b),r=s.abs,a=t-s.rel,u=r+a;i=_(u);var l=_(u-o*Ce(a));return(null!==l&&Math.abs(l)<Math.abs(i)||null===i)&&(i=l),Ee(i)}function _(t,e){if(null==e&&(e=Ee(b)),!C(t)||null===t)return null;t=Math.round(t);var i=k(e),s=i.abs,r=i.rel,u=i.origin,l=E(t),c=(e%n+n)%n,d=a[u],h=Math.floor((t-(s-r))/o)*n;return Ee(d-c-d+a[l]+h+(u===o?n:0))}function C(t){return A(t)===t}function A(t){return _e(t,l,c)}function S(){return s.loop}function E(t){return(t%o+o)%o}function F(e){var n;n=e-b,g.push({distance:n,timestamp:ve()}),g.length>6&&(g=g.slice(-6)),b=Ee(e);var i=L().abs;if(i!==v){var s=null!==v;v=i,s&&t.emit("slideChanged")}}function L(a){var u=a?null:function(){if(o){var t=S(),e=t?(b%n+n)%n:b,a=(t?b%n:b)-r[0][2],u=0-(a<0&&t?n-Math.abs(a):a),m=0,g=k(b),v=g.abs,x=g.rel,y=r[x][2],w=r.map((function(e,i){var r=u+m;(r<0-e[0]||r>1)&&(r+=(Math.abs(r)>n-1&&t?n:0)*Ce(-r));var a=i-x,l=Ce(a),c=a+v;t&&(-1===l&&r>y&&(c+=o),1===l&&r<y&&(c-=o),null!==d&&c<d&&(r+=n),null!==h&&c>h&&(r-=n));var p=r+e[0]+e[1],f=Math.max(r>=0&&p<=1?1:p<0||r>1?0:r<0?Math.min(1,(e[0]+r)/e[0]):(1-r)/e[0],0);return m+=e[0]+e[1],{abs:c,distance:s.rtl?-1*r+1-e[0]:r,portion:f,size:e[0]}}));return v=A(v),x=E(v),{abs:A(v),length:i,max:f,maxIdx:c,min:p,minIdx:l,position:b,progress:t?e/n:b/i,rel:x,slides:w,slidesLength:n}}}();return e.details=u,t.emit("detailsChanged"),u}return e={absToRel:E,add:x,details:null,distToIdx:y,idxToDist:w,init:function(e){if(function(){if(s=t.options,r=(s.trackConfig||[]).map((function(t){return[Se(t,"size",1),Se(t,"spacing",0),Se(t,"origin",0)]})),o=r.length){n=Ee(r.reduce((function(t,e){return t+e[0]+e[1]}),0));var e,l=o-1;i=Ee(n+r[0][2]-r[l][0]-r[l][2]-r[l][1]),a=r.reduce((function(t,n){if(!t)return[0];var i=r[t.length-1],s=t[t.length-1]+(i[0]+i[2])+i[1];return s-=n[2],t[t.length-1]>s&&(s=t[t.length-1]),s=Ee(s),t.push(s),(!e||e<s)&&(u=t.length-1),e=s,t}),null),0===i&&(u=0),a.push(Ee(n))}}(),!o)return L(!0);var g;!function(){var e=t.options.range,n=t.options.loop;d=l=n?Se(n,"min",-1/0):0,h=c=n?Se(n,"max",m):u;var i=Se(e,"min",null),s=Se(e,"max",null);null!==i&&(l=i),null!==s&&(c=s),p=l===-1/0?l:t.track.idxToDist(l||0,!0,0),f=c===m?c:w(c,!0,0),null===s&&(h=c),Se(e,"align",!1)&&c!==m&&0===r[E(c)][2]&&(f-=1-r[E(c)][0],c=y(f-b)),p=Ee(p),f=Ee(f)}(),g=e,Number(g)===g?x(_(A(e))):L()},to:F,velocity:function(){var t=ve(),e=g.reduce((function(e,n){var i=n.distance,s=n.timestamp;return t-s>200||(Ce(i)!==Ce(e.distance)&&e.distance&&(e={distance:0,lastTimestamp:0,time:0}),e.time&&(e.distance+=i),e.lastTimestamp&&(e.time+=s-e.lastTimestamp),e.lastTimestamp=s),e}),{distance:0,lastTimestamp:0,time:0});return e.distance/e.time||0}}}function Le(t){var e,n,i,s,r,o,a,u;function l(t){return 2*t}function c(t){return _e(t,a,u)}function d(t){return 1-Math.pow(1-t,3)}function h(){return i?t.track.velocity():0}function p(t,e){void 0===e&&(e=1e3);var n=147e-9+(t=Math.abs(t))/e;return{dist:Math.pow(t,2)/n,dur:t/n}}function f(){var e=t.track.details;e&&(r=e.min,o=e.max,a=e.minIdx,u=e.maxIdx)}function m(){t.animator.stop()}t.on("updated",f),t.on("optionsChanged",f),t.on("created",f),t.on("dragStarted",(function(){i=!1,m(),e=n=t.track.details.abs})),t.on("dragChecked",(function(){i=!0})),t.on("dragEnded",(function(){var i=t.options.mode;"snap"===i&&function(){var i=t.track,s=t.track.details,a=s.position,u=Ce(h());(a>o||a<r)&&(u=0);var l=e+u;0===s.slides[i.absToRel(l)].portion&&(l-=u),e!==n&&(l=n),Ce(i.idxToDist(l,!0))!==u&&(l+=u),l=c(l);var d=i.idxToDist(l,!0);t.animator.start([{distance:d,duration:500,easing:function(t){return 1+--t*t*t*t*t}}])}(),"free"!==i&&"free-snap"!==i||function(){m();var e="free-snap"===t.options.mode,n=t.track,i=h();s=Ce(i);var a=t.track.details,u=[];if(i||!e){var f=p(i),g=f.dist,v=f.dur;if(v=l(v),g*=s,e){var b=n.idxToDist(n.distToIdx(g),!0);b&&(g=b)}u.push({distance:g,duration:v,easing:d});var x=a.position,y=x+g;if(y<r||y>o){var k=y<r?r-x:o-x,w=0,_=i;if(Ce(k)===s){var C=Math.min(Math.abs(k)/Math.abs(g),1),A=function(t){return 1-Math.pow(1-t,1/3)}(C)*v;u[0].earlyExit=A,_=i*(1-C)}else u[0].earlyExit=0,w+=k;var S=p(_,100),E=S.dist*s;t.options.rubberband&&(u.push({distance:E,duration:l(S.dur),easing:d}),u.push({distance:-E+w,duration:500,easing:d}))}t.animator.start(u)}else t.moveToIdx(c(a.abs),!0,{duration:500,easing:function(t){return 1+--t*t*t*t*t}})}()})),t.on("dragged",(function(){n=t.track.details.abs}))}function Ie(t){var e,n,i,s,r,o,a,u,l,c,d,h,p,f,m,g,v,b,x=we();function y(e){if(o&&u===e.id){var p=C(e);if(l){if(!_(e))return w(e);c=p,l=!1,t.emit("dragChecked")}if(g)return c=p;ye(e);var f=function(e){if(v===-1/0&&b===1/0)return e;var i=t.track.details,o=i.length,a=i.position,u=_e(e,v-a,b-a);if(0===o)return 0;if(!t.options.rubberband)return u;if(a<=b&&a>=v)return e;if(a<v&&n>0||a>b&&n<0)return e;var l=(a<v?a-v:a-b)/o,c=s*o,d=Math.abs(l*c),h=Math.max(0,1-d/r*2);return h*h*e}(a(c-p)/s*i);n=Ce(f);var m=t.track.details.position;(m>v&&m<b||m===v&&n>0||m===b&&n<0)&&ke(e),d+=f,!h&&Math.abs(d*s)>5&&(h=!0),t.track.add(f),c=p,t.emit("dragged")}}function k(e){!o&&t.track.details&&t.track.details.length&&(d=0,o=!0,h=!1,l=!0,u=e.id,_(e),c=C(e),t.emit("dragStarted"))}function w(e){o&&u===e.idChanged&&(o=!1,t.emit("dragEnded"))}function _(t){var e=A(),n=e?t.y:t.x,i=e?t.x:t.y,s=void 0!==p&&void 0!==f&&Math.abs(f-i)<=Math.abs(p-n);return p=n,f=i,s}function C(t){return A()?t.y:t.x}function A(){return t.options.vertical}function S(){s=t.size,r=A()?window.innerHeight:window.innerWidth;var e=t.track.details;e&&(v=e.min,b=e.max)}function E(t){h&&(ke(t),ye(t))}function F(){if(x.purge(),t.options.drag&&!t.options.disabled){var n;n=t.options.dragSpeed||1,a="function"==typeof n?n:function(t){return t*n},i=t.options.rtl?-1:1,S(),e=t.container,function(){var t="data-keen-slider-clickable";xe("[".concat(t,"]:not([").concat(t,"=false])"),e).map((function(t){x.add(t,"dragstart",ke),x.add(t,"mousedown",ke),x.add(t,"touchstart",ke)}))}(),x.add(e,"dragstart",(function(t){ye(t)})),x.add(e,"click",E,{capture:!0}),x.input(e,"ksDragStart",k),x.input(e,"ksDrag",y),x.input(e,"ksDragEnd",w),x.input(e,"mousedown",k),x.input(e,"mousemove",y),x.input(e,"mouseleave",w),x.input(e,"mouseup",w),x.input(e,"touchstart",k,{passive:!0}),x.input(e,"touchmove",y,{passive:!1}),x.input(e,"touchend",w),x.input(e,"touchcancel",w),x.add(window,"wheel",(function(t){o&&ye(t)}));var s="data-keen-slider-scrollable";xe("[".concat(s,"]:not([").concat(s,"=false])"),t.container).map((function(t){return function(t){var e;x.input(t,"touchstart",(function(t){e=C(t),g=!0,m=!0}),{passive:!0}),x.input(t,"touchmove",(function(n){var i=A(),s=i?t.scrollHeight-t.clientHeight:t.scrollWidth-t.clientWidth,r=e-C(n),o=i?t.scrollTop:t.scrollLeft,a=i&&"scroll"===t.style.overflowY||!i&&"scroll"===t.style.overflowX;if(e=C(n),(r<0&&o>0||r>0&&o<s)&&m&&a)return g=!0;m=!1,ye(n),g=!1})),x.input(t,"touchend",(function(){g=!1}))}(t)}))}}t.on("updated",S),t.on("optionsChanged",F),t.on("created",F),t.on("destroyed",x.purge)}function Te(t){var e,n,i=null;function s(e,n,i){t.animator.active?o(e,n,i):requestAnimationFrame((function(){return o(e,n,i)}))}function r(){s(!1,!1,n)}function o(n,s,r){var o=0,a=t.size,c=t.track.details;if(c&&e){var d=c.slides;e.forEach((function(t,e){if(n)!i&&s&&u(t,null,r),l(t,null,r);else{if(!d[e])return;var c=d[e].size*a;!i&&s&&u(t,c,r),l(t,d[e].distance*a-o,r),o+=c}}))}}function a(e){return"performance"===t.options.renderMode?Math.round(e):e}function u(t,e,n){var i=n?"height":"width";null!==e&&(e=a(e)+"px"),t.style["min-"+i]=e,t.style["max-"+i]=e}function l(t,e,n){if(null!==e){e=a(e);var i=n?e:0;e="translate3d(".concat(n?0:e,"px, ").concat(i,"px, 0)")}t.style.transform=e,t.style["-webkit-transform"]=e}function c(){e&&(o(!0,!0,n),e=null),t.on("detailsChanged",r,!0)}function d(){s(!1,!0,n)}function h(){c(),n=t.options.vertical,t.options.disabled||"custom"===t.options.renderMode||(i="auto"===Se(t.options.slides,"perView",null),t.on("detailsChanged",r),(e=t.slides).length&&d())}t.on("created",h),t.on("optionsChanged",h),t.on("beforeOptionsChanged",(function(){c()})),t.on("updated",d),t.on("destroyed",c)}function Oe(t,e){return function(n){var i,s,r,o,a,u=we();function l(t){var e;be(n.container,"reverse","rtl"!==(e=n.container,window.getComputedStyle(e,null).getPropertyValue("direction"))||t?null:""),be(n.container,"v",n.options.vertical&&!t?"":null),be(n.container,"disabled",n.options.disabled&&!t?"":null)}function c(){d()&&g()}function d(){var t=null;if(o.forEach((function(e){e.matches&&(t=e.__media)})),t===i)return!1;i||n.emit("beforeOptionsChanged"),i=t;var e=t?r.breakpoints[t]:r;return n.options=pe(pe({},r),e),l(),k(),w(),b(),!0}function h(t){var e=Ae(t);return(n.options.vertical?e.height:e.width)/n.size||1}function p(){return n.options.trackConfig.length}function f(t){for(var a in i=!1,r=pe(pe({},e),t),u.purge(),s=n.size,o=[],r.breakpoints||[]){var l=window.matchMedia(a);l.__media=a,o.push(l),u.add(l,"change",c)}u.add(window,"orientationchange",y),u.add(window,"resize",x),d()}function m(t){n.animator.stop();var e=n.track.details;n.track.init(null!=t?t:e?e.abs:0)}function g(t){m(t),n.emit("optionsChanged")}function v(t,e){if(t)return f(t),void g(e);k(),w();var i=p();b(),p()!==i?g(e):m(e),n.emit("updated")}function b(){var t=n.options.slides;if("function"==typeof t)return n.options.trackConfig=t(n.size,n.slides);for(var e=n.slides,i=e.length,s="number"==typeof t?t:Se(t,"number",i,!0),r=[],o=Se(t,"perView",1,!0),a=Se(t,"spacing",0,!0)/n.size||0,u="auto"===o?a:a/o,l=Se(t,"origin","auto"),c=0,d=0;d<s;d++){var p="auto"===o?h(e[d]):1/o-a+u,f="center"===l?.5-p/2:"auto"===l?0:l;r.push({origin:f,size:p,spacing:a}),c+=p}if(c+=a*(s-1),"auto"===l&&!n.options.loop&&1!==o){var m=0;r.map((function(t){var e=c-m;return m+=t.size+a,e>=1||(t.origin=1-e-(c>1?0:1-c)),t}))}n.options.trackConfig=r}function x(){k();var t=n.size;n.options.disabled||t===s||(s=t,v())}function y(){x(),setTimeout(x,500),setTimeout(x,2e3)}function k(){var t=Ae(n.container);n.size=(n.options.vertical?t.height:t.width)||1}function w(){n.slides=xe(n.options.selector,n.container)}n.container=(a=xe(t,document)).length?a[0]:null,n.destroy=function(){u.purge(),n.emit("destroyed"),l(!0)},n.prev=function(){n.moveToIdx(n.track.details.abs-1,!0)},n.next=function(){n.moveToIdx(n.track.details.abs+1,!0)},n.update=v,f(n.options)}}var Me=function(t,e,n){try{return function(t,e){var n,i={};return n={emit:function(t){i[t]&&i[t].forEach((function(t){t(n)}));var e=n.options&&n.options[t];e&&e(n)},moveToIdx:function(t,e,i){var s=n.track.idxToDist(t,e);if(s){var r=n.options.defaultAnimation;n.animator.start([{distance:s,duration:Se(i||r,"duration",500),easing:Se(i||r,"easing",(function(t){return 1+--t*t*t*t*t}))}])}},on:function(t,e,n){void 0===n&&(n=!1),i[t]||(i[t]=[]);var s=i[t].indexOf(e);s>-1?n&&delete i[t][s]:n||i[t].push(e)},options:t},function(){if(n.track=Fe(n),n.animator=function(t){var e,n,i,s,r,o;function a(e){o||(o=e),u(!0);var r=e-o;r>i&&(r=i);var d=s[n];if(d[3]<r)return n++,a(e);var h=d[2],p=d[4],f=d[0],m=d[1]*(0,d[5])(0===p?1:(r-h)/p);if(m&&t.track.to(f+m),r<i)return c();o=null,u(!1),l(null),t.emit("animationEnded")}function u(t){e.active=t}function l(t){e.targetIdx=t}function c(){var t;t=a,r=window.requestAnimationFrame(t)}function d(){var e;e=r,window.cancelAnimationFrame(e),u(!1),l(null),o&&t.emit("animationStopped"),o=null}return e={active:!1,start:function(e){if(d(),t.track.details){var r=0,o=t.track.details.position;n=0,i=0,s=e.map((function(t){var e,n=Number(o),s=null!==(e=t.earlyExit)&&void 0!==e?e:t.duration,a=t.easing,u=t.distance*a(s/t.duration)||0;o+=u;var l=i;return i+=s,r+=u,[n,t.distance,l,i,t.duration,a]})),l(t.track.distToIdx(r)),c(),t.emit("animationStarted")}},stop:d,targetIdx:null}}(n),e)for(var t=0,i=e;t<i.length;t++)(0,i[t])(n);n.track.init(n.options.initial||0),n.emit("created")}(),n}(e,fe([Oe(t,{drag:!0,mode:"snap",renderMode:"precision",rubberband:!0,selector:".keen-slider__slide"}),Te,Ie,Le],n||[],!0))}catch(t){console.error(t)}},Be=function(){function t(e,n){var i=this;this.owner=n,this.dom={root:e},this.dom.currentCheckbox=e.querySelector(".multilevel-checklist__checkbox_current"),this.dom.inner=e.querySelector(".multilevel-checklist__inner"),this.children=Array.from(this.dom.inner.children).map((function(e){return function(t){return t.classList.contains("multilevel-checklist")}(e)?new t(e,i):new De(e.querySelector(".multilevel-checklist__checkbox"),i)})),this.dom.currentCheckbox.addEventListener("click",(function(){i.handleToggle()}))}return t.prototype.handleToggle=function(){this.setChecked("incomplete"===this.checked||this.checked)},t.prototype.setChecked=function(t){var e;this.setMainCheckboxChecked(t),this.children.forEach((function(e){return e.setChecked(t,"down")})),null===(e=this.owner)||void 0===e||e.handleChange()},t.prototype.setMainCheckboxChecked=function(t){"incomplete"===t?(this.dom.currentCheckbox.checked=!1,this.dom.currentCheckbox.setAttribute("data-incomplete",!0)):(this.dom.currentCheckbox.checked=t,this.dom.currentCheckbox.removeAttribute("data-incomplete"))},Object.defineProperty(t.prototype,"checked",{get:function(){return this.dom.currentCheckbox.hasAttribute("data-incomplete")?"incomplete":this.dom.currentCheckbox.checked},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childrenState",{get:function(){for(var t,e,n=0;n<this.children.length;n++){var i=this.children[n];if(console.log(i.checked,typeof i.checked),"incomplete"===i.checked?(t=!0,e=!0):!1===i.checked?t=!0:e=!0,t&&e)break}return!!e&&(!t||"incomplete")},enumerable:!1,configurable:!0}),t.prototype.handleChange=function(){var t;this.setMainCheckboxChecked(this.childrenState,"up"),null===(t=this.owner)||void 0===t||t.handleChange("up")},t}(),De=function(){function t(t,e){this.owner=e,this.dom={root:t},t.addEventListener("change",(function(t){t.__skip||e.handleChange("up")}))}return t.prototype.setChecked=function(t,e){this.dom.root.checked=t},Object.defineProperty(t.prototype,"checked",{get:function(){return this.dom.root.checked},enumerable:!1,configurable:!0}),t}();const Pe=function(t){this.dom={root:t},this.rootNode=new Be(t)};var Ve=".double-range-select__range-from",ze=".double-range-select__range-to";function Re(t){return[parseInt(t.getAttribute("min"),10)||0,parseInt(t.getAttribute("max"),10)||100]}function qe(t,e){return[parseInt(t.value,10),parseInt(e.value,10)]}n(181);var Ne,je,He={},We={};window.app=window.app||{},window.app.hoverMedia=window.matchMedia("(any-hover: hover)"),window.app.events=new N,document.documentElement.style.setProperty("--scroll-width","".concat(window.innerWidth-document.documentElement.offsetWidth,"px")),document.documentElement.classList.toggle("is-mobile",U.any()),document.querySelectorAll('[data-component*=":amount-select:"]').forEach((function(t){var e=t.querySelector("input");t.addEventListener("click",(function(t){var n=t.target,i="BUTTON"===n.tagName?n:n.closest("button");i&&(i.classList.contains("amount-select__btn_dec")?e.value=+e.value-1:e.value=+e.value+1,+e.value<0&&(e.value=0),e.dispatchEvent(new Event("change",{bubbles:!0})))})),e.addEventListener("input",(function(t){+e.value<0&&(e.value=0)}))})),document.querySelectorAll('[data-component*=":tabs-switch:"]').forEach((function(t){new R(t)})),document.querySelectorAll('[data-component*=":tabs-list:"]').forEach((function(t){var e=t.getAttribute("data-tabs-for");if(e){var n=document.querySelector('[data-component*=":tabs-switch:"][data-switch-for="'.concat(e,'"]'));n&&new q(t,n)}}));var Ue='[data-component*=":lang-switch:"]',$e=".lang-switch__panel";document.querySelectorAll(Ue).forEach((function(t){t.addEventListener("click",(function(e){e.stopPropagation(),e.target instanceof Element&&e.target.matches("".concat($e,", ").concat($e," *"))||t.classList.toggle("_open")})),t.querySelector(".lang-switch__close-btn").addEventListener("click",(function(){t.classList.remove("_open")})),document.addEventListener("click",(function(e){var n=e.target;n instanceof Element&&(n.closest("".concat(Ue,", ").concat($e))||n.matches("".concat(Ue,", ").concat(Ue," *, ").concat($e,", ").concat($e," *")))||t.classList.remove("_open")}))}));var Ye=function(){function t(t,e){var n=this;this.owner=e,this.dom={root:t,input:t.querySelector(".search-field__input"),openBtn:t.querySelector(".search-field__open-btn"),closeBtn:t.querySelector(".search-field__close-btn")},this.dom.closeBtn.addEventListener("click",(function(){return n.setOpen(!1)})),t.addEventListener("click",(function(t){t.target.closest(".search-field__open-btn")&&n.toggleOpen()})),this.dom.input.addEventListener("input",(function(t){return n.handleInput(t)}))}return t.prototype.handleInput=function(t){this.owner.update()},t.prototype.toggleOpen=function(){this.setOpen(!this.open)},t.prototype.setOpen=function(t){var e=this;this.open=t,this.dom.closeBtn.toggleAttribute("disabled",!t),this.dom.root.classList.toggle("_open",t),t&&setTimeout((function(){return e.dom.input.focus()}),100),this.owner.update()},t}(),Xe=function(){function t(t){var e=this;this.dom={root:t},this.dom.results=t.querySelector(".search__results"),this.field=new Ye(t.querySelector(".search__field"),this),document.addEventListener("click",(function(t){return e.handleOutsideClick(t)})),setTimeout((function(){app.drawers.get("search-results").setOptions({closeOnOutsideClick:{checkTarget:function(t){return t.matches(".search-field")}}})}),0)}return t.prototype.shouldShowResults=function(){return this.field.dom.input.value.length>=3&&this.field.open},t.prototype.update=function(){this.setShowResults(this.shouldShowResults())},t.prototype.handleOutsideClick=function(t){var e=this,n=t.composedPath();Boolean(n.find((function(t){return t===e.field.dom.root||t===e.dom.results})))||this.field.setOpen(!1)},t.prototype.setShowResults=function(t){this.dom.root.classList.toggle("_show-results",t),t?app.drawers.open("search-results"):app.drawers.close("search-results")},t}();document.querySelectorAll('[data-component*=":search:"]').forEach((function(t){return new Xe(t)})),new W(document.querySelector("#header")),function(){console.log("Portals have been initialized");var t=document.querySelectorAll("[data-portal-src]"),e=document.querySelectorAll("[data-portal-dest]"),n=[].reduce.call(e,(function(t,e){return t[e.getAttribute("data-portal-dest")]=e,t}),{});function i(t){var e=t.matches,n=t.media;console.log(e,n,He);var i=He[n];e?i.swaped||(i.stack.forEach((function(t){t.dest.append.apply(t.dest,t.src.childNodes)})),i.swaped=!0):i.swaped&&(i.stack.forEach((function(t){t.src.append.apply(t.src,t.dest.childNodes)})),i.swaped=!1)}t.forEach((function(t){var e=t.getAttribute("data-portal-src"),s=t.getAttribute("data-portal-media")||"(max-width: 767.98px)";if(n[e])if(We[s]){var r=We[s].media;He[r].stack.push({src:t,dest:n[e]})}else{var o=window.matchMedia(s);We[s]=o,He[o.media]={mediaMatch:o,stack:[{src:t,dest:n[e]}],swaped:!1},o.addListener(i)}})),Object.entries(We).forEach((function(t){return t[0],i(t[1])}))}(),app.drawers.init(),null===(Ne=app.drawers.get("storefront-filters"))||void 0===Ne||Ne.setOptions({modal:!1,lockPageScroll:!1}),matchMedia("(max-width: 768px)").addEventListener("change",(function(t){t.matches||app.drawers.close("burger-menu")})),document.querySelectorAll('[data-component*=":select:"]').forEach((function(t){var e,n,i=null===(n=null===(e=t.getAttribute("data-type"))||void 0===e?void 0:e.match(/:select.(\w+):/))||void 0===n?void 0:n[1],s={controlClass:"select__control",dropdownClass:"select__dropdown",dropdownContentClass:"select__options-list",optionClass:"select__option",itemClass:"select__item",plugins:{addons:{},dropdown_position:{}}};switch("field"==i&&(s.wrapperClass="select select_field"),i){case"simple":case"field":s.controlInput=!1}he.define("dropdown_position",(function(t){this.on("dropdown_open",n);var e=this;function n(){e.wrapper.getBoundingClientRect().right-300>0||e.wrapper.offsetWidth>300?(e.dropdown.classList.remove("select__dropdown_left"),e.dropdown.classList.add("select__dropdown_right")):(e.dropdown.classList.remove("select__dropdown_right"),e.dropdown.classList.add("select__dropdown_left"))}window.addEventListener("resize",z(n,25))})),he.define("addons",(function(t){var e=this;void 0===t&&(t={}),this.hook("after","setup",(function(){var t=document.createElement("span");t.classList.add("icon-small-thick-arrow-down","ts-state-indicator"),e.control.append(t)})),this.hook("after","open",(function(){e.dropdown.classList.add("open"),e.dropdown.setAttribute("aria-hidden",!1)})),this.hook("after","close",(function(){e.dropdown.classList.remove("open"),e.dropdown.setAttribute("aria-hidden",!0),e.blur()}))})),new he(t,s)})),document.querySelectorAll('[data-component*=":grid-type-select:"]').forEach((function(t){var e=t.closest(".storefront"),n=t.querySelector(".grid-type-select__btn_grid"),i=t.querySelector(".grid-type-select__btn_column");n.addEventListener("click",(function(){e.classList.add("_layout-grid"),e.classList.remove("_layout-column"),n.classList.add("_active"),i.classList.remove("_active"),window.app.events.emit("storefront-grid-change")})),i.addEventListener("click",(function(){e.classList.remove("_layout-grid"),e.classList.add("_layout-column"),i.classList.add("_active"),n.classList.remove("_active"),window.app.events.emit("storefront-grid-change")}))})),document.querySelectorAll('[data-component*=":recomendations:"]').forEach((function(t){var e,n,i=t.querySelector(".recomendations__body"),s=null,r=null,o=function(t){s=setInterval((function(){return t.next()}),3e3)},a=new Me(i,{loop:!0,selector:".recomendations__item",slides:{perView:4,spacing:30},breakpoints:{"(max-width: 1024px)":{slides:{perView:3,spacing:20}},"(max-width: 768px)":{slides:{perView:2,spacing:20}}},created:function(t){return o(t)},slideChanged:function(){clearInterval(s),clearTimeout(r),r=setTimeout((function(){return o(a)}),2e3)}});null===(e=t.querySelector(".recomendations__btn_prev"))||void 0===e||e.addEventListener("click",(function(){return a.prev()})),null===(n=t.querySelector(".recomendations__btn_next"))||void 0===n||n.addEventListener("click",(function(){return a.next()}))})),document.querySelectorAll('[data-component*=":category-recomendations:"]').forEach((function(t){var e=t.querySelector(".recomendations__body");new Me(e,{loop:!0,disabled:!0,selector:".recomendations__item",breakpoints:{"(max-width: 768px)":{disabled:!1,slides:{perView:"auto",spacing:16}}}})})),document.querySelectorAll('[data-component*=":multilevel-checklist:"]').forEach((function(t){new Pe(t)})),document.querySelectorAll('[data-component*=":product-card-media:"]').forEach((function(t){var e=t.querySelector(".product-card-media__main"),n=t.querySelector(".product-card-media-thumbs__body"),i=t.querySelector(".product-card-media-thumbs__prev-btn"),s=t.querySelector(".product-card-media-thumbs__next-btn"),r=new Me(e,{loop:!0,selector:".product-card-main-media__item",disabled:!0,breakpoints:{"(max-width: 1024px)":{disabled:!1,slides:{perView:1,spacing:0}},"(max-width: 768px)":{disabled:!1,slides:{perView:2.2,spacing:7}},"(max-width: 520px)":{disabled:!1,slides:{perView:1,spacing:7}}}}),o=Math.max(100/r.slides.length,14);t.style.setProperty("--basis","".concat(o,"%")),r.on("detailsChanged",(function(e){t.style.setProperty("--shift","".concat(100*e.track.details.progress,"%"))})),i.addEventListener("click",(function(){a.prev()})),s.addEventListener("click",(function(){a.next()}));var a=new Me(n,{loop:!0,selector:".product-card-media-thumbs__item",vertical:!0,slides:{perView:3,spacing:10}});a.slides.forEach((function(t,e){t.addEventListener("click",(function(){return r.moveToIdx(e)}))}))}));var Ke=document.querySelector("#seo-hidden");Ke&&(null===(je=document.querySelector("#seo-toggle-btn"))||void 0===je||je.addEventListener("click",(function(){Ke.classList.toggle("_open")}))),document.querySelectorAll('[data-component*=":scroll-slider:"]').forEach((function(t){new Me(t,{selector:"scroll-slider__slide",slides:{perView:"auto"},mode:"free"})})),document.querySelectorAll('[data-component*=":variants-slider:"]').forEach((function(t){new Me(t,{selector:".product-card__variant-item",disabled:!1,slides:{perView:2.4,spacing:10},mode:"free",breakpoints:{"(min-width: 1024px)":{disabled:!0,slides:{perView:"auto"}}}})})),document.querySelectorAll('[data-component*=":pass-mode-toggle:"]').forEach((function(t){var e=t.closest(".form-field"),n=e.querySelector("input");t.addEventListener("click",(function(){e.classList.toggle("form-field_show-pass"),e.classList.contains("form-field_show-pass")?n.setAttribute("type","text"):n.setAttribute("type","password")}))})),document.querySelectorAll('[data-component*=":feedbacks-slider:"]').forEach((function(t){var e=t.querySelector(".feedbacks-slider__body"),n=t.querySelector(".feedbacks-slider__prev-btn"),i=t.querySelector(".feedbacks-slider__next-btn"),s=new Me(e,{loop:!0,selector:".feedback-art-card",slides:{origin:"center",perView:"auto",spacing:60},breakpoints:{"(max-width: 1620px)":{slides:{origin:"center",perView:"auto",spacing:40}},"(max-width: 768px)":{slides:{origin:"center",perView:"auto",spacing:20}}}});n.addEventListener("click",(function(){s.prev()})),i.addEventListener("click",(function(){s.next()}))})),window.app.initCardSlider=function(t){var e=t.querySelector(".card-slider__main"),n=t.querySelector(".card-slider__bullets"),i=new Me(e,{selector:".card-slider__img",slides:{perView:1,spacing:0}});e.addEventListener("pointermove",z((function(t){var n=t.offsetX,s=e.offsetWidth/i.slides.length,r=Math.floor(n/s);i.track.details.rel!==r&&i.moveToIdx(r)})),25),i.slides.forEach((function(t,e){var s=document.createElement("span");s.classList.add("card-slider__bullet"),s.classList.toggle("_active",e===i.track.details.rel),n.append(s)})),setTimeout((function(){return i.update()}),0),i.on("slideChanged",(function(){for(var t=0;t<n.children.length;t++)n.children[t].classList.toggle("_active",t===i.track.details.rel)})),window.app.events.on("storefront-grid-change",(function(){return i.update()}))},document.querySelectorAll('[data-component*=":card-slider:"]').forEach((function(t){return window.app.initCardSlider(t)})),document.querySelectorAll('[data-component*=":tel-mask:"]').forEach((function(t){return new IMask(t,{lazy:!1,mask:"+{38}(000)00-00-000"})})),function(t){var e=Ve,n=ze;function i(e,n,i){var s=Re(e),r=s[0],o=s[1]-r,a=(n-r)/o*100,u=(i-r)/o*100,l="linear-gradient(90deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0) ".concat(a,"%, ")+"".concat(t," ").concat(a,"%, ").concat(t," ").concat(u,"%, ")+"rgba(0, 0, 0, 0) ".concat(u,"%, rgba(0, 0, 0, 0) 100%)");e.style.backgroundImage=l}document.querySelectorAll('[data-component*=":multy-range-select:"]').forEach((function(t){var s=t.querySelector(e),r=t.querySelector(n),o=qe(s,r),a=o[0],u=o[1];i(s,a,u),s.addEventListener("input",(function(t){var e=qe(s,r),n=e[0],o=e[1];n>o&&(s.value=o),i(s,n,o)})),r.addEventListener("input",(function(t){var e=qe(s,r),n=e[0],o=e[1];o<n&&(r.value=n),i(s,n,o)})),s.addEventListener("direct-input-change",(function(t){var e=qe(s,r),n=e[0],o=e[1];i(s,n,o)}))}))}("#000"),document.querySelectorAll('[data-component*=":multy-input:"]').forEach((function(t){var e=t.querySelector(Ve),n=t.querySelector(ze),i=Re(e),s=i[0],r=i[1],o=t.querySelector(".value-multi-input__value-from"),a=t.querySelector(".value-multi-input__value-to");o.value=e.value,a.value=n.value,o.addEventListener("change",(function(t){var n=qe(o,a),i=n[0],r=n[1];i>r?o.value=r:i<s&&(o.value=s),e.value=o.value,e.dispatchEvent(new CustomEvent("direct-input-change"))})),a.addEventListener("change",(function(t){var i=qe(o,a),s=i[0],u=i[1];u<s?a.value=s:u>r&&(a.value=r),n.value=a.value,e.dispatchEvent(new CustomEvent("direct-input-change"))})),e.addEventListener("input",(function(){o.value=e.value,o.dispatchEvent(new Event("change",{bubbles:!0}))})),n.addEventListener("input",(function(){a.value=n.value,a.dispatchEvent(new Event("change",{bubbles:!0}))}))})),document.querySelectorAll('[data-component*=":disclosure:"]').forEach((function(t){return new K(t)}))})()})();